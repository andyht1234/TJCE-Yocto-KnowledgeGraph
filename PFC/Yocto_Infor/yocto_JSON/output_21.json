[
    "* CDN for sstate.yoctoproject.org\n@ 2023-09-22 17:32 Michael Halstead\n  2023-09-22 19:03 ` Michael Halstead\n  2023-10-17 15:33 ` Alexander Kanavin\n  0 siblings, 2 replies; 10+ messages in thread\nFrom: Michael Halstead @ 2023-09-22 17:32 UTC (permalink / raw)\n  To: Alexander Kanavin, Yocto-mailing-list; +Cc: Richard Purdie\n\n\n[-- Attachment #1.1: Type: text/plain, Size: 1616 bytes --]\n\nRight now we have https://cdn.jsdelivr.net/yocto/sstate set up as a CDN\nmirroring proxy endpoint. It's fast and completely free to the project.\nHowever, it will only work for files smaller than 64MB and will send a\nredirect to the main server at sstate.yoctoproject.org for files larger\nthan 64MB.\n\nThe good news is that we have a fast free CDN provided by\nhttps://www.jsdelivr.com/ and their many sponsors for 99.4% of our files.\n\nHere is an estimated distribution of sstate files currently available:\n1 KB-4 KB: 103168\n4 KB-16 KB: 1218048\n16 KB-64 KB: 1886976\n64 KB-256 KB: 1225216\n256 KB-1 MB: 170752\n1 MB-4 MB: 92928\n4 MB-16 MB: 83200\n16 MB-64 MB: 40448\n64 MB-256 MB: 17664\n256 MB-1 GB: 7936\n1 GB-4 GB: 2560\n\nI'm still working on a CDN solution for the larger files but we can begin\ntesting https://cdn.jsdelivr.net/yocto/sstate today.\n\nHere is an example link to a file that is currently popular from each\nlocation:\n\nhttp://sstate.yoctoproject.org/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n\nhttps://cdn.jsdelivr.net/yocto/sstate/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n\nI'm also attaching a list of the largest files in sstate. Anything we can\ndo to reduce the size of these or to split them into smaller pieces will\nhelp with hosting and with the user's download experience.\n\n-- \nMichael Halstead\nLinux Foundation / Yocto Project\nSystems Operations Engineer\n\n[-- Attachment #1.2: Type: text/html, Size: 2767 bytes --]\n\n[-- Attachment #2: sstate-sizes.txt --]\n[-- Type: text/plain, Size: 38485 bytes --]\n\n1.5G\t./a8/b4/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:a8b46f6a3a1bc1cf2b87868b874cb5fdee215e54ec9c0137e158928338a67929_package.tar.zst\n1.5G\t./c4/dd/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:c4dd7c7b4d30a76d8a6dc949b358a9c36a6ee0b51f767c2d212c9de17fc3f642_package.tar.zst\n1.5G\t./a3/65/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:a365274c552d9522255d5ecb00772c66a0c247c564f640a6f306e6223996dbe1_package.tar.zst\n1.5G\t./8b/55/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:8b55b88056e5949753a2e8c22a05c6ed0e67ba7a62057b0af1c85039af708e57_package.tar.zst\n1.5G\t./3e/fd/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:3efd12902f0bd914a06baa52ba8ea3dc5245b50a72d1f5be230a785953430050_package.tar.zst\n1.5G\t./51/a8/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:51a8aac859e1fe22e41a0cbf3bc7f4b6be5f2d6083890a0c1ad30ef04cbd562a_package.tar.zst\n1.5G\t./be/cc/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:becc86252d869953af9a0551a714eecb8293b2003f055240f3d62a08cf6fb587_package.tar.zst\n1.5G\t./11/38/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:11382ddafe9d877b423368098b3767cdb76997596258ac0b5abe84e039de792a_package.tar.zst\n1.5G\t./65/f3/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:65f364cf45aa1cdfad4ab2a06ac83f8c5192e50e934a5c80f3b3ece9e13e9d7f_package.tar.zst\n1.5G\t./d8/59/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:d859b97500df7b9583005d5d133f756ad9993ced0d87b3a3374ab8a284ed5203_package.tar.zst\n1.5G\t./5c/17/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:5c1791c3fb9aa770d6fe841c1edcaf92acf5036df04fef64d0d1f920bc12123e_package.tar.zst\n1.5G\t./35/45/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:3545516b619f151bcf2f284ee0aafe6026703f260c2637a5903c3045b61d786a_package.tar.zst\n1.5G\t./0f/60/sstate:webkitgtk:core2-64-poky-linux-musl:2.40.5:r0:core2-64:11:0f60d7aa20cb7ff17dc3fc2253f084e1c2619ce9a271ebe63d0a33d0eefacc9d_package.tar.zst\n1.5G\t./78/8c/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:788c4637e942d30a42bc5cc091ee8bf09bed90dc88ad97906e6cbdf4f69ba478_package.tar.zst\n1.5G\t./f2/98/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:f2982a32c5eb50c35ab6ff911f3e6a425dcaba54dc05a8d7acb33e49ce001762_package.tar.zst\n1.5G\t./ed/91/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:ed91adec9fab6be660905c14573d83b29edc638142a696ea10a84f159b97feab_package.tar.zst\n1.5G\t./f3/7e/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:f37eb7f6f9a0b5a5e892b9aaedb0cd06dc3448427b4a60390c47a424d5569bd8_package.tar.zst\n1.5G\t./5c/a6/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:5ca63e9f225aa53ce2e4d23aea4d80610f381aec9fc66d34b6117b0421dad349_package.tar.zst\n1.5G\t./bf/db/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:bfdbea005a7941b35b5dc182763c59b19e84f3fb06a60692351358416ebf4106_package.tar.zst\n1.5G\t./30/88/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:3088790a9fb368501eab1135fce08fc4653cc0c4c3e7979cf3a0bc5730549ae2_package.tar.zst\n1.5G\t./6b/c9/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:6bc94a716ef0da710d58e55bbefd7645d59918edbb4dc4b8b367452020540c6e_package.tar.zst\n1.5G\t./e9/02/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:e90262ca7a533108ac21a6bedb0509ec057e14f168ba3c5bd56b90bb34821845_package.tar.zst\n1.5G\t./93/8e/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:938e2d168522f853c1b4e2eb1e47230b7297287061c3d23eb51fc84877de8afc_package.tar.zst\n1.5G\t./fa/70/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:fa70b0771fcc32d8027fc7b4e5270a9672b2959a5852d0cdcfeb6adce3bb762a_package.tar.zst\n1.5G\t./7e/a5/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:7ea52d6a35c4bcc43e4577fd80cacc2260597e3dd0e9367b279b6d77301fd681_package.tar.zst\n1.5G\t./a5/a9/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:a5a9a5356ebb19bd7e05972d3f31f363b590a7f3a578237de0c9cdee687aff21_package.tar.zst\n1.5G\t./3b/9a/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:3b9a750db13bf4c57693c6532b121d4c322ee063cf1d647842bb1c6f3591d3b4_package.tar.zst\n1.5G\t./49/55/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:49551b849f235c160204fc5b38c4cedb6365f550437a748829eb852d43846e8a_package.tar.zst\n1.5G\t./95/56/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:9556ba7a63b6cea546dc7007feb109e5413c2246d00c3537e2e0bb5615e6888c_package.tar.zst\n1.5G\t./4c/91/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:4c91e4da2672dd1db1d5309001040e46889ac12467d7bacc550509f722cc378a_package.tar.zst\n1.5G\t./ce/08/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:ce08798734013aa4b6c60936f8865eae56d5d2745dd546eaaf71c61f2600e3bf_package.tar.zst\n1.5G\t./70/2a/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:702ae1243201f49d27b8b7e30997069dc1ba542bc8700a395735f6ff78694f42_package.tar.zst\n1.5G\t./8d/39/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:8d3978c7f04d519e8c3a611404c919f084a12b8cbbe4ac65fee67e6142fdd967_package.tar.zst\n1.5G\t./54/6a/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:546ad250755d3ef82e1777030f8e06a66faf0e006dae2d5fb9e98a14b078dc45_package.tar.zst\n1.5G\t./bd/d8/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:bdd88707ff21d31ebc8ae669e4c9fdada59bc86f4f2bcf6e98a6c97263cda954_package.tar.zst\n1.5G\t./15/9a/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:159a0e76674ad76bdfbaafb385fc9e3741fb84016a54183c2e555a8ac3fbeb13_package.tar.zst\n1.5G\t./94/f3/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:94f39b10c45779d9b34fb0a761caa032579a4dc1f90cb044bb3069e185179212_package.tar.zst\n1.5G\t./8f/e8/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:8fe82cddf9ca7c0775f251725c0a04ac1349f14d3e80fab0cb2e18169ce8043b_package.tar.zst\n1.5G\t./2f/9f/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:2f9f6fa2a338341ee6624d0c0a7048ac878a59a901d45b0b82311bc285938700_package.tar.zst\n1.5G\t./06/c4/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:06c44834f4da8f65322602b5dc6569f264158ec7f6219a495ca88fffbd61fa27_package.tar.zst\n1.5G\t./dc/eb/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:dceb009b7ac69d7fe395b21e1f52728a7c376af13763e67395474ea0ec6f6abb_package.tar.zst\n1.5G\t./1b/cd/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:1bcd3c8e3ccb4c82632fa4eaf62aa416e16603bf0c4360cc7616c884027f022c_package.tar.zst\n1.5G\t./6e/97/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:6e976720c96b2d7c43c68ced28db1741fb2f7e1a881cbdcf3f9d72a558f1ea87_package.tar.zst\n1.5G\t./8d/7f/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:8d7f76bc1b59e447ffca6a72336108b8b2933e3cba6f51a327a9629408f355fb_package.tar.zst\n1.5G\t./80/ac/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:80acf6e07fb1021d373ac43eaeea894522111944f53077dc09ab3e7cad97e32b_package.tar.zst\n1.5G\t./cc/5c/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:cc5cb39045f4faf85935a39af57afa78a38f061f44296bf318bf89bc906c306e_package.tar.zst\n1.5G\t./87/5b/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:875b50c1f82108bebcbd19fc1d538e5da5b81a58caef5a7b4d841691487f8dfa_package.tar.zst\n1.5G\t./95/f9/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:95f9021363541bd0153639482273c114e763d6c04379b4efdf9a4aa2537b8859_package.tar.zst\n1.5G\t./4c/ed/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:4cedcd0a40f068de37698c05cff3826c72e5204d4ecba65ba85d83776f05b3c3_package.tar.zst\n1.5G\t./6f/de/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:6fde6f4ff45f219dc0b87dd2a7117053648183208f6a8db03b84764eb3718d3d_package.tar.zst\n1.5G\t./23/9f/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:239f00093659992df4bce336e23b9c4edcab6d102a8252abd18abee0dfb98d98_package.tar.zst\n1.5G\t./83/cd/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:83cdff8fece186c36ff5c6f1509acd5394293e5242861dd51a54e653a2ba68e1_package.tar.zst\n1.5G\t./3d/b5/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:3db5b0bf329131d37e2505be042613ce516bb6043b201d6a50ec8c690ab61a20_package.tar.zst\n1.5G\t./4c/42/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:4c423ae94beb69550582ae0b0ec7f21d8a336088cd77a3b5f871a3c69fd0de73_package.tar.zst\n1.5G\t./54/91/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:549111bf9b6a4675e1c3f5eb8314692e4b49f35c79ba1a87f595006e23a7e3c6_package.tar.zst\n1.5G\t./49/cb/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:49cb3a9a252ebe33296cb6b0e1790c6ccc72c6beb6a182f16970267f7674e2c7_package.tar.zst\n1.5G\t./26/db/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:26dbb9ab2cb0c611fc872e26e126be1536a1285dfb75a71e8b31a78fdda601d3_package.tar.zst\n1.5G\t./fa/3d/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:fa3dacbe386d1553e7f63737ad74d38ddcc17a954d7d06051a1b730851931f3e_package.tar.zst\n1.5G\t./01/a9/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:01a924d50cd0fb0c66cc672d90625d1e715c652ebc5359be8e8788a4bbedfa8f_package.tar.zst\n1.5G\t./45/22/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:4522e5fc65dbc80559f865fe942743a3ef431eb9d84e7c8c0c19cc7418b89f03_package.tar.zst\n1.5G\t./de/0f/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:de0fd32c6a462834fce28bacc08d16d879da444cd45ab33947ff6e57940b5602_package.tar.zst\n1.5G\t./11/13/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:1113f057642e520e586a6ece3a76aa4caf4b10bfb77f36ab1971f0ce51e01f47_package.tar.zst\n1.5G\t./39/29/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:3929ece3c31ee8b344a0b7d92b2623091970ef0b2e6db9f0588fbe8d4049e2d3_package.tar.zst\n1.5G\t./05/ec/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:05ecc508985c1056636fc192b60176dd23840e72ed4f9c6c558e00aad614f49b_package.tar.zst\n1.5G\t./a8/dd/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:a8dde565547c975b3306bbeab61553e142615014f951533fe575399a7827707e_package.tar.zst\n1.5G\t./53/13/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:5313f25e304e0580541aea1734802a2573a0564ef7b430f4ffb83aa7a6faa63f_package.tar.zst\n1.5G\t./32/60/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:32602078d15fb42d92f3e4a6b590c0be5453866f478fdad944d7ed81ca89e731_package.tar.zst\n1.5G\t./87/3f/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:873f8e5a9bb89b04c2555ea21bd1b40c243c4e0cfd067ce427fe1e831e3ac9eb_package.tar.zst\n1.5G\t./d5/c2/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:d5c218db2ddf5cd5a42a2322f052b1b86b4366412656d1e0dc6b9ad94b9ae279_package.tar.zst\n1.5G\t./f8/d5/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:f8d5c3317106bf7785c9edd780613b4f71d4bc81e8762b0549a82d9932199b97_package.tar.zst\n1.5G\t./40/b8/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:40b8b8a7338649ce0c1f4b0396b777bdd7c7ff5012a92d1e99b83ec4a4eaf1b1_package.tar.zst\n1.5G\t./53/a1/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:53a1feb544e004be153d8c2221733e11a852df62137a19e8a844c348feec8a5b_package.tar.zst\n1.5G\t./b6/ae/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:b6ae418d4d743fc29fc71a105096fb54a9873b11de811b76766885202b970339_package.tar.zst\n1.5G\t./0a/87/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:0a87f311849fb868b6540cf954752805a5b2a37274a1bf4683b8ad948d64f4b9_package.tar.zst\n1.5G\t./cd/f6/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:cdf6dd17d547ec0f3e6f52cb21ec6cd9b36e45c83875853bcf97565e1b75680c_package.tar.zst\n1.5G\t./e6/ca/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:e6cad506f62f4d6a35304e5cc97810d4cb384808bb1f57c3452c94c5c5ee5c07_package.tar.zst\n1.5G\t./a9/f6/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:a9f6373c43250ac5c992b94280cd93380d27a6128727cbf60eedceb54bfa7913_package.tar.zst\n1.5G\t./c9/1c/sstate:webkitgtk:core2-64-poky-linux:2.40.5:r0:core2-64:11:c91c7cf73a96aece55d33b735f314fa2874fa3f62d85216a00e4d337e2cd551b_package.tar.zst\n1.6G\t./b9/ae/sstate:webkitgtk3:core2-64-poky-linux:2.40.5:r0:core2-64:11:b9aef46ad47da3a03661506024b0582d8649c6ae908771bfdc3680671fa29b5d_package.tar.zst\n1.6G\t./94/fe/sstate:webkitgtk3:core2-64-poky-linux:2.40.5:r0:core2-64:11:94fe6c54fab358177734945b70d0d7e5cfe6b4e67ee4f015babe2ac40652dd38_package.tar.zst\n1.6G\t./25/59/sstate:webkitgtk3:core2-64-poky-linux:2.40.5:r0:core2-64:11:2559400dff6d0f195bbed542cf736d9a43c817bd672233a7dcdd53b3fb351d7c_package.tar.zst\n1.6G\t./72/02/sstate:webkitgtk:core2-64-poky-linux:2.28.4:r0:core2-64:3:720249095d699b53b17bfb94b21396a09f69666c4d88ce0d3d32f41c93773d71_package_write_ipk.tgz\n1.6G\t./2c/65/sstate:webkitgtk:core2-64-poky-linux:2.28.4:r0:core2-64:3:2c65be961c98551c67f2db9dfe61079dd3d6ca0ff65b774ff90c03b3cfa63f92_package_write_deb.tgz\n1.6G\t./42/2d/sstate:webkitgtk3:core2-64-poky-linux:2.42.0:r0:core2-64:11:422d6b16772c635172bc5110d0acbafda14c38314dd469107f729ac52be5686e_package.tar.zst\n1.6G\t./53/62/sstate:webkitgtk3:core2-64-poky-linux:2.42.0:r0:core2-64:11:536207e2bf34f15721e268ffc996acc4c59dbad9d3b44cce23951ed719478b25_package.tar.zst\n1.6G\t./20/53/sstate:webkitgtk3:core2-64-poky-linux:2.42.0:r0:core2-64:11:2053141efe3a3c0347aab9cdf2a38137efafca1a8ae95286b13c50ecb40d4fc2_package.tar.zst\n1.6G\t./1b/6c/sstate:webkitgtk3:core2-64-poky-linux:2.42.0:r0:core2-64:11:1b6c64fbbf8757706ed5d8ec096d6da58c75dac2c42d6c625774917e24d68ceb_package.tar.zst\n1.6G\t./dd/6e/sstate:webkitgtk3:core2-64-poky-linux:2.42.0:r0:core2-64:11:dd6e3fa0a248fa0f2f3d09aeee2dbb8447012f28e10473d61f80e084105c435f_package.tar.zst\n1.8G\t./1f/9e/sstate:llvm:core2-64-poky-linux-musl:13.0.1:r0:core2-64:10:1f9eb82fdaa1875e441392c07052477e59fac0c5eaedd68c4907789725a2d922_package_write_deb.tar.zst\n1.8G\t./87/59/sstate:llvm:core2-64-poky-linux-musl:13.0.1:r0:core2-64:10:8759349fa106ca1bd399eb784b4c2ff0bfa559c07bdc009711a38063c10d2b69_package_write_ipk.tar.zst\n1.8G\t./4b/3e/sstate:llvm:core2-32-poky-linux-musl:13.0.1:r0:core2-32:10:4b3edfd8116287ebd16af20b0ef9a6b39065b443a795c14d82e8430964691e4c_package_write_ipk.tar.zst\n1.8G\t./72/45/sstate:llvm:core2-32-poky-linux-musl:13.0.1:r0:core2-32:10:72451024fe8103dada30e025ed93e09abe7ea001d8272a5ffbc131ad233715ff_package_write_deb.tar.zst\n1.8G\t./f5/c5/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:f5c537f0a959023c9fec71df46587ceffaa99ed7d87679c6ff9049c4c08346e2_package_write_ipk.tar.zst\n1.8G\t./a3/c1/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:a3c11d4a0ed5a24ba87a8c3dd94b213e3a27f168c747b2853b0aca90ab389a9a_package_write_ipk.tar.zst\n1.8G\t./a7/9f/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:a79f975f953acd63cb944a0895d5d51676619649a8bef1677a40d48498733f15_package_write_deb.tar.zst\n1.8G\t./8c/ed/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:8ceddc814cd5ff7c2ce68ff437fea0d63411cb3c92adf06fae85013402f47eda_package_write_deb.tar.zst\n1.8G\t./7f/a2/sstate:lib32-llvm:x86-pokymllib32-linux:13.0.1:r0:x86:10:7fa25f5c13ff9ee482cf263e0fd638b40557b742243e4d8d3b3b0652c096aed4_package_write_deb.tar.zst\n1.8G\t./1b/01/sstate:lib32-llvm:x86-pokymllib32-linux:13.0.1:r0:x86:10:1b01ae8ee4bf67059013b53a0e7a412319784016ae1e6a942a92445664c70ff3_package_write_ipk.tar.zst\n1.8G\t./85/5a/sstate:llvm:core2-64-poky-linux:9.0.1:r0:core2-64:3:855a440a9731888b0830b90d01c18b46f6b0eddaa22fb87f42857e75bc6dd3da_package_write_ipk.tgz\n1.8G\t./77/cf/sstate:llvm:core2-64-poky-linux:9.0.1:r0:core2-64:3:77cf71c79970d2b0b415bc855c238cf81494dbcef004e5cb50c7edc75cf201bf_package_write_deb.tgz\n1.8G\t./f2/11/sstate:webkitgtk:core2-64-poky-linux:2.38.6:r0:core2-64:11:f211cdcc54f078e8e63d6a9329625f751ac04108ed898710452dcd3bf00dcbec_package_write_deb.tar.zst\n1.8G\t./a9/50/sstate:webkitgtk:core2-64-poky-linux:2.38.6:r0:core2-64:11:a950112d743f73761e3be7aa411693e3f229c4fc5f8381da3cb0511c1f4e4270_package_write_ipk.tar.zst\n1.9G\t./1a/ef/sstate:webkitgtk:core2-64-poky-linux:2.36.8:r0:core2-64:10:1aef14726350019bd91a8acdfffec1f48a98fd1de83565198ae4eebcf896ed14_package_write_deb.tar.zst\n1.9G\t./ff/ce/sstate:webkitgtk:core2-64-poky-linux:2.36.8:r0:core2-64:10:ffce88cdd95cfd448fa45df2f9567d449c4ea3e7b7e964f767e555ddd4979a5d_package_write_ipk.tar.zst\n1.9G\t./fd/03/sstate:llvm:core2-64-poky-linux-musl:15.0.7:r0:core2-64:11:fd03af43a1161a9f48c3aba58f4a8538e9aeed46dc1f0b365c330bd5a456c259_package_write_deb.tar.zst\n1.9G\t./6f/09/sstate:llvm:core2-64-poky-linux-musl:15.0.7:r0:core2-64:11:6f098c0f202af61a0d8d33b6c3d761e988bfcb7dae11033c2136fed66f0d6f0b_package_write_ipk.tar.zst\n1.9G\t./88/55/sstate:llvm:core2-32-poky-linux-musl:13.0.1:r0:core2-32:10:88558387459c3b6ead3c30650d2ffab0a233f1e458c5d71b70729cac1da85ab4_package_write_rpm.tar.zst\n1.9G\t./4a/b6/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:4ab61e871ee41a80c7c7f8e1271e379ced4163096a005d6404b0f7a40852a40d_package_write_deb.tar.zst\n1.9G\t./af/43/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:af43914b3d674515665c9273cf79ad28bdb0cb3acda1715052f33241e5febc84_package_write_deb.tar.zst\n1.9G\t./81/e7/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:81e79e8c8b049c05cb52a439fe716bcb35df223268dec9d9a2ed24cf255336ed_package_write_ipk.tar.zst\n1.9G\t./78/27/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:7827fee0ef6e2f97643f07382295531e5f2e5b381b9dee97579ac1f8d78c11e1_package_write_ipk.tar.zst\n1.9G\t./76/3f/sstate:llvm:core2-32-poky-linux-musl:15.0.7:r0:core2-32:11:763f1d3814c773371cd3a999449d3b6fb42f7428f1cb21251e70eb5e8ad40169_package_write_ipk.tar.zst\n1.9G\t./0a/cc/sstate:llvm:core2-32-poky-linux-musl:15.0.7:r0:core2-32:11:0acc6876c1872c94d8d01b1e466e4e500375c16e23b0f6a55998507f7b47d47d_package_write_deb.tar.zst\n1.9G\t./e2/64/sstate:lib32-llvm:x86-pokymllib32-linux:13.0.1:r0:x86:10:e264be5e4aea24e6669cec9f7e1b86ac66da5a2511a03abbb10c85f459b2095e_package_write_rpm.tar.zst\n1.9G\t./71/86/sstate:lib32-llvm:x86-pokymllib32-linux:15.0.7:r0:x86:11:7186e7080e28c0fe2ffdacea4090089e6edd4115a2e94604c1ca8173ef014904_package_write_deb.tar.zst\n1.9G\t./d0/4d/sstate:lib32-llvm:x86-pokymllib32-linux:15.0.7:r0:x86:11:d04dcf2c9ba837ac6ef35a2bec70c52ad9c69835a3aa408f90157613c84db461_package_write_ipk.tar.zst\n1.9G\t./39/17/sstate:llvm:core2-64-poky-linux-musl:13.0.1:r0:core2-64:10:3917f859b801802f9d9081b2889a5891ae204ee171c112d269dbd5d3b374ad98_package_write_rpm.tar.zst\n2.0G\t./20/af/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:20af9f72cb8a112d585571d963da231cec65a5bed9d6178ca98f8ba4169a24a1_package_write_rpm.tar.zst\n2.0G\t./e4/c8/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:e4c8e4166d88e80ead77cda857f6348fe83d26885e708d94d18820fecbfea956_package_write_rpm.tar.zst\n2.0G\t./64/eb/sstate:llvm:core2-32-poky-linux-musl:15.0.7:r0:core2-32:11:64eb5cdce0b3d3b393098fd8e5ba3b2a9a40a6fb1a120a7dfd7965f42e574a1c_package_write_rpm.tar.zst\n2.0G\t./6f/b7/sstate:lib32-llvm:x86-pokymllib32-linux:15.0.7:r0:x86:11:6fb782437c927d2115668248b4ddd19f0a530e688edc2409817e759c51a828ee_package_write_rpm.tar.zst\n2.1G\t./e2/e3/sstate:llvm:core2-64-poky-linux-musl:15.0.7:r0:core2-64:11:e2e38f6ac280551acda7a3c90cf35b9e5f881c26637473c629e3ea69b3f11b3b_package_write_rpm.tar.zst\n2.1G\t./6c/06/sstate:webkitgtk:core2-64-poky-linux:2.38.6:r0:core2-64:11:6c06c40a3fab8a3d7cd9602ca4013cb36c1ed43f7780f9ad2d61a2bb92da5df3_package_write_rpm.tar.zst\n2.1G\t./c4/63/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:c463996baadb03366eb9271954f98adc967cf4193fac1e4f3a5f7c0ca4a0e85e_package_write_rpm.tar.zst\n2.1G\t./af/de/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:afdea14ee36aaa7d19362905e6704445ce50ed4008bd5c8dfd23aaa3267dba11_package_write_rpm.tar.zst\n2.1G\t./5e/ea/sstate:webkitgtk:core2-64-poky-linux:2.36.8:r0:core2-64:10:5eea7e4b29914c570ee57b2b0247ad8bd49b31ef070687c6c49ce6366c2c569b_package_write_rpm.tar.zst\n2.1G\t./81/0b/sstate:llvm:core2-64-poky-linux-musl:16.0.6:r0:core2-64:11:810b1a5d63ac09ddd346e39470e8f2e657a4c3eee888f806b460d9519734a7f0_package_write_deb.tar.zst\n2.1G\t./a7/e4/sstate:llvm:core2-64-poky-linux-musl:16.0.6:r0:core2-64:11:a7e41dc160c653e9d836357bd92c1562cb39055e171e9877353f03aa0d5965d7_package_write_ipk.tar.zst\n2.1G\t./ee/cb/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:eecb6e5e2f88f2e161cba544d05123df6597bbc90c8213eaa2df0555e5c9824f_package_write_ipk.tar.zst\n2.1G\t./d3/aa/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:d3aa5abebed9f362bfd317a4fe63693a3eafb97bf35252d8da00884373398568_package_write_ipk.tar.zst\n2.1G\t./1d/d0/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:1dd050201238c29116d6d279ab247c411a4c3c3964a5f56b43010efbffc87963_package_write_ipk.tar.zst\n2.1G\t./4b/2d/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:4b2dba76c56d01342cc7b4d8723391fe9b99bb97c102add7dd0fe9f8289ad204_package_write_ipk.tar.zst\n2.1G\t./aa/63/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:aa63d59742143495735f8103ddbe0e36420695bfbd3cf87ca79d135394f02c10_package_write_deb.tar.zst\n2.1G\t./b3/a2/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:b3a2e0782b80254f89e66b9526a3285f2922ccfb15822b0b5c91b0155c7945fc_package_write_deb.tar.zst\n2.1G\t./97/b7/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:97b77de9b347c938a7e47fd869e19620158c09556aaf8c13998e18ca9a497f17_package_write_deb.tar.zst\n2.1G\t./cc/f2/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:ccf24e74159376b3c40a8cc9213ff754894008592896a4561fad043c07dc2949_package_write_deb.tar.zst\n2.1G\t./7b/1e/sstate:llvm:core2-32-poky-linux-musl:16.0.6:r0:core2-32:11:7b1eadb516fc7533445e984816669309966a37b78e015ce6108223d89cd84221_package_write_ipk.tar.zst\n2.1G\t./1d/ba/sstate:llvm:core2-32-poky-linux-musl:16.0.6:r0:core2-32:11:1dba0462bc6687c4e137757f7c16d46afc7b2a8d5e9142f80d2260e8c32df554_package_write_deb.tar.zst\n2.1G\t./6d/69/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:6d69e15f62d8f7e5dd54d5c3545d1e71a4301c70461ce6654b0930ac243b7682_package_write_ipk.tar.zst\n2.1G\t./97/02/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:9702ce61a7dd652c11649ab93b3c592b8785ae8ee2d3071ceb682629d0c8fda1_package_write_ipk.tar.zst\n2.1G\t./97/01/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:970175eadea6e0ae9654149f3e7a783bae62b68baab1aec77b3bc195fe0b25a8_package_write_deb.tar.zst\n2.1G\t./10/a8/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:10a88bd216c0992acde5f7db84819e16984112139627b1c0508865b3fb456d45_package_write_deb.tar.zst\n2.2G\t./3d/79/sstate:llvm:core2-32-poky-linux-musl:13.0.1:r0:core2-32:10:3d795e745cb815db888fa461ca94d305a927ea7bccc89317de20fec79351129a_package.tar.zst\n2.2G\t./b9/e3/sstate:llvm:core2-64-poky-linux-musl:17.0.1:r0:core2-64:11:b9e3d28cc00cd0daacbb63bc3de01a83e963b4dff2913e74466a63a47c25d6db_package_write_deb.tar.zst\n2.2G\t./60/58/sstate:llvm:core2-64-poky-linux-musl:17.0.1:r0:core2-64:11:6058c9c6ea4a56c709b252fdd02f99451aaabe8cb0c69cde91a271358c9fb9c6_package_write_ipk.tar.zst\n2.2G\t./3a/52/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:3a52c91ab7bfcf4cf3a1a0876f416c2082f5747bea8c15f48e5df747c673f012_package_write_ipk.tar.zst\n2.2G\t./92/b2/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:92b29cd02479307f6c1787c41c422a09474c680c3f1f2dfe7b6ad436ef63f0fe_package_write_ipk.tar.zst\n2.2G\t./cd/a1/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:cda1eaf31720d0e718463857f89773851f742a94b1409abe0efc01f3963880c2_package_write_ipk.tar.zst\n2.2G\t./64/8c/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:648cc340ee52e9be616b8cdcc3b4da844a54ec292609f858a05696cd8dfc2a4c_package_write_ipk.tar.zst\n2.2G\t./bb/5e/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:bb5e090a4b35304d6f6cfcb07920f3373964ea8b903c2f3705bc24f86095116e_package_write_deb.tar.zst\n2.2G\t./08/e0/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:08e028bb63180eed1702fae7d47a698b5c7d86ff33ca091ccff7d579f2aec06f_package_write_deb.tar.zst\n2.2G\t./12/2f/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:122f05a04f819cae81e55439fff370e73bcbb2dba82ad447bb999c38a72f7d8d_package_write_deb.tar.zst\n2.2G\t./2c/e2/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:2ce292df4d28af1b968b07c13fdc5737ecb7ce676fb59aa221158fcff6d5f369_package_write_deb.tar.zst\n2.2G\t./a9/fd/sstate:llvm:core2-32-poky-linux-musl:17.0.1:r0:core2-32:11:a9fde7e742ab28a477850371f72855ac4f5aa363a4b3ab2897df242f88254215_package_write_ipk.tar.zst\n2.2G\t./17/87/sstate:llvm:core2-32-poky-linux-musl:17.0.1:r0:core2-32:11:17877b57a59ea5a5ae62e3fdcbc0da2359fbcb5d3abc77b0568caa5d6fb588a5_package_write_deb.tar.zst\n2.2G\t./8f/c3/sstate:lib32-llvm:x86-pokymllib32-linux:13.0.1:r0:x86:10:8fc3dbba19f311329155eb5ad2e061060c1aa524c5778fac9e44102e61a65231_package.tar.zst\n2.2G\t./92/fa/sstate:lib32-llvm:x86-pokymllib32-linux:13.0.1:r0:x86:10:92fa2bfbd443e231cff1c36f483a778ca0bb22b2a2e3d46fe568a8bb2ca876d0_package.tar.zst\n2.2G\t./3f/4a/sstate:lib32-llvm:x86-pokymllib32-linux:17.0.1:r0:x86:11:3f4ab6f39416941c6b6b3a08be8f7c73229b2a9be6ae87d33297322c72c32f7e_package_write_deb.tar.zst\n2.2G\t./a1/9a/sstate:lib32-llvm:x86-pokymllib32-linux:17.0.1:r0:x86:11:a19a562b331f571b5eac3bfc6d9af050f85a878339c3cd79d6cfb1efb5abf593_package_write_deb.tar.zst\n2.2G\t./45/cf/sstate:lib32-llvm:x86-pokymllib32-linux:17.0.1:r0:x86:11:45cf28962a7beeafdb429450b68f850faf8052b041952a62abbb3cdcc2f4e1f7_package_write_ipk.tar.zst\n2.2G\t./f8/71/sstate:lib32-llvm:x86-pokymllib32-linux:17.0.1:r0:x86:11:f8714b6e706221b5e482b6dd118fabfd7e990a7dda5d0259558092613d35e4ff_package_write_ipk.tar.zst\n2.2G\t./78/d1/sstate:llvm:core2-64-poky-linux-musl:13.0.1:r0:core2-64:10:78d1495cbee87bed68365ea81b7794245591d06f4f9d8aea8de54a142dd13abb_package.tar.zst\n2.2G\t./fa/f2/sstate:llvm:core2-64-poky-linux-musl:13.0.1:r0:core2-64:10:faf2b85a03f07d1d3ee7a32af921bd6a1a11ebe52e7c458fb972f76cba430484_package.tar.zst\n2.2G\t./e1/e1/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:e1e130acf9dcd62a14bf8bf73b60dc76b58a7b37eb6a9e58607092016ad98394_package.tar.zst\n2.2G\t./65/33/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:65339ce1c4dc3f091620756d56c0e092fe91d097c61dd97dd7b9b082114040eb_package.tar.zst\n2.2G\t./1f/43/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:1f4310e437009013a408ea3439f81f3096c80bca6756e6583106252b44fa7b69_package.tar.zst\n2.2G\t./9c/2e/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:9c2ee93f1d22eb9a4634b0857db6ec6a21c812a2689e1cb69dc3eb3eaf343aea_package.tar.zst\n2.2G\t./40/a6/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:40a6b01b6f4d2feabc2af8ce2ea8322079cb904117e4c76802fce7bbba4fe7d4_package.tar.zst\n2.2G\t./5e/fa/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:5efa3debde195e28702fd7598966245e97af930049fe4588faa8dd24e29803f2_package.tar.zst\n2.3G\t./9a/62/sstate:llvm:core2-32-poky-linux-musl:16.0.6:r0:core2-32:11:9a62f6292df9168f995d1ef62b2affce4ffd6d5ca1ed4ca88ff8273b9ee7cffb_package_write_rpm.tar.zst\n2.3G\t./f6/13/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:f613c22abe827fec3cf5c0e85af67a44f34148f309ba93b715cdd53617175721_package_write_rpm.tar.zst\n2.3G\t./45/01/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:4501b17351d02cffe7df6a000b388d6e565e64eb7f0b50da517ce4889a7ef0e0_package_write_rpm.tar.zst\n2.3G\t./b9/33/sstate:llvm:core2-32-poky-linux-musl:15.0.7:r0:core2-32:11:b9338809b305377f989d970584ee7f9dae1b91184669bf583d1463739491ddb6_package.tar.zst\n2.3G\t./f1/2c/sstate:lib32-llvm:x86-pokymllib32-linux:15.0.7:r0:x86:11:f12c3490da1de8734d2cf77a68a754ebb20c154c69ac3ab86e4197855b56a81b_package.tar.zst\n2.3G\t./fd/f3/sstate:lib32-llvm:x86-pokymllib32-linux:15.0.7:r0:x86:11:fdf36e19e19539cfd1d8a22c64cfde86614225eaf8fe9f323fe77cd8ece11719_package.tar.zst\n2.3G\t./0c/49/sstate:llvm:core2-32-poky-linux-musl:17.0.1:r0:core2-32:11:0c49edc3a94fe0771734a904a6ab0bc84868144f276343c8c1e9eef6c175558d_package_write_rpm.tar.zst\n2.3G\t./17/d8/sstate:llvm:core2-64-poky-linux-musl:16.0.6:r0:core2-64:11:17d87776416f493c994db9287f8fdcd265b13953532e51cc8886694e3bff228a_package_write_rpm.tar.zst\n2.3G\t./de/06/sstate:lib32-llvm:x86-pokymllib32-linux:17.0.1:r0:x86:11:de06c46420c0b8277447ed15cf67a0d98e10613d02610ccb248d324fe27889d0_package_write_rpm.tar.zst\n2.3G\t./7b/fe/sstate:lib32-llvm:x86-pokymllib32-linux:17.0.1:r0:x86:11:7bfe10b100550f0df9ff6829679254dc862c8fd8e58880759dc687eea346cdea_package_write_rpm.tar.zst\n2.3G\t./82/f1/sstate:llvm:core2-64-poky-linux-musl:15.0.7:r0:core2-64:11:82f18c69e75c1cd8dadd9aa18e42d77c2126420fa7de13f36a147cc04224ff37_package.tar.zst\n2.3G\t./04/36/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:0436fc8522491b76d1bee073ebd7f8c6c63f94debde8eb2c56c1179fe0d23d92_package_write_rpm.tar.zst\n2.3G\t./48/fd/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:48fdfec7812ef91e6a14e10b547661b5777e54b0840bad582efd265c412ff110_package_write_rpm.tar.zst\n2.3G\t./0a/1b/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:0a1bbf4b4843719332e2393c4f52c7fb09152fa8e649a1d354800bbbb4fd94f9_package_write_rpm.tar.zst\n2.3G\t./ae/74/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:ae74386910bf8270c7eb73cbbb7ab575f5d2f24e862ec85065fcc2b5a67ce0d5_package_write_rpm.tar.zst\n2.3G\t./9d/06/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:9d06ef46724f63ad7b1d7f4b9e5bbc143b19f5c8bc965468ab4a6df47323a436_package.tar.zst\n2.3G\t./ee/68/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:ee6821453a07c2be205b8626e7ecc4ac5038bab1fac300f86e61c7391771b0ab_package.tar.zst\n2.3G\t./36/8b/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:368bb270d6bc18ca484a97985ce67b672925d66509f5302914141e9f26877506_package.tar.zst\n2.3G\t./6d/84/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:6d842fa29d5fbeb761657f1069027c0d443e772808a5e6e4fa7909cfb4d7ed6c_package.tar.zst\n2.3G\t./46/8e/sstate:llvm:core2-64-poky-linux-musl:17.0.1:r0:core2-64:11:468e17b3e7011393e3e14692e031f43618108672cf8f1cbbe380042d4ef9c715_package_write_rpm.tar.zst\n2.3G\t./a2/2a/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:a22a44a12bd25b84918bb92e7c2dcd25067a5b202f5a1ecb7fbc529ad3e83fee_package_write_rpm.tar.zst\n2.3G\t./ef/9a/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:ef9af3463f807b78d31185ad4386fbb1d75ade280533fc56be04df93e0855497_package_write_rpm.tar.zst\n2.3G\t./1c/82/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:1c82db75cd05d9eb0083d80f8b36839e2022245dc420bebcb32c95d875698390_package_write_rpm.tar.zst\n2.3G\t./c4/c5/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:c4c5db3f56ea8a1b5d299999ffde5cd608eab36c90c3ed87fc452bb1a201708d_package_write_rpm.tar.zst\n2.5G\t./9c/1f/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:9c1f13884f51e8627b3de9ef91ca0ee6ff06528f38fbb0e2c32cfe6ef09aa10f_package_write_ipk.tar.zst\n2.5G\t./5c/a5/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:5ca5a2e4312e2edf7e85f752a186abe63c98375e5ce23dcf78a66b1b635c4087_package_write_deb.tar.zst\n2.5G\t./92/90/sstate:webkitgtk:core2-64-poky-linux:2.28.4:r0:core2-64:3:9290988c86aecc72b97735e4aab30fe3f6e4fd587aff3951025aed7d959e649b_package.tgz\n2.5G\t./33/f7/sstate:webkitgtk:core2-64-poky-linux:2.28.4:r0:core2-64:3:33f7a594810b380623734ce271da12f4feeb641d190c10d48d832978757072a1_package.tgz\n2.6G\t./c0/c0/sstate:llvm:core2-32-poky-linux-musl:16.0.6:r0:core2-32:11:c0c0cf7596117b17f3a5abdcbfdc0e20ec7ce1276846db53ebae919f6f524b5b_package.tar.zst\n2.6G\t./34/81/sstate:llvm:core2-32-poky-linux-musl:16.0.6:r0:core2-32:11:348136ace8d4b9c70cf98ea05997669feed42345eb6439474be515d6d32dd57f_package.tar.zst\n2.6G\t./39/46/sstate:llvm:core2-32-poky-linux-musl:16.0.6:r0:core2-32:11:394659d353173a3ad34e1df24a8caac4503f4e59d05ba72532faf5b0a96d9303_package.tar.zst\n2.6G\t./d5/d7/sstate:llvm:core2-32-poky-linux-musl:16.0.6:r0:core2-32:11:d5d7adbdbaf1497dff9d30f724ab812381122e7f0e2393caeb383bccb5331cb4_package.tar.zst\n2.6G\t./54/02/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:5402d81946909f05b93f3cf62aba4fa5463bab5472a5a1241e3669bf76c06e8d_package.tar.zst\n2.6G\t./fa/f2/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:faf25b13a97a8e049e038fc841ee11ab6ffeebfd81138b9d5f2477f6ceb6b96d_package.tar.zst\n2.6G\t./bf/39/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:bf39c4c82ab9d501c0b279a03dd2c8f3c8a0a5c24340a18f2bc725022f1fb107_package.tar.zst\n2.6G\t./81/2a/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:812a17c208e42df586f7084c0e225fc93dcb8d99bd5fd2799c102f91be48fdd8_package.tar.zst\n2.6G\t./34/00/sstate:lib32-llvm:x86-pokymllib32-linux:16.0.6:r0:x86:11:340067a8408e69ff19b6466d20b787c5c6d7ff686d63fab9a610257255d540af_package.tar.zst\n2.6G\t./5f/bb/sstate:llvm:core2-64-poky-linux-musl:16.0.6:r0:core2-64:11:5fbbeac3fabd8c7665fdc01ba4fd99a528a8416f6fbf83b7ddb2bfdc9e3c60e5_package.tar.zst\n2.6G\t./a4/3d/sstate:llvm:core2-64-poky-linux-musl:16.0.6:r0:core2-64:11:a43d3ab1d97b569a88baa461a25d76aa08f897b5e827dd5731f1e26ec98d90ba_package.tar.zst\n2.6G\t./01/d6/sstate:llvm:core2-64-poky-linux-musl:16.0.6:r0:core2-64:11:01d60f565d5e6ec0bd4418059be57b0133d46547a1d5b1f98ed9bf0be754bf3e_package.tar.zst\n2.6G\t./c4/0c/sstate:llvm:core2-64-poky-linux-musl:16.0.6:r0:core2-64:11:c40ccb3175c56e9da4cc96856c5095a5b59b2bf3499247cb58bf79dafdd44441_package.tar.zst\n2.6G\t./52/67/sstate:llvm:core2-64-poky-linux-musl:16.0.6:r0:core2-64:11:5267622e788e5defcc7c40bcbd6b128950604860665c5a565de2c27af20078ce_package.tar.zst\n2.6G\t./c2/27/sstate:llvm:core2-32-poky-linux-musl:17.0.1:r0:core2-32:11:c227b498030e2a37279f9a61baead1b1f0670c2e6c0440f738f40523274acc35_package.tar.zst\n2.6G\t./dc/19/sstate:llvm:core2-32-poky-linux-musl:17.0.1:r0:core2-32:11:dc19b41ca873b1af39ffae4023b2746f3905f53da74198bc56017b81629be048_package.tar.zst\n2.6G\t./8a/94/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:8a942c39fa4b8849d88524194b4a5b1ebb0fb2fc3d899be93dfad3ebad0471e3_package.tar.zst\n2.6G\t./4f/13/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:4f13afdcc3f31c3329ba12b0450cd092738227f69f70643fdf8ed860b895e78d_package.tar.zst\n2.6G\t./3d/b7/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:3db73cf2186a4eeaed54e3ebe8a79f0715ab631021863b95d42460de5ca4d10d_package.tar.zst\n2.6G\t./8d/49/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:8d4958899e7c8d9d0a6d4a8707087ab4f43252d7bdc4d6a08717bebb5056f611_package.tar.zst\n2.6G\t./de/f7/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:def71f352b3e4bf4feadd4872fda21c114b92a8140d4578d94aadba85cc243e5_package.tar.zst\n2.6G\t./9b/4c/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:9b4ccaa767a8b14e03a3a498e30ee521f1d4b148dd2d838a0cae83cdea9c6c4b_package.tar.zst\n2.6G\t./d5/68/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:d56876668eee027ce636a528513ddafac9dd5fc1ec6e59ebdf78a01c0db242d9_package.tar.zst\n2.6G\t./3d/42/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:3d4242018de5aa4213ac3e4eaaf34a0e70af2b5d15f15f60c89dbb95879688dd_package.tar.zst\n2.6G\t./a0/6c/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:a06c80394ea4fe46bd825a93daa53162a311a0f9ad44454e3a5d393054fbd1b2_package.tar.zst\n2.6G\t./eb/30/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:eb30e10f16601ddc67c4c0c0010c0b4ca18b9dc310476c0619d119a773ff26ff_package.tar.zst\n2.6G\t./12/44/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:1244e05d84b7d890af897c7fdd145bc80edec61873b61b74d7f561c0697bb4c1_package.tar.zst\n2.6G\t./bd/4e/sstate:llvm:core2-64-poky-linux:16.0.6:r0:core2-64:11:bd4e39eff88a81e5cc74e9ae254b9134a22c11b53f46ef7ef4a729962c58b72b_package.tar.zst\n2.6G\t./f9/13/sstate:lib32-llvm:x86-pokymllib32-linux:17.0.1:r0:x86:11:f91393f3178abc9524f128dcae9010e101f286fa25b93c6dda008ec786cf4fdf_package.tar.zst\n2.6G\t./0a/52/sstate:lib32-llvm:x86-pokymllib32-linux:17.0.1:r0:x86:11:0a52eeb212af73fa95bb88c4de689704c2c2288087a41b1a42bdc694f5ce8cdf_package.tar.zst\n2.6G\t./75/0f/sstate:lib32-llvm:x86-pokymllib32-linux:17.0.1:r0:x86:11:750ff6c723a27e4e6d3b404a4b6f1a405f4cf667e2c36fd13b73c142027dc2d7_package.tar.zst\n2.6G\t./32/c1/sstate:llvm:core2-64-poky-linux-musl:17.0.1:r0:core2-64:11:32c136f463d71e8d56196e608c84c760a0f3c9065103e09d9a4b40bc6b244867_package.tar.zst\n2.6G\t./86/61/sstate:llvm:core2-64-poky-linux-musl:17.0.1:r0:core2-64:11:8661b7dc1ad9e97dad61a4188c7ec1941ca0a6f4f19bd2df1e6bd4b20ca6622c_package.tar.zst\n2.6G\t./29/1f/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:291fd67560b6b8cec98c12b93bcb9c806780c0d2dfc6ebb82a0a02a591b76df9_package.tar.zst\n2.6G\t./d3/92/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:d3923bfa31cbb71fdcdc0370b6e69367fd39be230cfd76093fc977d26c454b03_package.tar.zst\n2.6G\t./bf/e1/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:bfe1c02ee126434574aaba125aa66123f216f248eebd479440326e9acce508d8_package.tar.zst\n2.6G\t./09/22/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:092251323d7e60c8d61969e5bba899af479740ff5f147f820f85e5cf8527027b_package.tar.zst\n2.6G\t./20/66/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:2066b22d740715039728142ebc2d37493cbad2ff7d99289b669af249e3897581_package.tar.zst\n2.6G\t./8c/8c/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:8c8cc5e4d03e3079edc2858425764d36016ba5b7c9add9c76ab913580ce88a0c_package.tar.zst\n2.6G\t./dd/95/sstate:llvm:core2-64-poky-linux:17.0.1:r0:core2-64:11:dd95f6d42c4edd21f2bdfa5a193de207ab544b906258eb5be956869197a951ef_package.tar.zst\n2.7G\t./f2/44/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:f2446355f6eeba677d2acf1939cef0a305d7f42d07ef6a277367468b7941ef31_package_write_deb.tar.zst\n2.7G\t./10/20/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:102028b9673368ab4cc5a81fb0e56871dc40eab53bf9596ea90d3ee272fe50a0_package_write_ipk.tar.zst\n2.7G\t./d3/bc/sstate:webkitgtk:core2-64-poky-linux:2.38.6:r0:core2-64:11:d3bce99394fd3e5e91bde84af640752d572a7ea089c71a3f2764835771cb0f4c_package.tar.zst\n2.8G\t./9f/0d/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:9f0d542dea1f0b8ef41f3311250554fa808509ec25c2ed6909ef01dcf4e1cabc_package_write_rpm.tar.zst\n2.8G\t./2c/a3/sstate:webkitgtk:core2-64-poky-linux:2.36.8:r0:core2-64:10:2ca3e457153e67fae0105e07f2521a653a917cf0c5bdc8ae71d56da8c48e7224_package.tar.zst\n2.8G\t./e5/03/sstate:webkitgtk:core2-64-poky-linux:2.36.8:r0:core2-64:10:e503052148d0c8afe787c8646fbb46039a52970c1d543fead322124761b8255c_package.tar.zst\n2.8G\t./33/68/sstate:webkitgtk:core2-64-poky-linux:2.36.8:r0:core2-64:10:3368de89398b1b4f8948cfd1adc74e8ae4bc8f03f46d3b8e4ad6a837ff10e02b_package.tar.zst\n2.9G\t./0b/b0/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:0bb0428be67694c2934071b497aad17d35263940c1774314a7056cc580fd35dd_package_write_rpm.tar.zst\n3.2G\t./f2/a2/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:f2a2f72c49c027ebe89a5f1da8f562f824f5c052ea897ade057f549eebebe202_package.tar.zst\n3.2G\t./c8/3e/sstate:llvm:core2-64-poky-linux:13.0.1:r0:core2-64:10:c83e674895d15cbfbbdd90e320e8284d7e3796af1625d3c939d59a4c97b705e0_package.tar.zst\n3.4G\t./64/3c/sstate:llvm:core2-64-poky-linux:15.0.7:r0:core2-64:11:643c62f893f04783fb40e3efe0f89e5a68d98833affda61f91368bd892c10f94_package.tar.zst\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "* Re: CDN for sstate.yoctoproject.org\n  2023-09-22 17:32 CDN for sstate.yoctoproject.org Michael Halstead\n@ 2023-09-22 19:03 ` Michael Halstead\n  2023-09-23 19:51   ` Michael Halstead\n  2023-10-17 15:33 ` Alexander Kanavin\n  1 sibling, 1 reply; 10+ messages in thread\nFrom: Michael Halstead @ 2023-09-22 19:03 UTC (permalink / raw)\n  To: Alexander Kanavin, Yocto-mailing-list; +Cc: Richard Purdie\n\n[-- Attachment #1: Type: text/plain, Size: 5190 bytes --]\n\nHere are packages and size ranges that are not yet served via CDN.\nHopefully testing on the smaller files is possible while we figure out\na solution for these.\n\nassimp 75M 76M\nbinutils 64M 100M\nboost 68M 148M\nceres-solver 167M 182M\ncmake 157M 553M\nffmpeg 68M 69M\ngcc 127M 681M\ngcc-cross-aarch64 64M 102M\ngcc-cross-arm 64M 72M\ngcc-cross-i686 65M 80M\ngcc-cross-mips 65M 69M\ngcc-cross-mips64 64M 69M\ngcc-cross-powerpc 64M 72M\ngcc-cross-x86_64 65M 104M\ngcc-crosssdk-aarch64-pokysdk-linux 65M 75M\ngcc-crosssdk-i686-oesdk-linux 65M 77M\ngcc-crosssdk-i686-pokysdk-linux 65M 79M\ngcc-crosssdk-i686-w64-mingw32 66M 78M\ngcc-crosssdk-x86_64-oesdk-linux 65M 78M\ngcc-crosssdk-x86_64-pokysdk-linux 65M 80M\ngcc-crosssdk-x86_64-w64-mingw32 67M 79M\ngdb 66M 105M\nghostscript 64M 115M\ngit 68M 90M\nglibc-locale 81M 228M\ngo 67M 67M\ngo-binary-native 82M 82M\ngo-cross-core2-32 98M 100M\ngo-cross-core2-64 93M 100M\ngo-cross-corei7-64 98M 99M\ngo-cross-cortexa15t2hf-neon 99M 99M\ngo-cross-cortexa57 93M 99M\ngo-cross-cortexa8hf-neon 99M 100M\ngo-cross-mips32r2 98M 99M\ngo-cross-mips64 99M 99M\ngo-cross-mips64r2 99M 99M\ngo-native 86M 86M\ngo-runtime 64M 82M\ngrpc 74M 102M\nhdf5 78M 137M\ninfluxdb 76M 98M\nintel-media-driver 68M 132M\njemalloc 164M 164M\nkea 65M 153M\nlib32-binutils 64M 70M\nlib32-boost 77M 122M\nlib32-cmake 158M 305M\nlib32-gcc 144M 390M\nlib32-gcc-cross-i686 65M 79M\nlib32-gcc-cross-mips 65M 69M\nlib32-ghostscript 65M 83M\nlib32-git 65M 65M\nlib32-glibc-locale 81M 228M\nlib32-go-cross-x86 98M 99M\nlib32-kea 64M 88M\nlib32-linux-firmware 275M 419M\nlib32-llvm 1126.4M 2662.4M\nlib32-ltp 77M 305M\nlib32-mesa 65M 68M\nlib32-openssl 119M 360M\nlib32-piglit 106M 106M\nlib32-qemu 275M 639M\nlib32-rust 93M 129M\nlib32-rust-llvm 64M 76M\nlib32-spirv-tools 68M 107M\nlib32-valgrind 68M 89M\nlib32-vulkan-demos 74M 74M\nlib32-vulkan-validation-layers 65M 101M\nlib32-webkitgtk 1126.4M 927M\nlib64-boost 75M 119M\nlib64-gcc 151M 401M\nlib64-gcc-cross-mips64 65M 69M\nlib64-gcc-cross-x86_64 65M 80M\nlib64-glibc-locale 82M 228M\nlib64-go-cross-x86_64 98M 99M\nlib64-go-runtime 68M 81M\nlib64-ltp 67M 347M\nlib64-mesa 66M 68M\nlib64-openssl 276M 411M\nlib64-rust 97M 123M\nlib64-rust-llvm 64M 67M\nlib64-valgrind 65M 84M\nlibyang 93M 93M\nlinux-firmware 275M 419M\nlinux-intel 120M 395M\nlinux-yocto 66M 537M\nlinux-yocto-rt 174M 287M\nllvm 1126.4M 3481.6M\nllvm-native 71M 88M\nltp 64M 598M\nmariadb 1331.2M 966M\nmariadb-native 237M 259M\nmesa 64M 113M\nminifi-cpp 155M 214M\nmozjs-102 183M 255M\nnativesdk-glibc-locale 81M 226M\nnativesdk-qemu 245M 644M\nnativesdk-rust 82M 125M\nnativesdk-rust-llvm 65M 73M\nnodejs 1024.0M 723M\nopencv 185M 237M\nopengl-es-cts 406M 560M\nopenssl 92M 685M\nphp 67M 68M\npiglit 106M 106M\npoco 75M 107M\npython3-grpcio 65M 88M\npython3-wxgtk4 70M 100M\nqemu 1228.8M 929M\nqemu-system-native 65M 71M\nrenderdoc 67M 82M\nrocksdb 177M 272M\nrust 85M 140M\nrust-llvm 64M 79M\nrust-llvm-native 287M 418M\nrust-native 78M 85M\nspirv-tools 64M 195M\nsystemd 69M 71M\ntesseract-lang 369M 451M\nupm 82M 82M\nvalgrind 64M 128M\nvsomeip 82M 149M\nvulkan-cts 592M 833M\nvulkan-demos 73M 138M\nvulkan-validation-layers 65M 108M\nwebkitgtk 1024.0M 995M\nwebkitgtk3 1126.4M 1638.4M\nwireshark 65M 85M\nwxwidgets 70M 88M\n\nOn Fri, Sep 22, 2023 at 10:32 AM Michael Halstead <\nmhalstead@linuxfoundation.org> wrote:\n\n> Right now we have https://cdn.jsdelivr.net/yocto/sstate set up as a CDN\n> mirroring proxy endpoint. It's fast and completely free to the project.\n> However, it will only work for files smaller than 64MB and will send a\n> redirect to the main server at sstate.yoctoproject.org for files larger\n> than 64MB.\n>\n> The good news is that we have a fast free CDN provided by\n> https://www.jsdelivr.com/ and their many sponsors for 99.4% of our files.\n>\n> Here is an estimated distribution of sstate files currently available:\n> 1 KB-4 KB: 103168\n> 4 KB-16 KB: 1218048\n> 16 KB-64 KB: 1886976\n> 64 KB-256 KB: 1225216\n> 256 KB-1 MB: 170752\n> 1 MB-4 MB: 92928\n> 4 MB-16 MB: 83200\n> 16 MB-64 MB: 40448\n> 64 MB-256 MB: 17664\n> 256 MB-1 GB: 7936\n> 1 GB-4 GB: 2560\n>\n> I'm still working on a CDN solution for the larger files but we can begin\n> testing https://cdn.jsdelivr.net/yocto/sstate today.\n>\n> Here is an example link to a file that is currently popular from each\n> location:\n>\n>\n> http://sstate.yoctoproject.org/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>\n>\n> https://cdn.jsdelivr.net/yocto/sstate/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>\n> I'm also attaching a list of the largest files in sstate. Anything we can\n> do to reduce the size of these or to split them into smaller pieces will\n> help with hosting and with the user's download experience.\n>\n> --\n> Michael Halstead\n> Linux Foundation / Yocto Project\n> Systems Operations Engineer\n>\n\n\n-- \nMichael Halstead\nLinux Foundation / Yocto Project\nSystems Operations Engineer\n\n[-- Attachment #2: Type: text/html, Size: 7091 bytes --]\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "* Re: CDN for sstate.yoctoproject.org\n  2023-09-22 19:03 ` Michael Halstead\n@ 2023-09-23 19:51   ` Michael Halstead\n  2023-09-23 19:52     ` Michael Halstead\n  0 siblings, 1 reply; 10+ messages in thread\nFrom: Michael Halstead @ 2023-09-23 19:51 UTC (permalink / raw)\n  To: Alexander Kanavin, Yocto-mailing-list; +Cc: Richard Purdie, Ross Burton\n\n[-- Attachment #1: Type: text/plain, Size: 6634 bytes --]\n\nAfter some workshopping this morning we have a solution for larger files.\nAlmost every package is now available with CDN acceleration. For files over\n64MB the fetcher will need to follow a series of redirects to work\nproperly. Files under 64MB will be served fast from every region. Larger\nfiles will be proxyed and cached on a smaller network of servers that can\nhandle them. Once cached they will be stored for up to a month. Because\nsstate is immutable that means fast access after the first use in a region.\n\nSet SSTATE_MIRRORS\n<https://docs.yoctoproject.org/ref-manual/variables.html#term-SSTATE_MIRRORS>\nto include https://cdn.jsdelivr.net/yocto/sstate/all or\nhttp://cdn.jsdelivr.net/yocto/sstate/all, test it out, and report back.\n\nIf we want the system to perform as fast as possible we need to change\nSSTATE to work with 64MB file segments but that's a discussion to have\nafter this solution is tested.\n\n\nOn Fri, Sep 22, 2023 at 12:03 PM Michael Halstead <\nmhalstead@linuxfoundation.org> wrote:\n\n> Here are packages and size ranges that are not yet served via CDN.\n> Hopefully testing on the smaller files is possible while we figure out\n> a solution for these.\n>\n> assimp 75M 76M\n> binutils 64M 100M\n> boost 68M 148M\n> ceres-solver 167M 182M\n> cmake 157M 553M\n> ffmpeg 68M 69M\n> gcc 127M 681M\n> gcc-cross-aarch64 64M 102M\n> gcc-cross-arm 64M 72M\n> gcc-cross-i686 65M 80M\n> gcc-cross-mips 65M 69M\n> gcc-cross-mips64 64M 69M\n> gcc-cross-powerpc 64M 72M\n> gcc-cross-x86_64 65M 104M\n> gcc-crosssdk-aarch64-pokysdk-linux 65M 75M\n> gcc-crosssdk-i686-oesdk-linux 65M 77M\n> gcc-crosssdk-i686-pokysdk-linux 65M 79M\n> gcc-crosssdk-i686-w64-mingw32 66M 78M\n> gcc-crosssdk-x86_64-oesdk-linux 65M 78M\n> gcc-crosssdk-x86_64-pokysdk-linux 65M 80M\n> gcc-crosssdk-x86_64-w64-mingw32 67M 79M\n> gdb 66M 105M\n> ghostscript 64M 115M\n> git 68M 90M\n> glibc-locale 81M 228M\n> go 67M 67M\n> go-binary-native 82M 82M\n> go-cross-core2-32 98M 100M\n> go-cross-core2-64 93M 100M\n> go-cross-corei7-64 98M 99M\n> go-cross-cortexa15t2hf-neon 99M 99M\n> go-cross-cortexa57 93M 99M\n> go-cross-cortexa8hf-neon 99M 100M\n> go-cross-mips32r2 98M 99M\n> go-cross-mips64 99M 99M\n> go-cross-mips64r2 99M 99M\n> go-native 86M 86M\n> go-runtime 64M 82M\n> grpc 74M 102M\n> hdf5 78M 137M\n> influxdb 76M 98M\n> intel-media-driver 68M 132M\n> jemalloc 164M 164M\n> kea 65M 153M\n> lib32-binutils 64M 70M\n> lib32-boost 77M 122M\n> lib32-cmake 158M 305M\n> lib32-gcc 144M 390M\n> lib32-gcc-cross-i686 65M 79M\n> lib32-gcc-cross-mips 65M 69M\n> lib32-ghostscript 65M 83M\n> lib32-git 65M 65M\n> lib32-glibc-locale 81M 228M\n> lib32-go-cross-x86 98M 99M\n> lib32-kea 64M 88M\n> lib32-linux-firmware 275M 419M\n> lib32-llvm 1126.4M 2662.4M\n> lib32-ltp 77M 305M\n> lib32-mesa 65M 68M\n> lib32-openssl 119M 360M\n> lib32-piglit 106M 106M\n> lib32-qemu 275M 639M\n> lib32-rust 93M 129M\n> lib32-rust-llvm 64M 76M\n> lib32-spirv-tools 68M 107M\n> lib32-valgrind 68M 89M\n> lib32-vulkan-demos 74M 74M\n> lib32-vulkan-validation-layers 65M 101M\n> lib32-webkitgtk 1126.4M 927M\n> lib64-boost 75M 119M\n> lib64-gcc 151M 401M\n> lib64-gcc-cross-mips64 65M 69M\n> lib64-gcc-cross-x86_64 65M 80M\n> lib64-glibc-locale 82M 228M\n> lib64-go-cross-x86_64 98M 99M\n> lib64-go-runtime 68M 81M\n> lib64-ltp 67M 347M\n> lib64-mesa 66M 68M\n> lib64-openssl 276M 411M\n> lib64-rust 97M 123M\n> lib64-rust-llvm 64M 67M\n> lib64-valgrind 65M 84M\n> libyang 93M 93M\n> linux-firmware 275M 419M\n> linux-intel 120M 395M\n> linux-yocto 66M 537M\n> linux-yocto-rt 174M 287M\n> llvm 1126.4M 3481.6M\n> llvm-native 71M 88M\n> ltp 64M 598M\n> mariadb 1331.2M 966M\n> mariadb-native 237M 259M\n> mesa 64M 113M\n> minifi-cpp 155M 214M\n> mozjs-102 183M 255M\n> nativesdk-glibc-locale 81M 226M\n> nativesdk-qemu 245M 644M\n> nativesdk-rust 82M 125M\n> nativesdk-rust-llvm 65M 73M\n> nodejs 1024.0M 723M\n> opencv 185M 237M\n> opengl-es-cts 406M 560M\n> openssl 92M 685M\n> php 67M 68M\n> piglit 106M 106M\n> poco 75M 107M\n> python3-grpcio 65M 88M\n> python3-wxgtk4 70M 100M\n> qemu 1228.8M 929M\n> qemu-system-native 65M 71M\n> renderdoc 67M 82M\n> rocksdb 177M 272M\n> rust 85M 140M\n> rust-llvm 64M 79M\n> rust-llvm-native 287M 418M\n> rust-native 78M 85M\n> spirv-tools 64M 195M\n> systemd 69M 71M\n> tesseract-lang 369M 451M\n> upm 82M 82M\n> valgrind 64M 128M\n> vsomeip 82M 149M\n> vulkan-cts 592M 833M\n> vulkan-demos 73M 138M\n> vulkan-validation-layers 65M 108M\n> webkitgtk 1024.0M 995M\n> webkitgtk3 1126.4M 1638.4M\n> wireshark 65M 85M\n> wxwidgets 70M 88M\n>\n> On Fri, Sep 22, 2023 at 10:32 AM Michael Halstead <\n> mhalstead@linuxfoundation.org> wrote:\n>\n>> Right now we have https://cdn.jsdelivr.net/yocto/sstate set up as a CDN\n>> mirroring proxy endpoint. It's fast and completely free to the project.\n>> However, it will only work for files smaller than 64MB and will send a\n>> redirect to the main server at sstate.yoctoproject.org for files larger\n>> than 64MB.\n>>\n>> The good news is that we have a fast free CDN provided by\n>> https://www.jsdelivr.com/ and their many sponsors for 99.4% of our files.\n>>\n>> Here is an estimated distribution of sstate files currently available:\n>> 1 KB-4 KB: 103168\n>> 4 KB-16 KB: 1218048\n>> 16 KB-64 KB: 1886976\n>> 64 KB-256 KB: 1225216\n>> 256 KB-1 MB: 170752\n>> 1 MB-4 MB: 92928\n>> 4 MB-16 MB: 83200\n>> 16 MB-64 MB: 40448\n>> 64 MB-256 MB: 17664\n>> 256 MB-1 GB: 7936\n>> 1 GB-4 GB: 2560\n>>\n>> I'm still working on a CDN solution for the larger files but we can begin\n>> testing https://cdn.jsdelivr.net/yocto/sstate today.\n>>\n>> Here is an example link to a file that is currently popular from each\n>> location:\n>>\n>>\n>> http://sstate.yoctoproject.org/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>>\n>>\n>> https://cdn.jsdelivr.net/yocto/sstate/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>>\n>> I'm also attaching a list of the largest files in sstate. Anything we can\n>> do to reduce the size of these or to split them into smaller pieces will\n>> help with hosting and with the user's download experience.\n>>\n>> --\n>> Michael Halstead\n>> Linux Foundation / Yocto Project\n>> Systems Operations Engineer\n>>\n>\n>\n> --\n> Michael Halstead\n> Linux Foundation / Yocto Project\n> Systems Operations Engineer\n>\n\n\n-- \nMichael Halstead\nLinux Foundation / Yocto Project\nSystems Operations Engineer\n\n[-- Attachment #2: Type: text/html, Size: 8871 bytes --]\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "* Re: CDN for sstate.yoctoproject.org\n  2023-09-23 19:51   ` Michael Halstead\n@ 2023-09-23 19:52     ` Michael Halstead\n  2023-09-23 20:39       ` [yocto] \" Khem Raj\n  2023-09-24 13:37       ` akuster808\n  0 siblings, 2 replies; 10+ messages in thread\nFrom: Michael Halstead @ 2023-09-23 19:52 UTC (permalink / raw)\n  To: Alexander Kanavin, Yocto-mailing-list; +Cc: Richard Purdie, Ross Burton\n\n[-- Attachment #1: Type: text/plain, Size: 7233 bytes --]\n\nWhen adding https://cdn.jsdelivr.net/yocto/sstate/all please remove any\nreference to sstate.yoctoproject.org from SSTATE_MIRRORS to ensure a proper\ntest.\n\nThank you\n\nOn Sat, Sep 23, 2023 at 12:51 PM Michael Halstead <\nmhalstead@linuxfoundation.org> wrote:\n\n> After some workshopping this morning we have a solution for larger files.\n> Almost every package is now available with CDN acceleration. For files over\n> 64MB the fetcher will need to follow a series of redirects to work\n> properly. Files under 64MB will be served fast from every region. Larger\n> files will be proxyed and cached on a smaller network of servers that can\n> handle them. Once cached they will be stored for up to a month. Because\n> sstate is immutable that means fast access after the first use in a region.\n>\n> Set SSTATE_MIRRORS\n> <https://docs.yoctoproject.org/ref-manual/variables.html#term-SSTATE_MIRRORS>\n> to include https://cdn.jsdelivr.net/yocto/sstate/all or\n> http://cdn.jsdelivr.net/yocto/sstate/all, test it out, and report back.\n>\n> If we want the system to perform as fast as possible we need to change\n> SSTATE to work with 64MB file segments but that's a discussion to have\n> after this solution is tested.\n>\n>\n> On Fri, Sep 22, 2023 at 12:03 PM Michael Halstead <\n> mhalstead@linuxfoundation.org> wrote:\n>\n>> Here are packages and size ranges that are not yet served via CDN.\n>> Hopefully testing on the smaller files is possible while we figure out\n>> a solution for these.\n>>\n>> assimp 75M 76M\n>> binutils 64M 100M\n>> boost 68M 148M\n>> ceres-solver 167M 182M\n>> cmake 157M 553M\n>> ffmpeg 68M 69M\n>> gcc 127M 681M\n>> gcc-cross-aarch64 64M 102M\n>> gcc-cross-arm 64M 72M\n>> gcc-cross-i686 65M 80M\n>> gcc-cross-mips 65M 69M\n>> gcc-cross-mips64 64M 69M\n>> gcc-cross-powerpc 64M 72M\n>> gcc-cross-x86_64 65M 104M\n>> gcc-crosssdk-aarch64-pokysdk-linux 65M 75M\n>> gcc-crosssdk-i686-oesdk-linux 65M 77M\n>> gcc-crosssdk-i686-pokysdk-linux 65M 79M\n>> gcc-crosssdk-i686-w64-mingw32 66M 78M\n>> gcc-crosssdk-x86_64-oesdk-linux 65M 78M\n>> gcc-crosssdk-x86_64-pokysdk-linux 65M 80M\n>> gcc-crosssdk-x86_64-w64-mingw32 67M 79M\n>> gdb 66M 105M\n>> ghostscript 64M 115M\n>> git 68M 90M\n>> glibc-locale 81M 228M\n>> go 67M 67M\n>> go-binary-native 82M 82M\n>> go-cross-core2-32 98M 100M\n>> go-cross-core2-64 93M 100M\n>> go-cross-corei7-64 98M 99M\n>> go-cross-cortexa15t2hf-neon 99M 99M\n>> go-cross-cortexa57 93M 99M\n>> go-cross-cortexa8hf-neon 99M 100M\n>> go-cross-mips32r2 98M 99M\n>> go-cross-mips64 99M 99M\n>> go-cross-mips64r2 99M 99M\n>> go-native 86M 86M\n>> go-runtime 64M 82M\n>> grpc 74M 102M\n>> hdf5 78M 137M\n>> influxdb 76M 98M\n>> intel-media-driver 68M 132M\n>> jemalloc 164M 164M\n>> kea 65M 153M\n>> lib32-binutils 64M 70M\n>> lib32-boost 77M 122M\n>> lib32-cmake 158M 305M\n>> lib32-gcc 144M 390M\n>> lib32-gcc-cross-i686 65M 79M\n>> lib32-gcc-cross-mips 65M 69M\n>> lib32-ghostscript 65M 83M\n>> lib32-git 65M 65M\n>> lib32-glibc-locale 81M 228M\n>> lib32-go-cross-x86 98M 99M\n>> lib32-kea 64M 88M\n>> lib32-linux-firmware 275M 419M\n>> lib32-llvm 1126.4M 2662.4M\n>> lib32-ltp 77M 305M\n>> lib32-mesa 65M 68M\n>> lib32-openssl 119M 360M\n>> lib32-piglit 106M 106M\n>> lib32-qemu 275M 639M\n>> lib32-rust 93M 129M\n>> lib32-rust-llvm 64M 76M\n>> lib32-spirv-tools 68M 107M\n>> lib32-valgrind 68M 89M\n>> lib32-vulkan-demos 74M 74M\n>> lib32-vulkan-validation-layers 65M 101M\n>> lib32-webkitgtk 1126.4M 927M\n>> lib64-boost 75M 119M\n>> lib64-gcc 151M 401M\n>> lib64-gcc-cross-mips64 65M 69M\n>> lib64-gcc-cross-x86_64 65M 80M\n>> lib64-glibc-locale 82M 228M\n>> lib64-go-cross-x86_64 98M 99M\n>> lib64-go-runtime 68M 81M\n>> lib64-ltp 67M 347M\n>> lib64-mesa 66M 68M\n>> lib64-openssl 276M 411M\n>> lib64-rust 97M 123M\n>> lib64-rust-llvm 64M 67M\n>> lib64-valgrind 65M 84M\n>> libyang 93M 93M\n>> linux-firmware 275M 419M\n>> linux-intel 120M 395M\n>> linux-yocto 66M 537M\n>> linux-yocto-rt 174M 287M\n>> llvm 1126.4M 3481.6M\n>> llvm-native 71M 88M\n>> ltp 64M 598M\n>> mariadb 1331.2M 966M\n>> mariadb-native 237M 259M\n>> mesa 64M 113M\n>> minifi-cpp 155M 214M\n>> mozjs-102 183M 255M\n>> nativesdk-glibc-locale 81M 226M\n>> nativesdk-qemu 245M 644M\n>> nativesdk-rust 82M 125M\n>> nativesdk-rust-llvm 65M 73M\n>> nodejs 1024.0M 723M\n>> opencv 185M 237M\n>> opengl-es-cts 406M 560M\n>> openssl 92M 685M\n>> php 67M 68M\n>> piglit 106M 106M\n>> poco 75M 107M\n>> python3-grpcio 65M 88M\n>> python3-wxgtk4 70M 100M\n>> qemu 1228.8M 929M\n>> qemu-system-native 65M 71M\n>> renderdoc 67M 82M\n>> rocksdb 177M 272M\n>> rust 85M 140M\n>> rust-llvm 64M 79M\n>> rust-llvm-native 287M 418M\n>> rust-native 78M 85M\n>> spirv-tools 64M 195M\n>> systemd 69M 71M\n>> tesseract-lang 369M 451M\n>> upm 82M 82M\n>> valgrind 64M 128M\n>> vsomeip 82M 149M\n>> vulkan-cts 592M 833M\n>> vulkan-demos 73M 138M\n>> vulkan-validation-layers 65M 108M\n>> webkitgtk 1024.0M 995M\n>> webkitgtk3 1126.4M 1638.4M\n>> wireshark 65M 85M\n>> wxwidgets 70M 88M\n>>\n>> On Fri, Sep 22, 2023 at 10:32 AM Michael Halstead <\n>> mhalstead@linuxfoundation.org> wrote:\n>>\n>>> Right now we have https://cdn.jsdelivr.net/yocto/sstate set up as a CDN\n>>> mirroring proxy endpoint. It's fast and completely free to the project.\n>>> However, it will only work for files smaller than 64MB and will send a\n>>> redirect to the main server at sstate.yoctoproject.org for files larger\n>>> than 64MB.\n>>>\n>>> The good news is that we have a fast free CDN provided by\n>>> https://www.jsdelivr.com/ and their many sponsors for 99.4% of our\n>>> files.\n>>>\n>>> Here is an estimated distribution of sstate files currently available:\n>>> 1 KB-4 KB: 103168\n>>> 4 KB-16 KB: 1218048\n>>> 16 KB-64 KB: 1886976\n>>> 64 KB-256 KB: 1225216\n>>> 256 KB-1 MB: 170752\n>>> 1 MB-4 MB: 92928\n>>> 4 MB-16 MB: 83200\n>>> 16 MB-64 MB: 40448\n>>> 64 MB-256 MB: 17664\n>>> 256 MB-1 GB: 7936\n>>> 1 GB-4 GB: 2560\n>>>\n>>> I'm still working on a CDN solution for the larger files but we can\n>>> begin testing https://cdn.jsdelivr.net/yocto/sstate today.\n>>>\n>>> Here is an example link to a file that is currently popular from each\n>>> location:\n>>>\n>>>\n>>> http://sstate.yoctoproject.org/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>>>\n>>>\n>>> https://cdn.jsdelivr.net/yocto/sstate/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>>>\n>>> I'm also attaching a list of the largest files in sstate. Anything we\n>>> can do to reduce the size of these or to split them into smaller pieces\n>>> will help with hosting and with the user's download experience.\n>>>\n>>> --\n>>> Michael Halstead\n>>> Linux Foundation / Yocto Project\n>>> Systems Operations Engineer\n>>>\n>>\n>>\n>> --\n>> Michael Halstead\n>> Linux Foundation / Yocto Project\n>> Systems Operations Engineer\n>>\n>\n>\n> --\n> Michael Halstead\n> Linux Foundation / Yocto Project\n> Systems Operations Engineer\n>\n\n\n-- \nMichael Halstead\nLinux Foundation / Yocto Project\nSystems Operations Engineer\n\n[-- Attachment #2: Type: text/html, Size: 9885 bytes --]\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "* Re: [yocto] CDN for sstate.yoctoproject.org\n  2023-09-23 19:52     ` Michael Halstead\n@ 2023-09-23 20:39       ` Khem Raj\n  2023-09-24 13:37       ` akuster808\n  1 sibling, 0 replies; 10+ messages in thread\nFrom: Khem Raj @ 2023-09-23 20:39 UTC (permalink / raw)\n  To: Michael Halstead\n  Cc: Alexander Kanavin, Yocto-mailing-list, Richard Purdie, Ross Burton\n\nFor fun, I tried scratch build of core-image-sato-sdk from master-next\n+ my changes with the new SSTATE_MIRROR\n\nInitialising tasks: 100%\n|###############################################################################################################################################################|\nTime: 0:02:16\nChecking sstate mirror object availability: 100%\n|#######################################################################################################################################|\nTime: 0:02:26\nSstate summary: Wanted 5040 Local 3 Mirrors 5024 Missed 13 Current 0\n(99% match, 0% complete)\n\n...\n\nNOTE: Tasks Summary: Attempted 10124 tasks of which 10092 didn't need\nto be rerun and all succeeded.\n\nSo match percentage is cool.\n\nElapsed time: 799.86 seconds\n\nwhich is approx 13 mins so pretty cool given that sstate download is\nalso included in this time.\n\nOn Sat, Sep 23, 2023 at 12:53 PM Michael Halstead\n<mhalstead@linuxfoundation.org> wrote:\n>\n> When adding https://cdn.jsdelivr.net/yocto/sstate/all please remove any reference to sstate.yoctoproject.org from SSTATE_MIRRORS to ensure a proper test.\n>\n> Thank you\n>\n> On Sat, Sep 23, 2023 at 12:51 PM Michael Halstead <mhalstead@linuxfoundation.org> wrote:\n>>\n>> After some workshopping this morning we have a solution for larger files. Almost every package is now available with CDN acceleration. For files over 64MB the fetcher will need to follow a series of redirects to work properly. Files under 64MB will be served fast from every region. Larger files will be proxyed and cached on a smaller network of servers that can handle them. Once cached they will be stored for up to a month. Because sstate is immutable that means fast access after the first use in a region.\n>>\n>> Set SSTATE_MIRRORS to include https://cdn.jsdelivr.net/yocto/sstate/all or http://cdn.jsdelivr.net/yocto/sstate/all, test it out, and report back.\n>>\n>> If we want the system to perform as fast as possible we need to change SSTATE to work with 64MB file segments but that's a discussion to have after this solution is tested.\n>>\n>>\n>> On Fri, Sep 22, 2023 at 12:03 PM Michael Halstead <mhalstead@linuxfoundation.org> wrote:\n>>>\n>>> Here are packages and size ranges that are not yet served via CDN. Hopefully testing on the smaller files is possible while we figure out a solution for these.\n>>>\n>>> assimp 75M 76M\n>>> binutils 64M 100M\n>>> boost 68M 148M\n>>> ceres-solver 167M 182M\n>>> cmake 157M 553M\n>>> ffmpeg 68M 69M\n>>> gcc 127M 681M\n>>> gcc-cross-aarch64 64M 102M\n>>> gcc-cross-arm 64M 72M\n>>> gcc-cross-i686 65M 80M\n>>> gcc-cross-mips 65M 69M\n>>> gcc-cross-mips64 64M 69M\n>>> gcc-cross-powerpc 64M 72M\n>>> gcc-cross-x86_64 65M 104M\n>>> gcc-crosssdk-aarch64-pokysdk-linux 65M 75M\n>>> gcc-crosssdk-i686-oesdk-linux 65M 77M\n>>> gcc-crosssdk-i686-pokysdk-linux 65M 79M\n>>> gcc-crosssdk-i686-w64-mingw32 66M 78M\n>>> gcc-crosssdk-x86_64-oesdk-linux 65M 78M\n>>> gcc-crosssdk-x86_64-pokysdk-linux 65M 80M\n>>> gcc-crosssdk-x86_64-w64-mingw32 67M 79M\n>>> gdb 66M 105M\n>>> ghostscript 64M 115M\n>>> git 68M 90M\n>>> glibc-locale 81M 228M\n>>> go 67M 67M\n>>> go-binary-native 82M 82M\n>>> go-cross-core2-32 98M 100M\n>>> go-cross-core2-64 93M 100M\n>>> go-cross-corei7-64 98M 99M\n>>> go-cross-cortexa15t2hf-neon 99M 99M\n>>> go-cross-cortexa57 93M 99M\n>>> go-cross-cortexa8hf-neon 99M 100M\n>>> go-cross-mips32r2 98M 99M\n>>> go-cross-mips64 99M 99M\n>>> go-cross-mips64r2 99M 99M\n>>> go-native 86M 86M\n>>> go-runtime 64M 82M\n>>> grpc 74M 102M\n>>> hdf5 78M 137M\n>>> influxdb 76M 98M\n>>> intel-media-driver 68M 132M\n>>> jemalloc 164M 164M\n>>> kea 65M 153M\n>>> lib32-binutils 64M 70M\n>>> lib32-boost 77M 122M\n>>> lib32-cmake 158M 305M\n>>> lib32-gcc 144M 390M\n>>> lib32-gcc-cross-i686 65M 79M\n>>> lib32-gcc-cross-mips 65M 69M\n>>> lib32-ghostscript 65M 83M\n>>> lib32-git 65M 65M\n>>> lib32-glibc-locale 81M 228M\n>>> lib32-go-cross-x86 98M 99M\n>>> lib32-kea 64M 88M\n>>> lib32-linux-firmware 275M 419M\n>>> lib32-llvm 1126.4M 2662.4M\n>>> lib32-ltp 77M 305M\n>>> lib32-mesa 65M 68M\n>>> lib32-openssl 119M 360M\n>>> lib32-piglit 106M 106M\n>>> lib32-qemu 275M 639M\n>>> lib32-rust 93M 129M\n>>> lib32-rust-llvm 64M 76M\n>>> lib32-spirv-tools 68M 107M\n>>> lib32-valgrind 68M 89M\n>>> lib32-vulkan-demos 74M 74M\n>>> lib32-vulkan-validation-layers 65M 101M\n>>> lib32-webkitgtk 1126.4M 927M\n>>> lib64-boost 75M 119M\n>>> lib64-gcc 151M 401M\n>>> lib64-gcc-cross-mips64 65M 69M\n>>> lib64-gcc-cross-x86_64 65M 80M\n>>> lib64-glibc-locale 82M 228M\n>>> lib64-go-cross-x86_64 98M 99M\n>>> lib64-go-runtime 68M 81M\n>>> lib64-ltp 67M 347M\n>>> lib64-mesa 66M 68M\n>>> lib64-openssl 276M 411M\n>>> lib64-rust 97M 123M\n>>> lib64-rust-llvm 64M 67M\n>>> lib64-valgrind 65M 84M\n>>> libyang 93M 93M\n>>> linux-firmware 275M 419M\n>>> linux-intel 120M 395M\n>>> linux-yocto 66M 537M\n>>> linux-yocto-rt 174M 287M\n>>> llvm 1126.4M 3481.6M\n>>> llvm-native 71M 88M\n>>> ltp 64M 598M\n>>> mariadb 1331.2M 966M\n>>> mariadb-native 237M 259M\n>>> mesa 64M 113M\n>>> minifi-cpp 155M 214M\n>>> mozjs-102 183M 255M\n>>> nativesdk-glibc-locale 81M 226M\n>>> nativesdk-qemu 245M 644M\n>>> nativesdk-rust 82M 125M\n>>> nativesdk-rust-llvm 65M 73M\n>>> nodejs 1024.0M 723M\n>>> opencv 185M 237M\n>>> opengl-es-cts 406M 560M\n>>> openssl 92M 685M\n>>> php 67M 68M\n>>> piglit 106M 106M\n>>> poco 75M 107M\n>>> python3-grpcio 65M 88M\n>>> python3-wxgtk4 70M 100M\n>>> qemu 1228.8M 929M\n>>> qemu-system-native 65M 71M\n>>> renderdoc 67M 82M\n>>> rocksdb 177M 272M\n>>> rust 85M 140M\n>>> rust-llvm 64M 79M\n>>> rust-llvm-native 287M 418M\n>>> rust-native 78M 85M\n>>> spirv-tools 64M 195M\n>>> systemd 69M 71M\n>>> tesseract-lang 369M 451M\n>>> upm 82M 82M\n>>> valgrind 64M 128M\n>>> vsomeip 82M 149M\n>>> vulkan-cts 592M 833M\n>>> vulkan-demos 73M 138M\n>>> vulkan-validation-layers 65M 108M\n>>> webkitgtk 1024.0M 995M\n>>> webkitgtk3 1126.4M 1638.4M\n>>> wireshark 65M 85M\n>>> wxwidgets 70M 88M\n>>>\n>>> On Fri, Sep 22, 2023 at 10:32 AM Michael Halstead <mhalstead@linuxfoundation.org> wrote:\n>>>>\n>>>> Right now we have https://cdn.jsdelivr.net/yocto/sstate set up as a CDN mirroring proxy endpoint. It's fast and completely free to the project. However, it will only work for files smaller than 64MB and will send a redirect to the main server at sstate.yoctoproject.org for files larger than 64MB.\n>>>>\n>>>> The good news is that we have a fast free CDN provided by https://www.jsdelivr.com/ and their many sponsors for 99.4% of our files.\n>>>>\n>>>> Here is an estimated distribution of sstate files currently available:\n>>>> 1 KB-4 KB: 103168\n>>>> 4 KB-16 KB: 1218048\n>>>> 16 KB-64 KB: 1886976\n>>>> 64 KB-256 KB: 1225216\n>>>> 256 KB-1 MB: 170752\n>>>> 1 MB-4 MB: 92928\n>>>> 4 MB-16 MB: 83200\n>>>> 16 MB-64 MB: 40448\n>>>> 64 MB-256 MB: 17664\n>>>> 256 MB-1 GB: 7936\n>>>> 1 GB-4 GB: 2560\n>>>>\n>>>> I'm still working on a CDN solution for the larger files but we can begin testing https://cdn.jsdelivr.net/yocto/sstate today.\n>>>>\n>>>> Here is an example link to a file that is currently popular from each location:\n>>>>\n>>>> http://sstate.yoctoproject.org/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>>>>\n>>>> https://cdn.jsdelivr.net/yocto/sstate/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>>>>\n>>>> I'm also attaching a list of the largest files in sstate. Anything we can do to reduce the size of these or to split them into smaller pieces will help with hosting and with the user's download experience.\n>>>>\n>>>> --\n>>>> Michael Halstead\n>>>> Linux Foundation / Yocto Project\n>>>> Systems Operations Engineer\n>>>\n>>>\n>>>\n>>> --\n>>> Michael Halstead\n>>> Linux Foundation / Yocto Project\n>>> Systems Operations Engineer\n>>\n>>\n>>\n>> --\n>> Michael Halstead\n>> Linux Foundation / Yocto Project\n>> Systems Operations Engineer\n>\n>\n>\n> --\n> Michael Halstead\n> Linux Foundation / Yocto Project\n> Systems Operations Engineer\n>\n> -=-=-=-=-=-=-=-=-=-=-=-\n> Links: You receive all messages sent to this group.\n> You automatically follow any topics you start or reply to.\n> View/Reply Online (#61088): https://lists.yoctoproject.org/g/yocto/message/61088\n> Mute This Topic: https://lists.yoctoproject.org/mt/101525879/1997914\n> Group Owner: yocto+owner@lists.yoctoproject.org\n> Unsubscribe: https://lists.yoctoproject.org/g/yocto/leave/6692173/1997914/1837948400/xyzzy [raj.khem@gmail.com]\n> -=-=-=-=-=-=-=-=-=-=-=-\n>\n\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "* Re: [yocto] CDN for sstate.yoctoproject.org\n  2023-09-23 19:52     ` Michael Halstead\n  2023-09-23 20:39       ` [yocto] \" Khem Raj\n@ 2023-09-24 13:37       ` akuster808\n  1 sibling, 0 replies; 10+ messages in thread\nFrom: akuster808 @ 2023-09-24 13:37 UTC (permalink / raw)\n  To: Michael Halstead, Alexander Kanavin, Yocto-mailing-list\n  Cc: Richard Purdie, Ross Burton\n\nHello Micheal,\n\nThanks for working on this.\n\nBR,\nArmin\n\nOn 9/23/23 3:52 PM, Michael Halstead wrote:\n> When adding https://cdn.jsdelivr.net/yocto/sstate/all \n> <https://cdn.jsdelivr.net/yocto/sstate/all> please remove any \n> reference to sstate.yoctoproject.org <http://sstate.yoctoproject.org> \n> from SSTATE_MIRRORS to ensure a proper test.\n>\n> Thank you\n>\n> On Sat, Sep 23, 2023 at 12:51 PM Michael Halstead \n> <mhalstead@linuxfoundation.org> wrote:\n>\n>     After some workshopping this morning we have a solution for larger\n>     files. Almost every package is now available with CDN\n>     acceleration. For files over 64MB the fetcher will need to follow\n>     a series of redirects to work properly. Files under 64MB will be\n>     served fast from every region. Larger files will be proxyed and\n>     cached on a smaller network of servers that can handle them. Once\n>     cached they will be stored for up to a month. Because sstate is\n>     immutable that means fast access after the first use in a region.\n>\n>     Set SSTATE_MIRRORS\n>     <https://docs.yoctoproject.org/ref-manual/variables.html#term-SSTATE_MIRRORS>\n>     to include https://cdn.jsdelivr.net/yocto/sstate/all or\n>     http://cdn.jsdelivr.net/yocto/sstate/all, test it out, and report\n>     back.\n>\n>     If we want the system to perform as fast as possible we need to\n>     change SSTATE to work with 64MB file segments but that's a\n>     discussion to have after this solution is tested.\n>\n>\n>     On Fri, Sep 22, 2023 at 12:03 PM Michael Halstead\n>     <mhalstead@linuxfoundation.org> wrote:\n>\n>         Here are packages and size ranges that are not yet served via\n>         CDN. Hopefully testing on the smaller files is possible while\n>         we figure out a solution for these.\n>\n>         assimp 75M 76M\n>         binutils 64M 100M\n>         boost 68M 148M\n>         ceres-solver 167M 182M\n>         cmake 157M 553M\n>         ffmpeg 68M 69M\n>         gcc 127M 681M\n>         gcc-cross-aarch64 64M 102M\n>         gcc-cross-arm 64M 72M\n>         gcc-cross-i686 65M 80M\n>         gcc-cross-mips 65M 69M\n>         gcc-cross-mips64 64M 69M\n>         gcc-cross-powerpc 64M 72M\n>         gcc-cross-x86_64 65M 104M\n>         gcc-crosssdk-aarch64-pokysdk-linux 65M 75M\n>         gcc-crosssdk-i686-oesdk-linux 65M 77M\n>         gcc-crosssdk-i686-pokysdk-linux 65M 79M\n>         gcc-crosssdk-i686-w64-mingw32 66M 78M\n>         gcc-crosssdk-x86_64-oesdk-linux 65M 78M\n>         gcc-crosssdk-x86_64-pokysdk-linux 65M 80M\n>         gcc-crosssdk-x86_64-w64-mingw32 67M 79M\n>         gdb 66M 105M\n>         ghostscript 64M 115M\n>         git 68M 90M\n>         glibc-locale 81M 228M\n>         go 67M 67M\n>         go-binary-native 82M 82M\n>         go-cross-core2-32 98M 100M\n>         go-cross-core2-64 93M 100M\n>         go-cross-corei7-64 98M 99M\n>         go-cross-cortexa15t2hf-neon 99M 99M\n>         go-cross-cortexa57 93M 99M\n>         go-cross-cortexa8hf-neon 99M 100M\n>         go-cross-mips32r2 98M 99M\n>         go-cross-mips64 99M 99M\n>         go-cross-mips64r2 99M 99M\n>         go-native 86M 86M\n>         go-runtime 64M 82M\n>         grpc 74M 102M\n>         hdf5 78M 137M\n>         influxdb 76M 98M\n>         intel-media-driver 68M 132M\n>         jemalloc 164M 164M\n>         kea 65M 153M\n>         lib32-binutils 64M 70M\n>         lib32-boost 77M 122M\n>         lib32-cmake 158M 305M\n>         lib32-gcc 144M 390M\n>         lib32-gcc-cross-i686 65M 79M\n>         lib32-gcc-cross-mips 65M 69M\n>         lib32-ghostscript 65M 83M\n>         lib32-git 65M 65M\n>         lib32-glibc-locale 81M 228M\n>         lib32-go-cross-x86 98M 99M\n>         lib32-kea 64M 88M\n>         lib32-linux-firmware 275M 419M\n>         lib32-llvm 1126.4M 2662.4M\n>         lib32-ltp 77M 305M\n>         lib32-mesa 65M 68M\n>         lib32-openssl 119M 360M\n>         lib32-piglit 106M 106M\n>         lib32-qemu 275M 639M\n>         lib32-rust 93M 129M\n>         lib32-rust-llvm 64M 76M\n>         lib32-spirv-tools 68M 107M\n>         lib32-valgrind 68M 89M\n>         lib32-vulkan-demos 74M 74M\n>         lib32-vulkan-validation-layers 65M 101M\n>         lib32-webkitgtk 1126.4M 927M\n>         lib64-boost 75M 119M\n>         lib64-gcc 151M 401M\n>         lib64-gcc-cross-mips64 65M 69M\n>         lib64-gcc-cross-x86_64 65M 80M\n>         lib64-glibc-locale 82M 228M\n>         lib64-go-cross-x86_64 98M 99M\n>         lib64-go-runtime 68M 81M\n>         lib64-ltp 67M 347M\n>         lib64-mesa 66M 68M\n>         lib64-openssl 276M 411M\n>         lib64-rust 97M 123M\n>         lib64-rust-llvm 64M 67M\n>         lib64-valgrind 65M 84M\n>         libyang 93M 93M\n>         linux-firmware 275M 419M\n>         linux-intel 120M 395M\n>         linux-yocto 66M 537M\n>         linux-yocto-rt 174M 287M\n>         llvm 1126.4M 3481.6M\n>         llvm-native 71M 88M\n>         ltp 64M 598M\n>         mariadb 1331.2M 966M\n>         mariadb-native 237M 259M\n>         mesa 64M 113M\n>         minifi-cpp 155M 214M\n>         mozjs-102 183M 255M\n>         nativesdk-glibc-locale 81M 226M\n>         nativesdk-qemu 245M 644M\n>         nativesdk-rust 82M 125M\n>         nativesdk-rust-llvm 65M 73M\n>         nodejs 1024.0M 723M\n>         opencv 185M 237M\n>         opengl-es-cts 406M 560M\n>         openssl 92M 685M\n>         php 67M 68M\n>         piglit 106M 106M\n>         poco 75M 107M\n>         python3-grpcio 65M 88M\n>         python3-wxgtk4 70M 100M\n>         qemu 1228.8M 929M\n>         qemu-system-native 65M 71M\n>         renderdoc 67M 82M\n>         rocksdb 177M 272M\n>         rust 85M 140M\n>         rust-llvm 64M 79M\n>         rust-llvm-native 287M 418M\n>         rust-native 78M 85M\n>         spirv-tools 64M 195M\n>         systemd 69M 71M\n>         tesseract-lang 369M 451M\n>         upm 82M 82M\n>         valgrind 64M 128M\n>         vsomeip 82M 149M\n>         vulkan-cts 592M 833M\n>         vulkan-demos 73M 138M\n>         vulkan-validation-layers 65M 108M\n>         webkitgtk 1024.0M 995M\n>         webkitgtk3 1126.4M 1638.4M\n>         wireshark 65M 85M\n>         wxwidgets 70M 88M\n>\n>         On Fri, Sep 22, 2023 at 10:32 AM Michael Halstead\n>         <mhalstead@linuxfoundation.org> wrote:\n>\n>             Right now we have https://cdn.jsdelivr.net/yocto/sstate\n>             set up as a CDN mirroring proxy endpoint. It's fast and\n>             completely free to the project. However, it will only work\n>             for files smaller than 64MB and will send a redirect to\n>             the main server at sstate.yoctoproject.org\n>             <http://sstate.yoctoproject.org> for files larger than 64MB.\n>\n>             The good news is that we have a fast free CDN provided by\n>             https://www.jsdelivr.com/ and their many sponsors for\n>             99.4% of our files.\n>\n>             Here is an estimated distribution of sstate files\n>             currently available:\n>             1 KB-4 KB: 103168\n>             4 KB-16 KB: 1218048\n>             16 KB-64 KB: 1886976\n>             64 KB-256 KB: 1225216\n>             256 KB-1 MB: 170752\n>             1 MB-4 MB: 92928\n>             4 MB-16 MB: 83200\n>             16 MB-64 MB: 40448\n>             64 MB-256 MB: 17664\n>             256 MB-1 GB: 7936\n>             1 GB-4 GB: 2560\n>\n>             I'm still working on a CDN solution for the larger files\n>             but we can begin testing\n>             https://cdn.jsdelivr.net/yocto/sstate today.\n>\n>             Here is an example link to a file that is currently\n>             popular from each location:\n>\n>             http://sstate.yoctoproject.org/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>\n>             https://cdn.jsdelivr.net/yocto/sstate/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>\n>             I'm also attaching a list of the largest files in sstate.\n>             Anything we can do to reduce the size of these or to split\n>             them into smaller pieces will help with hosting and with\n>             the user's download experience.\n>\n>             -- \n>             Michael Halstead\n>             Linux Foundation / Yocto Project\n>             Systems Operations Engineer\n>\n>\n>\n>         -- \n>         Michael Halstead\n>         Linux Foundation / Yocto Project\n>         Systems Operations Engineer\n>\n>\n>\n>     -- \n>     Michael Halstead\n>     Linux Foundation / Yocto Project\n>     Systems Operations Engineer\n>\n>\n>\n> -- \n> Michael Halstead\n> Linux Foundation / Yocto Project\n> Systems Operations Engineer\n>\n> -=-=-=-=-=-=-=-=-=-=-=-\n> Links: You receive all messages sent to this group.\n> View/Reply Online (#61088): https://lists.yoctoproject.org/g/yocto/message/61088\n> Mute This Topic: https://lists.yoctoproject.org/mt/101525879/3616698\n> Group Owner: yocto+owner@lists.yoctoproject.org\n> Unsubscribe: https://lists.yoctoproject.org/g/yocto/leave/8702355/3616698/227989771/xyzzy [akuster808@gmail.com]\n> -=-=-=-=-=-=-=-=-=-=-=-\n>\n\n\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "* Re: CDN for sstate.yoctoproject.org\n  2023-09-22 17:32 CDN for sstate.yoctoproject.org Michael Halstead\n  2023-09-22 19:03 ` Michael Halstead\n@ 2023-10-17 15:33 ` Alexander Kanavin\n  2023-10-18  6:45   ` Richard Purdie\n  1 sibling, 1 reply; 10+ messages in thread\nFrom: Alexander Kanavin @ 2023-10-17 15:33 UTC (permalink / raw)\n  To: Michael Halstead; +Cc: Yocto-mailing-list, Richard Purdie\n\nThanks for working on this! I finally got to playing with CDN mirror a\nbit, and it seems to basically work ok, so next I'm going to write AB\ntests that check that it remains useful. Specifically:\n\n1. What should the test be?\n\nI tried 'bitbake -S printdiff core-image-sato' on a blank build\ndirectory, and the result against current master is:\n\n===========\nChecking sstate mirror object availability: 100%\n|##################################################################################################################################################|\nTime: 0:05:35\nThe differences between the current build and any cached tasks start\nat the following tasks:\n/srv/work/alex/poky/meta/recipes-sato/images/core-image-sato.bb:do_deploy_source_date_epoch\n/srv/work/alex/poky/meta/recipes-core/base-files/base-files_3.0.14.bb:do_install\n===========\n\nI think this is pretty good! The two missing objects depend on the\ncurrent date, and so should go to the exception list in the test, and\notherwise there is a 100% match rate. The bitbake targets could be\n'world core-image-sato-sdk', and target machines could be qemux86_64\nand qemuarm64.\n\nJust to be sure that mismatches elsewhere will be reported as CDN\nmisses, adding my shadow 4.14 update and re-running the command shows:\n============\nThe differences between the current build and any cached tasks start\nat the following tasks:\n/srv/work/alex/poky/meta/recipes-gnome/hicolor-icon-theme/hicolor-icon-theme_0.17.bb:do_package\n/srv/work/alex/poky/meta/recipes-sato/pulseaudio-sato/pulseaudio-client-conf-sato_1.bb:do_package\n/srv/work/alex/poky/meta/recipes-core/initscripts/initscripts_1.0.bb:do_package\n/srv/work/alex/poky/meta/recipes-core/update-rc.d/update-rc.d_0.8.bb:do_package\n/srv/work/alex/poky/meta/recipes-multimedia/alsa/alsa-ucm-conf_1.2.10.bb:do_package\n/srv/work/alex/poky/meta/recipes-kernel/wireless-regdb/wireless-regdb_2023.09.01.bb:do_package\n/srv/work/alex/poky/meta/recipes-sato/packagegroups/packagegroup-core-x11-sato.bb:do_package\n/srv/work/alex/poky/meta/recipes-kernel/linux-libc-headers/linux-libc-headers_6.5.bb:do_package\n/srv/work/alex/poky/meta/recipes-core/packagegroups/packagegroup-core-ssh-dropbear.bb:do_package\n/srv/work/alex/poky/meta/recipes-graphics/packagegroups/packagegroup-core-x11.bb:do_package\n/srv/work/alex/poky/meta/recipes-sato/shutdown-desktop/shutdown-desktop.bb:do_package\nvirtual:native:/srv/work/alex/poky/meta/recipes-support/libbsd/libbsd_0.11.7.bb:do_prepare_recipe_sysroot\n/srv/work/alex/poky/meta/recipes-support/ca-certificates/ca-certificates_20211016.bb:do_package\n/srv/work/alex/poky/meta/recipes-core/sysvinit/sysvinit-inittab_2.88dsf.bb:do_package\nvirtual:native:/srv/work/alex/poky/meta/recipes-extended/shadow/shadow_4.14.0.bb:do_recipe_qa\n... (a few more missing do_package objects)\n===========\n\n2. When to run the test, and against which commit in poky?\n\nRP suggested that the test could run in an antiphase with the nightly\na-quick (i.e. 12 hours after). We can do that for a start, but I'm\n(perhaps prematurely) worrying that this will be unstable: either\nbecause the objects from the nightly haven't yet propagated to CDN, or\nbecause master has meanwhile (e.g. in the 12 hours that have passed)\ngained new commits without corresponding cache objects. Are those real\nconcerns?\n\nThoughts?\n\nAlex\n\n\nOn Fri, 22 Sept 2023 at 19:32, Michael Halstead\n<mhalstead@linuxfoundation.org> wrote:\n>\n> Right now we have https://cdn.jsdelivr.net/yocto/sstate set up as a CDN mirroring proxy endpoint. It's fast and completely free to the project. However, it will only work for files smaller than 64MB and will send a redirect to the main server at sstate.yoctoproject.org for files larger than 64MB.\n>\n> The good news is that we have a fast free CDN provided by https://www.jsdelivr.com/ and their many sponsors for 99.4% of our files.\n>\n> Here is an estimated distribution of sstate files currently available:\n> 1 KB-4 KB: 103168\n> 4 KB-16 KB: 1218048\n> 16 KB-64 KB: 1886976\n> 64 KB-256 KB: 1225216\n> 256 KB-1 MB: 170752\n> 1 MB-4 MB: 92928\n> 4 MB-16 MB: 83200\n> 16 MB-64 MB: 40448\n> 64 MB-256 MB: 17664\n> 256 MB-1 GB: 7936\n> 1 GB-4 GB: 2560\n>\n> I'm still working on a CDN solution for the larger files but we can begin testing https://cdn.jsdelivr.net/yocto/sstate today.\n>\n> Here is an example link to a file that is currently popular from each location:\n>\n> http://sstate.yoctoproject.org/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>\n> https://cdn.jsdelivr.net/yocto/sstate/all/universal/c6/81/sstate:re2c-native:x86_64-linux:3.1:r0:x86_64:11:c681f19e2786732c7920860d0b27cdcf3a79c9441d9bdaa82319a12e96e6246e_deploy_source_date_epoch.tar.zst\n>\n> I'm also attaching a list of the largest files in sstate. Anything we can do to reduce the size of these or to split them into smaller pieces will help with hosting and with the user's download experience.\n>\n> --\n> Michael Halstead\n> Linux Foundation / Yocto Project\n> Systems Operations Engineer\n\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "* Re: CDN for sstate.yoctoproject.org\n  2023-10-17 15:33 ` Alexander Kanavin\n@ 2023-10-18  6:45   ` Richard Purdie\n  2023-10-18 12:02     ` Alexander Kanavin\n  0 siblings, 1 reply; 10+ messages in thread\nFrom: Richard Purdie @ 2023-10-18  6:45 UTC (permalink / raw)\n  To: Alexander Kanavin, Michael Halstead; +Cc: Yocto-mailing-list\n\nOn Tue, 2023-10-17 at 17:33 +0200, Alexander Kanavin wrote:\n> Thanks for working on this! I finally got to playing with CDN mirror a\n> bit, and it seems to basically work ok, so next I'm going to write AB\n> tests that check that it remains useful. Specifically:\n> \n> 1. What should the test be?\n> \n> I tried 'bitbake -S printdiff core-image-sato' on a blank build\n> directory, and the result against current master is:\n> \n> ===========\n> Checking sstate mirror object availability: 100%\n> > ##################################################################################################################################################|\n> Time: 0:05:35\n> The differences between the current build and any cached tasks start\n> at the following tasks:\n> /srv/work/alex/poky/meta/recipes-sato/images/core-image-sato.bb:do_deploy_source_date_epoch\n> /srv/work/alex/poky/meta/recipes-core/base-files/base-files_3.0.14.bb:do_install\n> ===========\n> \n> I think this is pretty good! The two missing objects depend on the\n> current date, and so should go to the exception list in the test, and\n> otherwise there is a 100% match rate. The bitbake targets could be\n> 'world core-image-sato-sdk', and target machines could be qemux86_64\n> and qemuarm64.\n\nThat match does look good. As you say, the revision of the metadata\nwill change base-files so that is expected.\n\nI'm torn on the targets to test as sato-sdk is a large image and world\nis a lot of work. I'd be tempted to test sato, weston and full-cmdline?\nWorld is a good test I guess and if from sstate, shouldn't have that\nmuch of an issue. It does also prove things are working.\n\n> Just to be sure that mismatches elsewhere will be reported as CDN\n> misses, adding my shadow 4.14 update and re-running the command shows:\n> ============\n> The differences between the current build and any cached tasks start\n> at the following tasks:\n> /srv/work/alex/poky/meta/recipes-gnome/hicolor-icon-theme/hicolor-icon-theme_0.17.bb:do_package\n> /srv/work/alex/poky/meta/recipes-sato/pulseaudio-sato/pulseaudio-client-conf-sato_1.bb:do_package\n> /srv/work/alex/poky/meta/recipes-core/initscripts/initscripts_1.0.bb:do_package\n> /srv/work/alex/poky/meta/recipes-core/update-rc.d/update-rc.d_0.8.bb:do_package\n> /srv/work/alex/poky/meta/recipes-multimedia/alsa/alsa-ucm-conf_1.2.10.bb:do_package\n> /srv/work/alex/poky/meta/recipes-kernel/wireless-regdb/wireless-regdb_2023.09.01.bb:do_package\n> /srv/work/alex/poky/meta/recipes-sato/packagegroups/packagegroup-core-x11-sato.bb:do_package\n> /srv/work/alex/poky/meta/recipes-kernel/linux-libc-headers/linux-libc-headers_6.5.bb:do_package\n> /srv/work/alex/poky/meta/recipes-core/packagegroups/packagegroup-core-ssh-dropbear.bb:do_package\n> /srv/work/alex/poky/meta/recipes-graphics/packagegroups/packagegroup-core-x11.bb:do_package\n> /srv/work/alex/poky/meta/recipes-sato/shutdown-desktop/shutdown-desktop.bb:do_package\n> virtual:native:/srv/work/alex/poky/meta/recipes-support/libbsd/libbsd_0.11.7.bb:do_prepare_recipe_sysroot\n> /srv/work/alex/poky/meta/recipes-support/ca-certificates/ca-certificates_20211016.bb:do_package\n> /srv/work/alex/poky/meta/recipes-core/sysvinit/sysvinit-inittab_2.88dsf.bb:do_package\n> virtual:native:/srv/work/alex/poky/meta/recipes-extended/shadow/shadow_4.14.0.bb:do_recipe_qa\n> ... (a few more missing do_package objects)\n> ===========\n> \n> 2. When to run the test, and against which commit in poky?\n> \n> RP suggested that the test could run in an antiphase with the nightly\n> a-quick (i.e. 12 hours after). We can do that for a start, but I'm\n> (perhaps prematurely) worrying that this will be unstable: either\n> because the objects from the nightly haven't yet propagated to CDN, or\n> because master has meanwhile (e.g. in the 12 hours that have passed)\n> gained new commits without corresponding cache objects. Are those real\n> concerns?\n> \n> Thoughts?\n\nYou're right, we need to run the test against a commit we know has been\nbuilt on the autobuilder. If we run with a newer commit we could easily\nsee mismatch since it won't have been built yet.\n\nI'm less worried about CDN propagation, that should happen quickly and\nif something isn't present, it might just be slow to obtain/lookup as\nit ripples through the system.\n\nEither we start logging what we've built so we get the last known\nrevisions, or we run the test as part of a-quick/a-full at the end of\nthe build? I don't really want to extend the build but I'm not sure we\nmay have much choice.\n\nCheers,\n\nRichard\n\n\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "* Re: CDN for sstate.yoctoproject.org\n  2023-10-18  6:45   ` Richard Purdie\n@ 2023-10-18 12:02     ` Alexander Kanavin\n  2023-10-18 17:33       ` Richard Purdie\n  0 siblings, 1 reply; 10+ messages in thread\nFrom: Alexander Kanavin @ 2023-10-18 12:02 UTC (permalink / raw)\n  To: Richard Purdie; +Cc: Michael Halstead, Yocto-mailing-list\n\nOn Wed, 18 Oct 2023 at 08:45, Richard Purdie\n<richard.purdie@linuxfoundation.org> wrote:\n> I'm torn on the targets to test as sato-sdk is a large image and world\n> is a lot of work. I'd be tempted to test sato, weston and full-cmdline?\n> World is a good test I guess and if from sstate, shouldn't have that\n> much of an issue. It does also prove things are working.\n\nI ran '-S printdiff world' on a blank build directory. First,\nscalability isn't great:\n\nInitialising tasks: 100%\n|##########################################################################################################################################################################|\nTime: 0:24:19\nChecking sstate mirror object availability: 100%\n|##################################################################################################################################################|\nTime: 0:12:14\n\nSo it's taking 36 minutes just preparing to fetch the objects, and 2/3\nof that time goes into communicating with hash equivalence server\n(e.g. BB_HASHSERVE_UPSTREAM = \"hashserv.yocto.io:8687\").\n\nSecond, there are significant misses. I don't have a clear theory\nwhere they come from, just want to list them:\n\nThe differences between the current build and any cached tasks start\nat the following tasks:\n/srv/work/alex/poky/meta/recipes-core/meta/meta-ide-support.bb:do_populate_ide_support\n/srv/work/alex/poky/meta/recipes-graphics/xorg-driver/xf86-input-synaptics_1.9.2.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-devtools/bootchart2/bootchart2_0.14.9.bb:do_create_runtime_spdx\n/srv/work/alex/poky/meta/recipes-graphics/igt-gpu-tools/igt-gpu-tools_git.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-devtools/python/python3-dbusmock_0.29.1.bb:do_create_runtime_spdx\n/srv/work/alex/poky/meta/recipes-devtools/dpkg/dpkg_1.22.0.bb:do_configure\n/srv/work/alex/poky/meta/recipes-graphics/xorg-driver/xf86-input-vmmouse_13.2.0.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-graphics/glew/glew_2.2.0.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-graphics/xorg-driver/xf86-input-evdev_2.10.6.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-graphics/libva/libva_2.19.0.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-sato/webkit/libwpe_1.14.1.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gstreamer1.0-meta-base.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gstreamer1.0-python_1.22.6.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-extended/cups/cups_2.4.6.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-gnome/libdazzle/libdazzle_3.44.0.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-graphics/igt-gpu-tools/igt-gpu-tools_git.bb:do_package\n/srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gst-devtools_1.22.6.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-core/packagegroups/packagegroup-core-sdk.bb:do_package\n/srv/work/alex/poky/meta/recipes-graphics/xorg-driver/xf86-input-mouse_1.9.5.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-graphics/waffle/waffle_1.7.2.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-multimedia/alsa/alsa-tools_1.2.5.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gstreamer1.0-rtsp-server_1.22.6.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-devtools/apt/apt_2.6.1.bb:do_install\n/srv/work/alex/poky/meta/recipes-gnome/gtk+/gtk4_4.12.3.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-devtools/devel-config/distcc-config.bb:do_create_runtime_spdx\n/srv/work/alex/poky/meta/recipes-gnome/libhandy/libhandy_1.8.2.bb:do_collect_spdx_deps\n/srv/work/alex/poky/meta/recipes-support/vim/vim_9.0.bb:do_collect_spdx_deps\n\nSo I think we should start with specific images first - minimal,\nfull-cmdline, weston, sato and sato-sdk are all much faster to check.\n\nOn qemux86_64 none of them show misses, but on qemuarm64 there are\nproblems with sato, sato-sdk and weston, i.e. sato-sdk shows:\n\nThe differences between the current build and any cached tasks start\nat the following tasks:\n/srv/work/alex/poky/meta/recipes-gnome/gdk-pixbuf/gdk-pixbuf_2.42.10.bb:do_package_write_rpm\n/srv/work/alex/poky/meta/recipes-connectivity/connman/connman-gnome_0.7.bb:do_package_write_rpm\n/srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gst-examples_1.18.6.bb:do_package_write_rpm\n/srv/work/alex/poky/meta/recipes-sato/images/core-image-sato-sdk.bb:do_deploy_source_date_epoch\n/srv/work/alex/poky/meta/recipes-graphics/xorg-font/font-util_1.4.1.bb:do_package_write_rpm\n/srv/work/alex/poky/meta/recipes-core/packagegroups/packagegroup-core-sdk.bb:do_package\n/srv/work/alex/poky/meta/recipes-gnome/librsvg/librsvg_2.56.3.bb:do_package_write_rpm\n/srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gstreamer1.0-plugins-bad_1.22.6.bb:do_package_write_rpm\n\n\nI'm not sure if that's because cache for the current master needs to\nbe populated properly first, or if there's a deeper issue.\n\n> Either we start logging what we've built so we get the last known\n> revisions, or we run the test as part of a-quick/a-full at the end of\n> the build? I don't really want to extend the build but I'm not sure we\n> may have much choice.\n\nI think it can be a selftest and bundled into\ntrigger-build-posttrigger which already runs\n'buildoptions.SourceMirroring.test_yocto_source_mirror':\n\nhttps://git.yoctoproject.org/yocto-autobuilder-helper/tree/config.json#n465\n\nThe various yocto mirrors tests could be tagged in a way similar to\nmachine/toolchain selftests, so that they're excluded from regular\noe-selftest, but run specifically here.\n\nAlex\n\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "* Re: CDN for sstate.yoctoproject.org\n  2023-10-18 12:02     ` Alexander Kanavin\n@ 2023-10-18 17:33       ` Richard Purdie\n  0 siblings, 0 replies; 10+ messages in thread\nFrom: Richard Purdie @ 2023-10-18 17:33 UTC (permalink / raw)\n  To: Alexander Kanavin; +Cc: Michael Halstead, Yocto-mailing-list\n\nOn Wed, 2023-10-18 at 14:02 +0200, Alexander Kanavin wrote:\n> On Wed, 18 Oct 2023 at 08:45, Richard Purdie\n> <richard.purdie@linuxfoundation.org> wrote:\n> > I'm torn on the targets to test as sato-sdk is a large image and world\n> > is a lot of work. I'd be tempted to test sato, weston and full-cmdline?\n> > World is a good test I guess and if from sstate, shouldn't have that\n> > much of an issue. It does also prove things are working.\n> \n> I ran '-S printdiff world' on a blank build directory. First,\n> scalability isn't great:\n> \n> Initialising tasks: 100%\n> > ##########################################################################################################################################################################|\n> Time: 0:24:19\n> Checking sstate mirror object availability: 100%\n> > ##################################################################################################################################################|\n> Time: 0:12:14\n> \n> So it's taking 36 minutes just preparing to fetch the objects, and 2/3\n> of that time goes into communicating with hash equivalence server\n> (e.g. BB_HASHSERVE_UPSTREAM = \"hashserv.yocto.io:8687\").\n\nFWIW the second time an artefact is pulled from the CDN, it will be\nmuch faster. I don't know how much that is a factor here.\n\nWe know hashequiv is slow, particularly from europe. We've ideas on\nthat we're looking into but for now it is what it is. Part of this work\nwas to find out what the issues are so we write that one up.\n\n> Second, there are significant misses. I don't have a clear theory\n> where they come from, just want to list them:\n> \n> The differences between the current build and any cached tasks start\n> at the following tasks:\n> /srv/work/alex/poky/meta/recipes-core/meta/meta-ide-support.bb:do_populate_ide_support\n> /srv/work/alex/poky/meta/recipes-graphics/xorg-driver/xf86-input-synaptics_1.9.2.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-devtools/bootchart2/bootchart2_0.14.9.bb:do_create_runtime_spdx\n> /srv/work/alex/poky/meta/recipes-graphics/igt-gpu-tools/igt-gpu-tools_git.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-devtools/python/python3-dbusmock_0.29.1.bb:do_create_runtime_spdx\n> /srv/work/alex/poky/meta/recipes-devtools/dpkg/dpkg_1.22.0.bb:do_configure\n> /srv/work/alex/poky/meta/recipes-graphics/xorg-driver/xf86-input-vmmouse_13.2.0.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-graphics/glew/glew_2.2.0.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-graphics/xorg-driver/xf86-input-evdev_2.10.6.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-graphics/libva/libva_2.19.0.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-sato/webkit/libwpe_1.14.1.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gstreamer1.0-meta-base.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gstreamer1.0-python_1.22.6.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-extended/cups/cups_2.4.6.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-gnome/libdazzle/libdazzle_3.44.0.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-graphics/igt-gpu-tools/igt-gpu-tools_git.bb:do_package\n> /srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gst-devtools_1.22.6.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-core/packagegroups/packagegroup-core-sdk.bb:do_package\n> /srv/work/alex/poky/meta/recipes-graphics/xorg-driver/xf86-input-mouse_1.9.5.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-graphics/waffle/waffle_1.7.2.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-multimedia/alsa/alsa-tools_1.2.5.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gstreamer1.0-rtsp-server_1.22.6.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-devtools/apt/apt_2.6.1.bb:do_install\n> /srv/work/alex/poky/meta/recipes-gnome/gtk+/gtk4_4.12.3.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-devtools/devel-config/distcc-config.bb:do_create_runtime_spdx\n> /srv/work/alex/poky/meta/recipes-gnome/libhandy/libhandy_1.8.2.bb:do_collect_spdx_deps\n> /srv/work/alex/poky/meta/recipes-support/vim/vim_9.0.bb:do_collect_spdx_deps\n\nWe'll have to dig into this.\n\n> So I think we should start with specific images first - minimal,\n> full-cmdline, weston, sato and sato-sdk are all much faster to check.\n\nAgreed, lets start with simpler images, full-cmdline, minimal, sato and\nweston. We can increase coverage as we move forward (world, sato-sdk).\n\n> On qemux86_64 none of them show misses, but on qemuarm64 there are\n> problems with sato, sato-sdk and weston, i.e. sato-sdk shows:\n> \n> The differences between the current build and any cached tasks start\n> at the following tasks:\n> /srv/work/alex/poky/meta/recipes-gnome/gdk-pixbuf/gdk-pixbuf_2.42.10.bb:do_package_write_rpm\n> /srv/work/alex/poky/meta/recipes-connectivity/connman/connman-gnome_0.7.bb:do_package_write_rpm\n> /srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gst-examples_1.18.6.bb:do_package_write_rpm\n> /srv/work/alex/poky/meta/recipes-sato/images/core-image-sato-sdk.bb:do_deploy_source_date_epoch\n> /srv/work/alex/poky/meta/recipes-graphics/xorg-font/font-util_1.4.1.bb:do_package_write_rpm\n> /srv/work/alex/poky/meta/recipes-core/packagegroups/packagegroup-core-sdk.bb:do_package\n> /srv/work/alex/poky/meta/recipes-gnome/librsvg/librsvg_2.56.3.bb:do_package_write_rpm\n> /srv/work/alex/poky/meta/recipes-multimedia/gstreamer/gstreamer1.0-plugins-bad_1.22.6.bb:do_package_write_rpm\n> \n> \n> I'm not sure if that's because cache for the current master needs to\n> be populated properly first, or if there's a deeper issue.\n\nWe made a release build with current master so the cache should be\ngood. We're going to have to look into it.\n\n> > Either we start logging what we've built so we get the last known\n> > revisions, or we run the test as part of a-quick/a-full at the end of\n> > the build? I don't really want to extend the build but I'm not sure we\n> > may have much choice.\n> \n> I think it can be a selftest and bundled into\n> trigger-build-posttrigger which already runs\n> 'buildoptions.SourceMirroring.test_yocto_source_mirror':\n> \n> https://git.yoctoproject.org/yocto-autobuilder-helper/tree/config.json#n465\n> \n> The various yocto mirrors tests could be tagged in a way similar to\n> machine/toolchain selftests, so that they're excluded from regular\n> oe-selftest, but run specifically here.\n\nThat sounds reasonable. oe-selftest has the concept of \"tags\" so we\nshould create some for these tests and use those as the hardcoded lists\nare a pain. We already do that for the toolchain-user, toolchain-system\nand machine ones iirc.\n\nCheers,\n\nRichard\n\n\n\n\n\n\n\n^ permalink raw reply\t[flat|nested] 10+ messages in thread",
    "end of thread, other threads:[~2023-10-18 17:33 UTC | newest]\n\nThread overview: 10+ messages (download: mbox.gz / follow: Atom feed)\n-- links below jump to the message on this page --\n2023-09-22 17:32 CDN for sstate.yoctoproject.org Michael Halstead\n2023-09-22 19:03 ` Michael Halstead\n2023-09-23 19:51   ` Michael Halstead\n2023-09-23 19:52     ` Michael Halstead\n2023-09-23 20:39       ` [yocto] \" Khem Raj\n2023-09-24 13:37       ` akuster808\n2023-10-17 15:33 ` Alexander Kanavin\n2023-10-18  6:45   ` Richard Purdie\n2023-10-18 12:02     ` Alexander Kanavin\n2023-10-18 17:33       ` Richard Purdie\n"
]