* error adding symbols: DSO missing from command line
@ 2023-04-18 11:37 MOHAMMED HASSAN
  2023-04-19  3:14 ` MOHAMMED HASSAN
  0 siblings, 1 reply; 2+ messages in thread
From: MOHAMMED HASSAN @ 2023-04-18 11:37 UTC (permalink / raw)
  To: yocto


[-- Attachment #1.1: Type: text/plain, Size: 1359 bytes --]

Hi guys,
I am trying to build a custom application for my build but facing the
following error,
vice-discovery-host.o  -lreadline -lncurses  -lm -lpthread -o
./build/exe/hostforEdge3
|





* aarch64-poky-linux-ld: build/backchannel-support.o: undefined reference
to symbol 'socket@@GLIBC_2.17'| aarch64-poky-linux-ld:
/home/mohan/amlogic/build/tmp/work/aarch64-poky-linux/zigbee/0.1-r0/recipe-sysroot/lib64/libc.so.6:
error adding symbols: DSO missing from command line| make: ***
[Makefile:415: build/exe/hostforEdge3] Error 1| ERROR: oe_runmake failed|
WARNING: exit code 1 from a shell command.| ERROR: Execution of
'/home/mohan/amlogic/build/tmp/work/aarch64-poky-linux/zigbee/0.1-r0/temp/run.do_compile.211997'
failed with exit code 1ERROR: Task
(/home/mohan/amlogic/meta-c/recipes-example/zigbee/zigbee_0.1.bb:do_compile)
failed with exit code '1'*
I checked for the missing lib.so.6 file using *ldconfig -p | grep libc.so.6
*command and this is what I got,



*libc.so.6 (libc6,x32, OS ABI: Linux 3.4.0) => /libx32/libc.so.6 libc.so.6
(libc6,x86-64, OS ABI: Linux 3.2.0) => /lib/x86_64-linux-gnu/libc.so.6
libc.so.6 (libc6, OS ABI: Linux 3.2.0) => /lib/i386-linux-gnu/libc.so.6
libc.so.6 (libc6, OS ABI: Linux 3.2.0) => /lib32/libc.so.6*

I am not sure how to add this library to my linker. Can you guys help me
with this.

Thanks and regards,
Hassan

[-- Attachment #1.2: Type: text/html, Size: 1595 bytes --]

[-- Attachment #2: makefile --]
[-- Type: application/octet-stream, Size: 27793 bytes --]

# This file was generated by Simplicity Studio from the following template:
#   protocol/zigbee/tool/appbuilder/host-unix-Makefile-afv2
# Please do not edit it directly.

# This Makefile defines how to build a unix host application connected to an
# Ember NCP EZSP device.  This also works for Windows machines running
# Cygwin.

# Variables

# If using a different compiler than GCC, you can create a makefile
# that overrides the following variables.  
#   COMPILER - Compiler binary path
#   LINKER - Linker binary path
#   ARCHIVE - Optional archive tool, only necessary for building a library.
#     Must also set GENERATE_LIBRARY := 1 in your makefile.
#   COMPILER_INCLUDES - Any additional compiler includes each prefixed with -I
#   COMPILER_DEFINES - Any additional compiler defines each prefixed with -D
#   COMPILER_FLAGS - The set of compiler flags (not including dependencies)
#   LINKER_FLAGS - The set of linker flags
#   ARCHIVE_FLAGS - The set of archive tool flags.
#   DEPENDENCY_FLAGS - The set of dependency generation flags used to generate
#     dependencies at the same time compilation is executed.
#   DEPENDENCY_POST_PROCESS - An optional post processing step for massaging
#     generated dependencies.  Only necessary when using a compiler on the 
#     non-native platform (e.g. Windows compiler on Linux)
#   PLATFORM_HEADER_FILE - The header file defining the basic int8u, int32u,
#     and other typedefs and platform elements.
#   ARCHIVE_EXTENSION - The file extension for archives if not using the standard
#     .a file extension.
#
# Then pass the makefile to this one on the command line with:
#   "make -C app/builder/hostforEdge3 INCLUDE_MAKEFILE=my-custom.mak"
#   or 
#   "cd app/builder/hostforEdge3; make INCLUDE_MAKEFILE=my-custom.mak"
#

#ifdef INCLUDE_MAKEFILE
#  include $(INCLUDE_MAKEFILE)
#endif  
#CFLAGS = -g -Wall
#.SUFFIXES:
#COMPILER=arm-pokymllib32-linux-gnueabi-gcc
#LINKER=arm-pokymllib32-linux-gnueabi-ld
#COMPILER ?= gcc
#LINKER   ?= gcc
#ARCHIVE  ?= ar
#COMPILER = $(CC)
#COMPILER ?= aarch64-poky-linux-gcc
#LINKER ?= aarch64-poky-linux-gcc
#ARCHIVE  ?= aarch64-poky-linux-gcc-ar
#LINKER = $(CC)
#ARCHIVE  = $(AR)

STD      ?= gnu99

ARCHIVE_EXTENSION ?= .a

#CC = $(COMPILER)
#LD = $(LINKER)
SHELL = /bin/sh
removeSpaces = $(subst \ ,+SL5C20+,$1)
restoreSpaces = $(subst +SL5C20+,\ ,$1)

ifneq ($(CURDIR),$(shell dirname '$(abspath $(lastword $(MAKEFILE_LIST)))'))
$(error This makefile should only be invoked under its current directory ($(shell dirname '$(abspath $(lastword $(MAKEFILE_LIST)))')))
endif

COMPILER_INCLUDES ?= 

INCLUDES= -I./ \
  $(COMPILER_INCLUDES) \
  -I./../../../../gecko_sdk_suite/v3.2 \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../.. \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../../stack \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../util \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../util/common \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../util/ezsp \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../util/serial \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../util/zigbee-framework \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/cli \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/include \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/security \
  -I./../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util \
  -I./hostforEdge3 \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal/plugin \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal/.. \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/generic \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/unix/host \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal/../../../platform/common/inc/ \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal/../../../platform/radio/mac/ \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal/../../../util/silicon_labs/silabs_core/ \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal/../../../util/silicon_labs/silabs_core/buffer_manager \
  -I./../../../../gecko_sdk_suite/v3.2/platform/base/hal/../../../util/silicon_labs/silabs_core/event_control \
  -I../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/unix/host/board \
  -I../../../../gecko_sdk_suite/v3.2/util/silicon_labs/silabs_core \
  -I../../../../gecko_sdk_suite/v3.2/util/plugin/plugin-common/mbedtls \
  -I../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls \
  -I../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/include \
  -I../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/include/mbedtls \
  -I../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/include/psa \
  -I../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library \
 \

APP_BUILDER_OUTPUT_DIRECTORY=.
APP_BUILDER_CONFIG_HEADER=$(APP_BUILDER_OUTPUT_DIRECTORY)/hostforEdge3.h
APP_BUILDER_STORAGE_FILE=$(APP_BUILDER_OUTPUT_DIRECTORY)/hostforEdge3_endpoint_config.h

PLATFORM_HEADER_FILE ?= \"../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/unix/compiler/gcc.h\"

DEFINES = \
  $(COMPILER_DEFINES) \
  -DUNIX \
  -DUNIX_HOST \
  -DPHY_NULL \
  -DCONFIGURATION_HEADER=\"../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/config.h\" \
  -DEZSP_HOST \
  -DGATEWAY_APP \
  -DZA_GENERATED_HEADER=\"$(APP_BUILDER_CONFIG_HEADER)\" \
  -DATTRIBUTE_STORAGE_CONFIGURATION=\"$(APP_BUILDER_STORAGE_FILE)\" \
  -DPLATFORM_HEADER=$(PLATFORM_HEADER_FILE) \
    -DBOARD_HOST \
  -DBOARD_HEADER=\"hostforEdge3_board.h\" \
  -DEM_AF_TEST_HARNESS_CODE \
  -DEM_AF_LINK_M \
  -DEM_AF_LINK_PTHREAD \
  -DEMBER_AF_API_EMBER_TYPES=\"stack/include/ember-types.h\" \
  -DEMBER_AF_API_DEBUG_PRINT=\"app/framework/util/print.h\" \
  -DEMBER_AF_API_AF_HEADER=\"app/framework/include/af.h\" \
  -DEMBER_AF_API_AF_SECURITY_HEADER=\"app/framework/security/af-security.h\" \
  -DEMBER_AF_API_NEIGHBOR_HEADER=\"stack/include/stack-info.h\" \
  -DEMBER_STACK_ZIGBEE \
  -DEZSP_ASH \
  -DMBEDTLS_CONFIG_FILE=\"mbedtls-config-generated.h\" \



COMPILER_FLAGS ?= \
  -Wall \
  -ggdb \
  -O0   \
  -std=$(STD)

APPLICATION_FILES= \
  ./znet-bookkeeping.c \
  ./call-command-handler.c \
  ./callback-stub.c \
  ./stack-handler-stub.c \
  ./znet-cli.c \
  ./hostforEdge3_callbacks.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../util/common/library.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../util/serial/command-interpreter2.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../util/zigbee-framework/zigbee-device-common.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../util/zigbee-framework/zigbee-device-host.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/../../../../util/silicon_labs/silabs_core/event_control/event-control.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/generic/led-stub.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/generic/mem-util.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/plugin/antenna-stub/antenna-stub.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/plugin/buzzer-stub/buzzer-stub.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/address-table/address-table.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/address-table/address-table-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/basic/basic.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/color-control-server/color-control-server.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/concentrator/concentrator-support.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/concentrator/concentrator-support-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/counters/counters-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/counters/counters-ota-host.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/counters/counters-host.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ezmode-commissioning/ez-mode.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ezmode-commissioning/ez-mode-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/util/ezsp/ezsp-callbacks.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/util/ezsp/ezsp-enum-decode.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/util/ezsp/ezsp-frame-utilities.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/util/ezsp/ezsp.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/ezsp-host/ezsp-host-io.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/ezsp-host/ezsp-host-queues.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/ezsp-host/ezsp-host-ui.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/util/ezsp/serial-interface-uart.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/ezsp-host/ash/ash-host-ui.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/ezsp-host/ash/ash-host.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/generic/ash-common.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin-host/file-descriptor-dispatch/file-descriptor-dispatch.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin-host/gateway/gateway-support.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin-host/gateway/backchannel-support.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin-host/gateway/gateway-support-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/green-power-client/green-power-client.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/green-power-client/green-power-client-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/green-power-common/green-power-common.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/stack/gp/gp-util.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/heartbeat/heartbeat.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ias-zone-client/ias-zone-client.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ias-zone-client/ias-zone-client-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/identify/identify.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/identify/identify-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/identify-feedback/identify-feedback.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/level-control/level-control.c \
  ../../../../gecko_sdk_suite/v3.2/util/plugin/plugin-common/linked-list/linked-list.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/aes.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/asn1parse.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/asn1write.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/base64.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/bignum.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ccm.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/chacha20.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/chachapoly.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/cipher.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/cipher_wrap.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/cmac.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ctr_drbg.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/des.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ecdh.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ecdsa.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ecjpake.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ecp.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ecp_curves.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/entropy.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/error.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/gcm.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/md.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/md5.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/oid.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/pem.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/pk.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/pk_wrap.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/pkparse.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/platform_util.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/poly1305.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/psa_crypto.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/psa_crypto_cipher.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/psa_crypto_client.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/psa_crypto_driver_wrappers.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/psa_crypto_ecp.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/psa_crypto_hash.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/psa_crypto_mac.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/psa_crypto_slot_management.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/psa_crypto_storage.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/rsa.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/rsa_internal.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/sha1.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/sha256.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/sha512.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ssl_cache.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ssl_ciphersuites.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ssl_cli.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ssl_cookie.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ssl_msg.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ssl_srv.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ssl_ticket.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/ssl_tls.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/threading.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/x509.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/x509_create.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/x509_crl.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/x509_crt.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/x509_csr.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/x509write_crt.c \
  ../../../../gecko_sdk_suite/v3.2/util/third_party/crypto/mbedtls/library/x509write_csr.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin-host/ncp-configuration/ncp-configuration.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/network-creator/network-creator.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/network-creator/network-creator-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/network-creator-security/network-creator-security.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/network-creator-security/network-creator-security-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/network-steering/network-steering.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/network-steering/network-steering-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/network-steering/network-steering-v2.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/network-steering/network-steering-host.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/on-off/on-off.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ota-common/ota-common.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ota-server/ota-server.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ota-server/ota-server-page-request.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ota-server/ota-server-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ota-server/ota-server-dynamic-block-period.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ota-server-policy/ota-server-policy.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ota-storage-common/ota-storage-common.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ota-storage-common/ota-storage-common-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/ota-storage-posix-filesystem/ota-storage-linux.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/poll-control-client/poll-control-client.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/poll-control-client/poll-control-client-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/reporting/reporting.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/reporting/reporting-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/reporting/reporting-default-configuration.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/scan-dispatch/scan-dispatch.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/util/ezsp/secure-ezsp-stub.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/simple-main/simple-main.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/simple-metering-client/simple-metering-client.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/simple-metering-client/simple-metering-client-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/stack-diagnostics/stack-diagnostics.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/test-harness/test-harness.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/test-harness/read-write-attributes.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/test-harness/test-harness-host.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/time-server/time-server.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/trust-center-nwk-key-update-broadcast/trust-center-nwk-key-update-broadcast.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/trust-center-nwk-key-update-periodic/trust-center-nwk-key-update-periodic.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/trust-center-nwk-key-update-unicast/trust-center-nwk-key-update-unicast.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/generic/crc.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/generic/endian.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/generic/random.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/generic/system-timer.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/unix/host/micro.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/unix/host/token-def-unix.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/micro/unix/host/token.c \
  ../../../../gecko_sdk_suite/v3.2/platform/base/hal/plugin/serial/ember-printf-convert.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/util/serial/linux-serial.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/update-tc-link-key/update-tc-link-key.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/plugin/update-tc-link-key/update-tc-link-key-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/cli/core-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/cli/network-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/cli/option-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/cli/plugin-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/cli/security-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/cli/zcl-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/cli/zdo-cli.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/security/af-node.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/security/af-security-common.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/security/af-trust-center.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/security/crypto-state.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/af-event.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/af-main-common.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/attribute-size.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/attribute-storage.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/attribute-table.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/client-api.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/message.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/multi-network.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/print.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/print-formatter.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/process-cluster-message.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/process-global-message.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/service-discovery-common.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/time-util.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/util.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/af-main-host.c \
  ../../../../gecko_sdk_suite/v3.2/protocol/zigbee/app/framework/util/service-discovery-host.c \


APPLICATION_FILES:=$(call removeSpaces, $(APPLICATION_FILES))

LIBRARIES = \
 \


OUTPUT_DIR=$(APP_BUILDER_OUTPUT_DIRECTORY)/build
OUTPUT_DIR_CREATED= $(OUTPUT_DIR)/created
EXE_DIR=$(OUTPUT_DIR)/exe
# Build a list of object files from the source file list, but all objects
# live in the $(OUTPUT_DIR) above.  The list of object files
# created assumes that the file part of the filepath is unique
# (i.e. the bar.c of foo/bar.c is unique across all sub-directories included).
APPLICATION_OBJECTS= $(addprefix $(OUTPUT_DIR)/, $(notdir $(APPLICATION_FILES:.c=.o)))

ifdef GENERATE_LIBRARY
TARGET_FILE= $(EXE_DIR)/hostforEdge3$(ARCHIVE_EXTENSION)
else
TARGET_FILE= $(EXE_DIR)/hostforEdge3
endif

# -MMD and -MF generates Makefile dependencies while at the same time compiling.
# -MP notes to add a dummy 'build' rule for each header file.  This 
# prevent a problem where a removed header file will generate an error because a
# dependency references it but it can't be found anymore.
DEPENDENCY_FLAGS ?= -MMD -MP -MF $(@D)/$(@F:.o=.d)

# Dependency post process is a way to massage generated dependencies.
# This is necessary for example when using Make under Cygwin but compiling
# using a native Windows compiler that generates native Windows paths
# that Cygwin will choke on.  Or if compiling on Linux using Wine to run a 
# Windows compiler, a similar problem can occur.  
DEPENDENCY_POST_PROCESS ?=

CPPFLAGS= $(INCLUDES) $(DEFINES) $(COMPILER_FLAGS) $(DEPENDENCY_FLAGS)
LINKER_FLAGS ?=

ifdef NO_READLINE
  CPPFLAGS += -DNO_READLINE
else
  LINKER_FLAGS +=  \
    -lreadline \
    -lncurses 
endif

# Conditionally include the math library if EM_AF_LINK_M is defined.
ifeq ($(findstring -DEM_AF_LINK_M,$(DEFINES)),-DEM_AF_LINK_M)
  LINKER_FLAGS += \
    -lm
endif

# Conditionally include the POSIX threads library if EM_AF_LINK_PTHREAD is
# defined.
ifeq ($(findstring -DEM_AF_LINK_PTHREAD,$(DEFINES)),-DEM_AF_LINK_PTHREAD)
  LINKER_FLAGS += \
    -lpthread
endif

ARCHIVE_FLAGS ?= rus

# Rules

.PHONY: all
all: $(TARGET_FILE)

ifneq ($(MAKECMDGOALS),clean)
-include $(APPLICATION_OBJECTS:.o=.d)
endif

ifdef GENERATE_LIBRARY
$(TARGET_FILE): $(APPLICATION_OBJECTS) $(LIBRARIES)
	$(ARCHIVE) $(ARCHIVE_FLAGS) $(TARGET_FILE) $^
	@echo -e '\n$@ build success'
else
#else
#application$(TARGET_FILE): $(APPLICATION_OBJECTS) $(LIBRARIES)
$(TARGET_FILE): $(APPLICATION_OBJECTS) $(LIBRARIES)
	$(LD) $^ $(LINKER_FLAGS) -o $(TARGET_FILE)
	@echo -e '\n$@ build success'
endif

.PHONY: clean
clean:
	rm -rf $(OUTPUT_DIR)

$(OUTPUT_DIR_CREATED):
	mkdir -p $(OUTPUT_DIR)
	mkdir -p $(EXE_DIR)
	touch $(OUTPUT_DIR_CREATED)


# To facilitate generating all output files in a single output directory, we
# must create separate .o and .d rules for all the different sub-directories
# used by the source files.
# If additional directories are added that are not already in the
# $(APPLICATION_FILES) above, new rules will have to be created below.

# Object File rules

# NOTE:  We escape the commands in this rule because we don't want
# them to be interpreted when the function executes.  We don't escape
# the dependency rule itself (1st line) because we want this to be 
# explicit for each target.
define create-build-rules 
$(OUTPUT_DIR)/$(notdir $(1:%.c=%.o)): $(call restoreSpaces, $1) | $(OUTPUT_DIR_CREATED) 
	$$(CC) $$(CPPFLAGS) -c "$$<" -o $$@
	$$(DEPENDENCY_POST_PROCESS)
endef 


$(foreach d, $(APPLICATION_FILES), $(eval $(call create-build-rules,$d))) 
 

# Dependency rules
# No explicit rules.  Dependencies are generated as part of the compile step.

[-- Attachment #3: zigbee_0.1.bb --]
[-- Type: application/octet-stream, Size: 2061 bytes --]

DESCRIPTION =  "Zigbee Makefile"

LICENSE = "MIT" 
LIC_FILES_CHKSUM = "file://${COMMON_LICENSE_DIR}/MIT;md5=0835ade698e0bcf8506ecda2f7b4f302"
DEPENDS += "readline ncurses"

SRC_URI = "file://gecko_sdk_suite/v3.2/build/Z3GatewayHostm/Makefile \
	   file://gecko_sdk_suite/v3.2/protocol/zigbee/app/ezsp-host/"


S = "${WORKDIR}"

EXTRA_OEMAKE = "'CC=${CC}' 'RANLIB=${RANLIB}' 'AR=${AR}' 'CFLAGS=${CFLAGS} -I${S}' 'BUILDDIR=${S}'"
#/include -DWITHOUT_XATTR


do_compile() {
	cd /home/mohan/amlogic/meta-c/recipes-example/zigbee/files/gecko_sdk_suite/v3.2/build/Z3GatewayHostm/ && oe_runmake all
}

do_install() {
	install -d ${D}${bindir}
	install -m 0755 /home/mohan/amlogic/meta-c/recipes-example/zigbee/files/gecko_sdk_suite/v3.2/build/Z3GatewayHostm/build/exe/hostforEdge3 ${D}${bindir}
}







#SRC_URI = "file://gecko_sdk_suite/v3.2/build/Z3GatewayHostm/"
#SRC_URI = "file://gecko_sdk_suite/v3.2/ \
#           file://../../../../build/tmp/work/aarch64-poky-linux/zigbee/0.1-r0/recipe-sysroot-native/usr/lib/aarch64-poky-linux/gcc/aarch64-poky-linux/9.3.0/include"
#SRC_URI = "file://callback-stub.c \
#	   file://Makefile"
#do_compile() {
#	oe_runmake
#	cd /home/mohan/amlogic/meta-c/recipes-example/zigbee/files/gecko_sdk_suite/v3.2/build/Z3GatewayHostm/ && make all
#	${WORKDIR}/files && make all
#	oe_runmake all
#	gcc -o z3gatewayhost gecko_sdk_suite/v3.2/build/Z3GatewayHostm/build/exe/hostforEdge3
#}
#do_install () {
# 	cd /home/mohan/amlogic/meta-c/recipes-example/zigbee/files/gecko_sdk_suite/v3.2/build/Z3GatewayHostm/ && oe_runmake all install DESTDIR=${D} SBINDIR=${sbindir} MANDIR=${mandir} INCLUDEDIR=${includedir}
#}
#do_install() {
#	install -m 0755 /home/mohan/amlogic/meta-c/recipes-example/zigbee/files/gecko_sdk_suite/v3.2/build/Z3GatewayHostm/build/exe ${D}
#	chmod 0755 /home/mohan/amlogic/meta-c/recipes-example/zigbee/files/gecko_sdk_suite/v3.2/build/Z3GatewayHostm/build/exe/hostforEdge3
#	cp /home/mohan/amlogic/meta-c/recipes-example/zigbee/files/gecko_sdk_suite/v3.2/build/Z3GatewayHostm/build/exe/hostforEdge3 ${D}${bindir}
#}

^ permalink raw reply	[flat|nested] 2+ messages in thread
* Re: error adding symbols: DSO missing from command line
  2023-04-18 11:37 error adding symbols: DSO missing from command line MOHAMMED HASSAN
@ 2023-04-19  3:14 ` MOHAMMED HASSAN
  0 siblings, 0 replies; 2+ messages in thread
From: MOHAMMED HASSAN @ 2023-04-19  3:14 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 46 bytes --]

Hi guys,
Can you please support me on this.

[-- Attachment #2: Type: text/html, Size: 50 bytes --]

^ permalink raw reply	[flat|nested] 2+ messages in thread
end of thread, other threads:[~2023-04-19  3:14 UTC | newest]

Thread overview: 2+ messages (download: mbox.gz / follow: Atom feed)
-- links below jump to the message on this page --
2023-04-18 11:37 error adding symbols: DSO missing from command line MOHAMMED HASSAN
2023-04-19  3:14 ` MOHAMMED HASSAN

