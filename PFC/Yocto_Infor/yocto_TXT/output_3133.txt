* #yocto
@ 2021-07-19 13:41 Monsees, Steven C (US)
  2021-07-20  9:02 ` [yocto] #yocto Ross Burton
  0 siblings, 1 reply; 14+ messages in thread
From: Monsees, Steven C (US) @ 2021-07-19 13:41 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 141 bytes --]


What flag do I set in order to keep the source code for a recipe being built within the build tree after compilation  ?

Thanks,
Steve

[-- Attachment #2: Type: text/html, Size: 1952 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* Re: [yocto] #yocto
  2021-07-19 13:41 #yocto Monsees, Steven C (US)
@ 2021-07-20  9:02 ` Ross Burton
  2021-07-20 10:27   ` Monsees, Steven C (US)
  0 siblings, 1 reply; 14+ messages in thread
From: Ross Burton @ 2021-07-20  9:02 UTC (permalink / raw)
  To: steven.monsees; +Cc: yocto

Not deleting the source tree is the default behaviour.  It sounds like
you've inherited rm_work, so if you want to not delete build trees
after completion then add the recipe name to RM_WORK_EXCLUDE.

Ross

On Mon, 19 Jul 2021 at 15:22, Monsees, Steven C (US) via
lists.yoctoproject.org
<steven.monsees=baesystems.com@lists.yoctoproject.org> wrote:
>
>
>
> What flag do I set in order to keep the source code for a recipe being built within the build tree after compilation  ?
>
>
>
> Thanks,
>
> Steve
>
>
> 
>

^ permalink raw reply	[flat|nested] 14+ messages in thread
* Re: [yocto] #yocto
  2021-07-20  9:02 ` [yocto] #yocto Ross Burton
@ 2021-07-20 10:27   ` Monsees, Steven C (US)
  0 siblings, 0 replies; 14+ messages in thread
From: Monsees, Steven C (US) @ 2021-07-20 10:27 UTC (permalink / raw)
  To: Ross Burton; +Cc: yocto


Thanks...


-----Original Message-----
From: Ross Burton <ross@burtonini.com> 
Sent: Tuesday, July 20, 2021 5:03 AM
To: Monsees, Steven C (US) <steven.monsees@baesystems.com>
Cc: yocto@lists.yoctoproject.org
Subject: Re: [yocto] #yocto

External Email Alert

This email has been sent from an account outside of the BAE Systems network.

Please treat the email with caution, especially if you are requested to click on a link, decrypt/open an attachment, or enable macros.  For further information on how to spot phishing, access “Cybersecurity OneSpace Page” and report phishing by clicking the button “Report Phishing” on the Outlook toolbar.


Not deleting the source tree is the default behaviour.  It sounds like you've inherited rm_work, so if you want to not delete build trees after completion then add the recipe name to RM_WORK_EXCLUDE.

Ross

On Mon, 19 Jul 2021 at 15:22, Monsees, Steven C (US) via lists.yoctoproject.org <steven.monsees=baesystems.com@lists.yoctoproject.org> wrote:
>
>
>
> What flag do I set in order to keep the source code for a recipe being built within the build tree after compilation  ?
>
>
>
> Thanks,
>
> Steve
>
>
> 
>

^ permalink raw reply	[flat|nested] 14+ messages in thread
* #yocto
@ 2022-09-22  7:06 bahugunaayush8
  0 siblings, 0 replies; 14+ messages in thread
From: bahugunaayush8 @ 2022-09-22  7:06 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 8014 bytes --]

--
Hi Friends,
I am new to this technology, please let me know if i missed any detail that is required to make my query more understandable . I am trying standard test on target device using TEST_TARGET = "simpleremote" ,
i have followed following steps on the given link - https://wiki.yoctoproject.org/wiki/BSP_Test_Plan
I am building core-image-weston on imx6 device.
I am building "core-image-weston" on "imx6" I ran command -- bitbake core-image-weston -c testimage
I got following logs---

NOTE: ----------------------------------------------------------------------
NOTE: Ran 61 tests in 438.855s
NOTE: FAILED
NOTE:  (failures=2, errors=1, skipped=16)
ERROR: Error executing a python function in exec_python_func() autogenerated:

The stack trace of python calls that resulted in this exception/failure was:
File: 'exec_python_func() autogenerated', lineno: 2, function: <module>
0001:
*** 0002:do_testimage(d)
0003:
File: '/home/ss/imx6/yocto/OS_Linux_imx6/sources/poky/meta/classes/testimage.bbclass', lineno: 114, function: do_testimage
0110:    netstat -an
0111:}
0112:
0113:python do_testimage() {
*** 0114:   testimage_main(d)
0115:}
0116:
0117:addtask testimage
0118:do_testimage[nostamp] = "1"
File: '/home/ss/imx6/yocto/OS_Linux_imx6/sources/poky/meta/classes/testimage.bbclass', lineno: 320, function: testimage_main
0316:
0317:    # Show results (if we have them)
0318:    if not results:
0319:        bb.fatal('%s - FAILED - tests were interrupted during execution' % pn, forcelog=True)
*** 0320:    configuration = get_testimage_configuration(d, 'runtime', machine)
0321:    results.logDetails(get_testimage_json_result_dir(d),
0322:                       configuration,
0323:                       get_testimage_result_id(configuration),
0324:                       dump_streams=d.getVar('TESTREPORT_FULLLOGS'))
File: '/home/ss/imx6/yocto/OS_Linux_imx6/sources/poky/meta/classes/testimage.bbclass', lineno: 139, function: get_testimage_configuration
0135:                    'IMAGE_BASENAME': d.getVar("IMAGE_BASENAME"),
0136:                    'IMAGE_PKGTYPE': d.getVar("IMAGE_PKGTYPE"),
0137:                    'STARTTIME': d.getVar("DATETIME"),
0138:                    'HOST_DISTRO': oe.lsb.distro_identifier().replace(' ', '-'),
*** 0139:                    'LAYERS': get_layers(d.getVar("BBLAYERS"))}
0140:    return configuration
0141:get_testimage_configuration[vardepsexclude] = "DATETIME"
0142:
0143:def get_testimage_json_result_dir(d):
File: '/home/ss/imx6/yocto/OS_Linux_imx6/sources/poky/meta/lib/oeqa/utils/metadata.py', lineno: 97, function: get_layers
0093:    """Returns layer information in dict format"""
0094:    layer_dict = OrderedDict()
0095:    for layer in layers.split():
0096:        layer_name = os.path.basename(layer)
*** 0097:        layer_dict[layer_name] = git_rev_info(layer)
0098:    return layer_dict
0099:
0100:def write_metadata_file(file_path, metadata):
0101:    """ Writes metadata to a XML file in directory. """
File: '/home/ss/imx6/yocto/OS_Linux_imx6/sources/poky/meta/lib/oeqa/utils/metadata.py', lineno: 84, function: git_rev_info
0080:    try:
0081:        repo = Repo(path, search_parent_directories=True)
0082:    except (InvalidGitRepositoryError, NoSuchPathError):
0083:        return info
*** 0084:    info['commit'] = repo.head.commit.hexsha
0085:    info['commit_count'] = repo.head.commit.count()
0086:    try:
0087:        info['branch'] = repo.active_branch.name
0088:    except TypeError:
File: '/usr/lib/python3/dist-packages/git/refs/symbolic.py', lineno: 197, function: _get_commit
0193:        """
0194:        :return:
0195:            Commit object we point to, works for detached and non-detached
0196:            SymbolicReferences. The symbolic reference will be dereferenced recursively."""
*** 0197:        obj = self._get_object()
0198:        if obj.type == 'tag':
0199:            obj = obj.object
0200:        # END dereference tag
0201:
File: '/usr/lib/python3/dist-packages/git/refs/symbolic.py', lineno: 190, function: _get_object
0186:            The object our ref currently refers to. Refs can be cached, they will
0187:            always point to the actual object as it gets re-created on each query"""
0188:        # have to be dynamic here as we may be a tag which can point to anything
0189:        # Our path will be resolved to the hexsha which will be used accordingly
*** 0190:        return Object.new_from_sha(self.repo, hex_to_bin(self.dereference_recursive(self.repo, self.path)))
0191:
0192:    def _get_commit(self):
0193:        """
0194:        :return:
File: '/usr/lib/python3/dist-packages/git/refs/symbolic.py', lineno: 132, function: dereference_recursive
0128:        :return: hexsha stored in the reference at the given ref_path, recursively dereferencing all
0129:            intermediate references as required
0130:        :param repo: the repository containing the reference at ref_path"""
0131:        while True:
*** 0132:            hexsha, ref_path = cls._get_ref_info(repo, ref_path)
0133:            if hexsha is not None:
0134:                return hexsha
0135:        # END recursive dereferencing
0136:
File: '/usr/lib/python3/dist-packages/git/refs/symbolic.py', lineno: 181, function: _get_ref_info
0177:    def _get_ref_info(cls, repo, ref_path):
0178:        """Return: (str(sha), str(target_ref_path)) if available, the sha the file at
0179:        rela_path points to, or None. target_ref_path is the reference we
0180:        point to, or None"""
*** 0181:        return cls._get_ref_info_helper(repo, ref_path)
0182:
0183:    def _get_object(self):
0184:        """
0185:        :return:
File: '/usr/lib/python3/dist-packages/git/refs/symbolic.py', lineno: 164, function: _get_ref_info_helper
0160:                break
0161:            # END for each packed ref
0162:        # END handle packed refs
0163:        if tokens is None:
*** 0164:            raise ValueError("Reference at %r does not exist" % ref_path)
0165:
0166:        # is it a reference ?
0167:        if tokens[0] == 'ref:':
0168:            return (None, tokens[1])
Exception: ValueError: Reference at 'refs/heads/yocto_imx6_rel' does not exist

DEBUG: Python function do_testimage finished

I tried to resolve the problem but errors, and warming kept increasing. than I found , a testimage.bbclass - http://cgit.openembedded.org/openembedded-core/tree/meta/classes/testimage.bbclass?h=pyro ( http://cgit.openembedded.org/openembedded-core/tree/meta/classes/testimage.bbclass?h=pyro )
which had diffrence wrt my testimage.bbclass diffrence was - i
nherit meta_scm
python () {
if oe.types.boolean(d.getVar("TESTIMAGE_AUTO") or "False"):
bb.build.addtask("testimage", "do_build", "do_image_complete", d)
}

Later ,
i swap my testimage.bbclass with http://cgit.openembedded.org/openembedded-core/tree/meta/classes/testimage.bbclass?h=pyro i know that the diffrence may be due to diffrent version but still i tested.
now after running the task --- bitbake core-image-weston -c testimage do_testimage task have stopped at 99% , no, I am not getting any log, later i Swaped the earlier testimage.bbclass and still it gets stuck at 99%. I am not getting any logs in both cases now As new to this technology ,

may i please get your help to resolve this issue, and root cause of it

[-- Attachment #2: Type: text/html, Size: 13284 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* #yocto
@ 2021-07-23  6:26 sateesh m
  0 siblings, 0 replies; 14+ messages in thread
From: sateesh m @ 2021-07-23  6:26 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 5987 bytes --]

Hi Guys,

I am facing below error while compiling consul package. can anybody know this issue please suggest me.
ERROR: consul-git-r0 do_compile: Execution of '/home/sources/fu540-build/tmp-glibc/work/riscv64-oe-linux/consul/git-r0/temp/run.do_compile.26832' failed with exit code 2:
internal/unsafeheader
unicode/utf16
container/list
internal/cpu
crypto/internal/subtle
crypto/subtle
vendor/golang.org/x/crypto/cryptobyte/asn1
internal/nettrace
vendor/golang.org/x/crypto/internal/subtle
internal/race
unicode/utf8
runtime/internal/atomic
sync/atomic
internal/testlog
runtime/internal/sys
runtime/internal/math
internal/bytealg
encoding
unicode
math/bits
math
runtime
internal/reflectlite
sync
errors
internal/singleflight
sort
math/rand
strconv
internal/oserror
io
vendor/golang.org/x/net/dns/dnsmessage
container/heap
crypto/rc4
reflect
strings
bytes
syscall
hash
crypto
crypto/internal/randutil
crypto/hmac
hash/crc32
vendor/golang.org/x/crypto/hkdf
bufio
vendor/golang.org/x/text/transform
path
text/tabwriter
regexp/syntax
encoding/base32
html
hash/crc64
hash/fnv
internal/fmtsort
hash/adler32
encoding/binary
regexp
time
internal/syscall/unix
internal/syscall/execenv
encoding/base64
crypto/cipher
crypto/sha512
crypto/ed25519/internal/edwards25519
crypto/md5
crypto/aes
crypto/des
context
crypto/sha1
internal/poll
crypto/sha256
encoding/pem
vendor/golang.org/x/crypto/chacha20
vendor/golang.org/x/crypto/poly1305
vendor/golang.org/x/crypto/chacha20poly1305
os
fmt
path/filepath
net
io/ioutil
encoding/json
encoding/hex
vendor/golang.org/x/net/http2/hpack
mime
mime/quotedprintable
vendor/golang.org/x/crypto/curve25519
os/signal
log
compress/flate
vendor/golang.org/x/text/unicode/norm
vendor/golang.org/x/text/unicode/bidi
compress/gzip
runtime/debug
net/http/internal
math/big
net/textproto
net/url
go/token
compress/lzw
encoding/gob
os/exec
github.com/hashicorp/consul/vendor/golang.org/x/net/internal/socket
vendor/golang.org/x/text/secure/bidirule
vendor/golang.org/x/net/idna
github.com/hashicorp/consul/vendor/golang.org/x/sys/unix
flag
runtime/trace
testing
os/user
encoding/asn1
crypto/elliptic
text/template/parse
crypto/rand
vendor/golang.org/x/crypto/cryptobyte
crypto/ed25519
crypto/rsa
crypto/dsa
crypto/x509/pkix
mime/multipart
vendor/golang.org/x/net/http/httpproxy
vendor/golang.org/x/net/http/httpguts
internal/lazyregexp
go/scanner
crypto/ecdsa
text/template
compress/zlib
crypto/x509
go/ast
archive/tar
github.com/hashicorp/consul/vendor/github.com/boltdb/bolt
html/template
github.com/hashicorp/consul/vendor/github.com/shirou/gopsutil/host
go/parser
go/doc
crypto/tls
net/mail
log/syslog

encoding/xml
# github.com/hashicorp/consul/vendor/golang.org/x/net/internal/socket
src/github.com/hashicorp/consul/vendor/golang.org/x/net/internal/socket/cmsghdr.go:9:10: undefined: cmsghdr
src/github.com/hashicorp/consul/vendor/golang.org/x/net/internal/socket/cmsghdr.go:10:10: undefined: cmsghdr
src/github.com/hashicorp/consul/vendor/golang.org/x/net/internal/socket/cmsghdr.go:11:10: undefined: cmsghdr
src/github.com/hashicorp/consul/vendor/golang.org/x/net/internal/socket/mmsghdr_unix.go:11:17: undefined: mmsghdr
encoding/csv
net/http/httptrace
internal/profile
runtime/pprof
net/http
# github.com/hashicorp/consul/vendor/github.com/shirou/gopsutil/host
src/github.com/hashicorp/consul/vendor/github.com/shirou/gopsutil/host/host_linux.go:208:22: undefined: sizeOfUtmp
src/github.com/hashicorp/consul/vendor/github.com/shirou/gopsutil/host/host_linux.go:213:14: undefined: sizeOfUtmp
src/github.com/hashicorp/consul/vendor/github.com/shirou/gopsutil/host/host_linux.go:215:9: undefined: utmp
# github.com/hashicorp/consul/vendor/github.com/boltdb/bolt
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/bolt_unix.go:62:15: undefined: maxMapSize
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/bucket.go:135:15: undefined: brokenUnaligned
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/db.go:101:13: undefined: maxMapSize
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/db.go:317:12: undefined: maxMapSize
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/db.go:335:10: undefined: maxMapSize
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/db.go:336:8: undefined: maxMapSize
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/freelist.go:169:19: undefined: maxAllocSize
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/freelist.go:176:14: undefined: maxAllocSize
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/freelist.go:204:17: undefined: maxAllocSize
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/freelist.go:207:7: undefined: maxAllocSize
src/github.com/hashicorp/consul/vendor/github.com/boltdb/bolt/freelist.go:207:7: too many errors
expvar
net/http/httptest
net/rpc
net/http/httputil
net/http/cookiejar
# github.com/hashicorp/consul/vendor/golang.org/x/sys/unix
src/github.com/hashicorp/consul/vendor/golang.org/x/sys/unix/syscall_linux_gc.go:10:6: missing function body
src/github.com/hashicorp/consul/vendor/golang.org/x/sys/unix/syscall_linux_gc.go:14:6: missing function body
src/github.com/hashicorp/consul/vendor/golang.org/x/sys/unix/syscall_unix_gc.go:12:6: missing function body
src/github.com/hashicorp/consul/vendor/golang.org/x/sys/unix/syscall_unix_gc.go:13:6: missing function body
src/github.com/hashicorp/consul/vendor/golang.org/x/sys/unix/syscall_unix_gc.go:14:6: missing function body
src/github.com/hashicorp/consul/vendor/golang.org/x/sys/unix/syscall_unix_gc.go:15:6: missing function body
net/http/pprof
WARNING: exit code 2 from a shell command.

ERROR: Logfile of failure stored in: /home/sources/fu540-build/tmp-glibc/work/riscv64-oe-linux/consul/git-r0/temp/log.do_compile.26832

--
Regards,
Sateesh

[-- Attachment #2: Type: text/html, Size: 8096 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* #yocto
@ 2020-11-18 13:08 Monsees, Steven C (US)
  0 siblings, 0 replies; 14+ messages in thread
From: Monsees, Steven C (US) @ 2020-11-18 13:08 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 378 bytes --]


I was going through the kernel boot output and saw the following output, can someone tell me why this might be popping up and how I might modify configuration to resolve? :
.
.
LIMWS (BAE LIMWS base distro) 3.0.4 sbcb-default ttyS0

-sh: cannot set terminal process group (1137): Inappropriate ioctl for device
-sh: no job control in this shell
.
.

Thanks,
Steve

[-- Attachment #2: Type: text/html, Size: 2540 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* Re: #yocto
  2020-11-02 12:44 [yocto] #yocto Martin Jansa
@ 2020-11-02 12:58 ` Monsees, Steven C (US)
  0 siblings, 0 replies; 14+ messages in thread
From: Monsees, Steven C (US) @ 2020-11-02 12:58 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 35 bytes --]

Thanks you, that was the issue...

[-- Attachment #2: Type: text/html, Size: 41 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* Re: #yocto
  2020-10-29 19:47 [yocto] #yocto mail
@ 2020-11-02 12:36 ` Monsees, Steven C (US)
  0 siblings, 0 replies; 14+ messages in thread
From: Monsees, Steven C (US) @ 2020-11-02 12:36 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 1213 bytes --]

I am not sure I am following ...

#1 is the actual package being built, #2 is the mods to the recipes for the image I am building...

(1)./workspace_1/poky/../meta-intel

(2)./workspace_1/poky/../meta-1/meta-2/meta-intel
These directories share the same name, but the local.conf for #2 requires a unique BBFILE_COLLECTIONS name now ?

If I change the BBFILE_COLLECTIONS name to be unique,  I see the following error:

--- Starting bitbake server pid 12022 at 2020-11-02 07:19:06.133802 ---
ERROR: Unable to parse Var <AVAILABLE_LICENSES[:=]>
Traceback (most recent call last):
File "Var <AVAILABLE_LICENSES[:=]>", line 1, in <module>
File "/disk0/scratch/smonsees/yocto/workspace_3/poky/meta/classes/license.bbclass", line 275, in available_licenses(d=<bb.data_smart.DataSmart object at 0x7fc921cbdda0>):
for lic_dir in lic_dirs:
>        licenses += os.listdir(lic_dir)

bb.data_smart.ExpansionError: Failure expanding variable AVAILABLE_LICENSES[:=], expression was ${@' '.join(available_licenses(d))} which triggered exception FileNotFoundError: [Errno 2] No such file or directory: '/disk0/scratch/smonsees/yocto/workspace_3/poky/../meta-bae/meta-limws/meta-intel/custom-licenses'

[-- Attachment #2: Type: text/html, Size: 2318 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* Re: #yocto
  2020-10-29 18:12 #yocto Monsees, Steven C (US)
@ 2020-10-29 19:37 ` Monsees, Steven C (US)
  0 siblings, 0 replies; 14+ messages in thread
From: Monsees, Steven C (US) @ 2020-10-29 19:37 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 306 bytes --]

Maybe the better question is, Does the BBFILE_COLLECTIONS name add now have to be unique ?

In this scenario the  BBFILE_COLLECTIONS name  is currently set to += "intel" for both the respective layer.conf files...

Currently under the "rocko" release this does not cause an isuue.

Thanks,
Steve

[-- Attachment #2: Type: text/html, Size: 348 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* #yocto
@ 2020-10-29 18:12 Monsees, Steven C (US)
  2020-10-29 19:37 ` #yocto Monsees, Steven C (US)
  0 siblings, 1 reply; 14+ messages in thread
From: Monsees, Steven C (US) @ 2020-10-29 18:12 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 718 bytes --]


I am currently looking at porting from "rocko" to "zeus"...

Under your migration pages, I saw that in the project 2.7 release the following change occurred to BitBake:

"Bitbake now checks BBFILE_COLLECTIONS<https://docs.yoctoproject.org/ref-manual/ref-variables.html#term-BBFILE_COLLECTIONS> for duplicate entries and triggers an error if any are found."

Does this imply that Yocto/BitBake would now throw a "duplicate BBFILE_COLLECTIONS", if say prior to 2.7 one had 2 layers such as:


(1)    ./workspace_1/poky/../meta-intel

(2)    ./workspace_1/poky/../meta-1/meta-2/meta-intel

Where #1 was the actual meta-intel recipe, and #2 was for modification/configuration of #1 ?

Thanks,
Steve



[-- Attachment #2: Type: text/html, Size: 5991 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* #yocto
@ 2020-09-07  9:11 jl
  0 siblings, 0 replies; 14+ messages in thread
From: jl @ 2020-09-07  9:11 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 578 bytes --]

Hi

How to handle multiple products ?

We have a builder project with poky, bsp, disto and individual product specific layers (10+) as git submodules.

We want to avoid that one product uses a .bb or .bbappend recipe from another product specific layer by accident/error.

How to do that ?

1) Is it possible only to include certain layers for each layer (product) ?
2) Replace/modify bblayers.conf for each product
3) Split our builder project into smaller builder projects one for each product, only containing needed layers?
4) ?

Best regards,
Jan Lorenzen

[-- Attachment #2: Type: text/html, Size: 813 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* Re: #yocto
  2020-07-01 15:41 [yocto] #yocto Quentin Schulz
@ 2020-07-01 16:04 ` Pankaj  Vinadrao Joshi
  0 siblings, 0 replies; 14+ messages in thread
From: Pankaj  Vinadrao Joshi @ 2020-07-01 16:04 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 470 bytes --]

Hi Quentin,
Thanks for response
I didnt got solution yet as previously u suggested to remove hwcodecstools-debug but i after i faced one more issue with other features from core-image-sato.bb file but simply removing from there is ok,i did not got like why i am getting like so error which i didnt got earlier with the same image.Also kindly suggest why after logging trough ssh its asking for password though i have not set any password,where could be the problem??

[-- Attachment #2: Type: text/html, Size: 618 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* #yocto
@ 2020-07-01 15:36 Pankaj  Vinadrao Joshi
  0 siblings, 0 replies; 14+ messages in thread
From: Pankaj  Vinadrao Joshi @ 2020-07-01 15:36 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 5749 bytes --]

Hi,
i am building an image for RPI4 but while building core-image-sato i am getting the following error
pankaj@exaleap-Inspiron-3584:~/Oe-Raspberrypi4$ bitbake core-image-sato
Parsing recipes: 100% |######################################################################################################################################################################| Time: 0:01:56
Parsing of 2279 .bb files complete (0 cached, 2279 parsed). 3439 targets, 196 skipped, 0 masked, 0 errors.
*ERROR: Nothing PROVIDES 'core-image-sato'*
*core-image-sato was skipped: 'hwcodecstools-debug' in IMAGE_FEATURES is not a valid image feature.* Valid features: allow-empty-password allow-root-login bash-completion-pkgs dbg-pkgs debug-tweaks dev-pkgs doc doc-pkgs eclipse-debug empty-root-password hwcodecs nfs-client nfs-server package-management post-install-logging ptest-pkgs read-only-rootfs splash src-pkgs ssh-server-dropbear ssh-server-openssh stateless-rootfs staticdev-pkgs tools-debug tools-profile tools-sdk tools-testapps x11 x11-base x11-sato

later *i have removed the hwcodecstools-debug feature from core-image-sato.bb* then i got same above error for  ssh-server-dropbeartools-debug' likewise for all features (# IMAGE_FEATURES += "splash package-management x11-base x11-sato ssh-server-dropbear hwcodecs") from core-image-sato.bb

i am attaching detailed error message

ERROR: Nothing PROVIDES 'core-image-sato'
core-image-sato was skipped: 'hwcodecstools-debug' in IMAGE_FEATURES is not a valid image feature. Valid features: allow-empty-password allow-root-login bash-completion-pkgs dbg-pkgs debug-tweaks dev-pkgs doc doc-pkgs eclipse-debug empty-root-password hwcodecs nfs-client nfs-server package-management post-install-logging ptest-pkgs read-only-rootfs splash src-pkgs ssh-server-dropbear ssh-server-openssh stateless-rootfs staticdev-pkgs tools-debug tools-profile tools-sdk tools-testapps x11 x11-base x11-sato

This is error message when i removed hwcodecstools-debug from 'core-image-sato
pankaj@exaleap-Inspiron-3584:~/Oe-Raspberrypi4$ bitbake core-image-sato
Loading cache: 100% |########################################################################################################################################################################| Time: 0:00:00
Loaded 3439 entries from dependency cache.
Parsing recipes: 100% |######################################################################################################################################################################| Time: 0:00:00
Parsing of 2279 .bb files complete (2274 cached, 5 parsed). 3439 targets, 196 skipped, 0 masked, 0 errors.
ERROR: Nothing PROVIDES 'core-image-sato'
core-image-sato was skipped: 'package-managementtools-debug' in IMAGE_FEATURES is not a valid image feature. Valid features: allow-empty-password allow-root-login bash-completion-pkgs dbg-pkgs debug-tweaks dev-pkgs doc doc-pkgs eclipse-debug empty-root-password hwcodecs nfs-client nfs-server package-management post-install-logging ptest-pkgs read-only-rootfs splash src-pkgs ssh-server-dropbear ssh-server-openssh stateless-rootfs staticdev-pkgs tools-debug tools-profile tools-sdk tools-testapps x11 x11-base x11-sato

Summary: There was 1 ERROR message shown, returning a non-zero exit code.

This is error message when i removed  package-managementtools-debug' and  x11-base x11-sato ssh-server-dropbear from 'core-image-sato
pankaj@exaleap-Inspiron-3584:~/Oe-Raspberrypi4$ bitbake core-image-sato
Loading cache: 100% |########################################################################################################################################################################| Time: 0:00:00
Loaded 3439 entries from dependency cache.
Parsing recipes: 100% |######################################################################################################################################################################| Time: 0:00:00
Parsing of 2279 .bb files complete (2274 cached, 5 parsed). 3439 targets, 196 skipped, 0 mask 0 errors.
ERROR: Nothing PROVIDES 'core-image-sato'
core-image-sato was skipped: 'splashtools-debug' in IMAGE_FEATURES is not a valid image feature. Valid features: allow-empty-password allow-root-login bash-completion-pkgs dbg-pkgs debug-tweaks dev-pkgs doc doc-pkgs eclipse-debug empty-root-password hwcodecs nfs-client nfs-server package-management post-install-logging ptest-pkgs read-only-rootfs splash src-pkgs ssh-server-dropbear ssh-server-openssh stateless-rootfs staticdev-pkgs tools-debug tools-profile tools-sdk tools-testapps x11 x11-base x11-sato

1) Now i have removed all the features from that .bb file why i am getting these errors??

2) I have built the image without these configuration but after booting the image its asking for password for connecting from ssh thought i have not set any packages
i have included following features in local.conf file of build dir

EXTRA_IMAGE_FEATURES ?= "debug-tweaks"
ENABLE_UART = "1"
#EXTRA_IMAGE_FEATURES ?= "allow-empty-password allow-root-login"
CORE_IMAGE_EXTRA_INSTALL += "git ruby bsdtar pseudo os-release lsb-release cmake"
DISTRO_FEATURES_append = "opengl python3-pip"
EXTRA_IMAGE_FEATURES_append += "src-pkgs package-management ssh-server-dropbear ssh-server-openssh stateless-rootfs "
PACKAGE_CLASSES = "package_deb"
IMAGE_INSTALL_append = " glibc-utils localedef unicode-ucd "
IMAGE_FEATURES_append = "tools-debug tools-sdk dev-pkgs"
CORE_IMAGE_EXTRA_INSTALL += " kernel-modules bash e2fsprogs mtools parted dosfstools mtd-utils-ubifs openssh"
IMAGE_INSTALL_append += " dhcp-client dhcp-server python3-pip "
DISTRO ?= "Exaleap-arm-linux"

can someone help me to ressolve this issue???

[-- Attachment #2: Type: text/html, Size: 7054 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
* #yocto
@ 2020-06-03 13:56 Baabu Ms
  0 siblings, 0 replies; 14+ messages in thread
From: Baabu Ms @ 2020-06-03 13:56 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 1153 bytes --]

# Hello all

#                 im trying build pam package in core-image-sato i added pam package in local.conf file

# *DISTRO_FEATURES_append  = "pam"*

#                when i added pam package i facing *error* , so i removed the pam package in local.conf
#               i attached log please give me solution to build the pam package

# update-alternatives: Error: not linking /home/jenkinsagent/5.5.6/build-script/riscv-yocto-sato-base/openembedded/openembedded-core/riscv-build/tmp-glibc/work/exaleapsemi-oe-linux/core-image-sato/1.0-r0/rootfs/usr/bin/vlock to  /bin/busybox.suid
# since /home/jenkinsagent/5.5.6/build-script/riscv-yocto-sato-base/openembedded/openembedded-core/riscv-build/tmp-glibc/work/exaleapsemi-oe-linux/core-image-sato/1.0-r0/rootfs/usr/bin/vlock exists and is not a link

# ERROR: core-image-sato-1.0-r0 do_rootfs: Postinstall scriptlets of ['busybox'] have failed. If the intention is to defer them to first boot,
# then please place them into pkg_postinst_ontarget_${PN} ().
# Deferring to first boot via 'exit 1' is no longer supported.

--
Thanks & Regards
Exaleap
Babu p

[-- Attachment #2: Type: text/html, Size: 1591 bytes --]

^ permalink raw reply	[flat|nested] 14+ messages in thread
end of thread, other threads:[~2022-09-22  7:06 UTC | newest]

Thread overview: 14+ messages (download: mbox.gz / follow: Atom feed)
-- links below jump to the message on this page --
2021-07-19 13:41 #yocto Monsees, Steven C (US)
2021-07-20  9:02 ` [yocto] #yocto Ross Burton
2021-07-20 10:27   ` Monsees, Steven C (US)
  -- strict thread matches above, loose matches on Subject: below --
2022-09-22  7:06 #yocto bahugunaayush8
2021-07-23  6:26 #yocto sateesh m
2020-11-18 13:08 #yocto Monsees, Steven C (US)
2020-11-02 12:44 [yocto] #yocto Martin Jansa
2020-11-02 12:58 ` #yocto Monsees, Steven C (US)
2020-10-29 19:47 [yocto] #yocto mail
2020-11-02 12:36 ` #yocto Monsees, Steven C (US)
2020-10-29 18:12 #yocto Monsees, Steven C (US)
2020-10-29 19:37 ` #yocto Monsees, Steven C (US)
2020-09-07  9:11 #yocto jl
2020-07-01 15:41 [yocto] #yocto Quentin Schulz
2020-07-01 16:04 ` #yocto Pankaj  Vinadrao Joshi
2020-07-01 15:36 #yocto Pankaj  Vinadrao Joshi
2020-06-03 13:56 #yocto Baabu Ms

