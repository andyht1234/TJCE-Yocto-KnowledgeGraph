* firewalld isssue  #yocto
@ 2022-03-28  6:39 sateesh m
       [not found] ` <d168b6bb0a3262532c340c23b7a7cc495a78334a.camel@delisys.ch>
  0 siblings, 1 reply; 3+ messages in thread
From: sateesh m @ 2022-03-28  6:39 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 32892 bytes --]

Hi Team,

I have built a custom image core-image-base on riscv target machine installed nftables,firewalld,JSON packages support. I am using firewalld_0.9.3 sources depends nftables-python is present. But I am getting error python-nftables. Can you please guide me on what dependent I missed here? If suppose firewalld should work means, What packages should  I install?

But while running firewalld status is always failed mode.
Using $firewall-cmd --reload  I am facing a  problem

Error: COMMAND_FAILED: 'python-nftables' failed: internal:0:0-0: Error: Could not process rule: No such file or directory

JSON blob:
{"nftables": [{"metainfo": {"json_schema_version": 1}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "raw_PREROUTING", "type": "filter", "hook": "prerouting", "prio": -290}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PREROUTING", "type": "filter", "hook": "prerouting", "prio": -140}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PREROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING", "expr": [{"jump": {"target": "mangle_PREROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PREROUTING_ZONES"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING", "expr": [{"jump": {"target": "mangle_PREROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PREROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING", "expr": [{"jump": {"target": "mangle_PREROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PREROUTING", "type": "nat", "hook": "prerouting", "prio": -90}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PREROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PREROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PREROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POSTROUTING", "type": "nat", "hook": "postrouting", "prio": 110}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POSTROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POSTROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POSTROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PREROUTING", "type": "nat", "hook": "prerouting", "prio": -90}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PREROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PREROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PREROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POSTROUTING", "type": "nat", "hook": "postrouting", "prio": 110}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POSTROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POSTROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POSTROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_INPUT", "type": "filter", "hook": "input", "prio": 10}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD", "type": "filter", "hook": "forward", "prio": 10}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_OUTPUT", "type": "filter", "hook": "output", "prio": 10}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["established", "related"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"match": {"left": {"ct": {"key": "status"}}, "op": "in", "right": "dnat"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"match": {"left": {"meta": {"key": "iifname"}}, "op": "==", "right": "lo"}}, {"accept": null}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_INPUT_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"jump": {"target": "filter_INPUT_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_INPUT_ZONES"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"jump": {"target": "filter_INPUT_ZONES"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_INPUT_POLICIES_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"jump": {"target": "filter_INPUT_POLICIES_post"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["invalid"]}}}, {"drop": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"reject": {"type": "icmpx", "expr": "admin-prohibited"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["established", "related"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"match": {"left": {"ct": {"key": "status"}}, "op": "in", "right": "dnat"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"match": {"left": {"meta": {"key": "iifname"}}, "op": "==", "right": "lo"}}, {"accept": null}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump": {"target": "filter_FORWARD_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD_IN_ZONES"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump": {"target": "filter_FORWARD_IN_ZONES"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD_OUT_ZONES"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump": {"target": "filter_FORWARD_OUT_ZONES"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD_POLICIES_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump": {"target": "filter_FORWARD_POLICIES_post"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["invalid"]}}}, {"drop": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"reject": {"type": "icmpx", "expr": "admin-prohibited"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_OUTPUT", "expr": [{"match": {"left": {"meta": {"key": "oifname"}}, "op": "==", "right": "lo"}}, {"accept": null}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_OUTPUT_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_OUTPUT", "expr": [{"jump": {"target": "filter_OUTPUT_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_OUTPUT_POLICIES_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_OUTPUT", "expr": [{"jump": {"target": "filter_OUTPUT_POLICIES_post"}}]}}}, {"insert": {"rule": {"family": "inet", "table": "firewalld", "chain": "raw_PREROUTING", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"fib": {"flags": ["saddr", "iif"], "result": "oif"}}, "op": "==", "right": false}}, {"drop": null}]}}}, {"insert": {"rule": {"family": "inet", "table": "firewalld", "chain": "raw_PREROUTING", "expr": [{"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": {"set": ["nd-router-advert", "nd-neighbor-solicit"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_OUTPUT", "index": 0, "expr": [{"match": {"left": {"payload": {"protocol": "ip6", "field": "daddr"}}, "op": "==", "right": {"set": [{"prefix": {"addr": "::0.0.0.0", "len": 96}}, {"prefix": {"addr": "::ffff:0.0.0.0", "len": 96}}, {"prefix": {"addr": "2002:0000::", "len": 24}}, {"prefix": {"addr": "2002:0a00::", "len": 24}}, {"prefix": {"addr": "2002:7f00::", "len": 24}}, {"prefix": {"addr": "2002:ac10::", "len": 28}}, {"prefix": {"addr": "2002:c0a8::", "len": 32}}, {"prefix": {"addr": "2002:a9fe::", "len": 32}}, {"prefix": {"addr": "2002:e000::", "len": 19}}]}}}, {"reject": {"type": "icmpv6", "expr": "addr-unreachable"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "index": 2, "expr": [{"match": {"left": {"payload": {"protocol": "ip6", "field": "daddr"}}, "op": "==", "right": {"set": [{"prefix": {"addr": "::0.0.0.0", "len": 96}}, {"prefix": {"addr": "::ffff:0.0.0.0", "len": 96}}, {"prefix": {"addr": "2002:0000::", "len": 24}}, {"prefix": {"addr": "2002:0a00::", "len": 24}}, {"prefix": {"addr": "2002:7f00::", "len": 24}}, {"prefix": {"addr": "2002:ac10::", "len": 28}}, {"prefix": {"addr": "2002:c0a8::", "len": 32}}, {"prefix": {"addr": "2002:a9fe::", "len": 32}}, {"prefix": {"addr": "2002:e000::", "len": 19}}]}}}, {"reject": {"type": "icmpv6", "expr": "addr-unreachable"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_post"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public_allow", "expr": [{"match": {"left": {"payload": {"protocol": "tcp", "field": "dport"}}, "op": "==", "right": 22}}, {"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["new", "untracked"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public_allow", "expr": [{"match": {"left": {"payload": {"protocol": "ip6", "field": "daddr"}}, "op": "==", "right": {"prefix": {"addr": "fe80::", "len": 64}}}}, {"match": {"left": {"payload": {"protocol": "udp", "field": "dport"}}, "op": "==", "right": 546}}, {"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["new", "untracked"]}}}, {"accept": null}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_pre"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_log"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_deny"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_allow"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_pre"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_log"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_deny"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_allow"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_pre"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_log"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_deny"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_allow"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_pre"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_log"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_deny"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_allow"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_post"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_pre"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_log"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_deny"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_allow"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_pre"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_log"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_deny"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_allow"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_pre"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_log"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_deny"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_allow"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_pre"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_log"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_deny"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_allow"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_post"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_post"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "index": 4, "expr": [{"match": {"left": {"meta": {"key": "l4proto"}}, "op": "==", "right": {"set": ["icmp", "icmpv6"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "index": 4, "expr": [{"match": {"left": {"meta": {"key": "l4proto"}}, "op": "==", "right": {"set": ["icmp", "icmpv6"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT_ZONES", "expr": [{"goto": {"target": "filter_IN_public"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD_OUT_ZONES", "expr": [{"goto": {"target": "filter_FWDO_public"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POSTROUTING_ZONES", "expr": [{"goto": {"target": "nat_POST_public"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POSTROUTING_ZONES", "expr": [{"goto": {"target": "nat_POST_public"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD_IN_ZONES", "expr": [{"goto": {"target": "filter_FWDI_public"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING_ZONES", "expr": [{"goto": {"target": "nat_PRE_public"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING_ZONES", "expr": [{"goto": {"target": "nat_PRE_public"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING_ZONES", "expr": [{"goto": {"target": "mangle_PRE_public"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_pre"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_log"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_deny"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_allow"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_pre"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_log"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_deny"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_allow"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_post"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_post"}}]}}}, {"insert": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT_POLICIES_pre", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6"}}]}}}, {"insert": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING_POLICIES_pre", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6"}}]}}}, {"insert": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING_POLICIES_pre", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6"}}]}}}, {"insert": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING_POLICIES_pre", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": "nd-neighbor-advert"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": "nd-neighbor-solicit"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": "nd-router-advert"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": "nd-redirect"}}, {"accept": null}]}}}]}

--
Regards,
Sateesh

[-- Attachment #2: Type: text/html, Size: 33108 bytes --]

^ permalink raw reply	[flat|nested] 3+ messages in thread
* Re: [yocto] firewalld isssue #yocto
       [not found] ` <d168b6bb0a3262532c340c23b7a7cc495a78334a.camel@delisys.ch>
@ 2022-03-29 23:15   ` Randy MacLeod
  0 siblings, 0 replies; 3+ messages in thread
From: Randy MacLeod @ 2022-03-29 23:15 UTC (permalink / raw)
  To: Nicolas Jeker, yocto, Trevor Gamblin; +Cc: sateesh m



On 2022-03-28 03:18, Nicolas Jeker wrote:
> On Sun, 2022-03-27 at 23:39 -0700, sateesh m wrote:
>> Hi Team,
>>
>>                  I have built a custom image core-image-base on riscv
>> target machine installed nftables,firewalld,JSON packages support. I
>> am using firewalld_0.9.3 sources depends nftables-python is present.
>> But I am getting error python-nftables. Can you please guide me on
>> what dependent I missed here? If suppose firewalld should work means,
>> What packages should  I install?
>>
>> But while running firewalld status is always failed mode.
>> Using $firewall-cmd --reload  I am facing a  problem
>>
>> Error: COMMAND_FAILED: 'python-nftables' failed: internal:0:0-0:
>> Error: Could not process rule: No such file or directory
>>   
> Judging by this stack exchange thread[1] from a quick search, you might
> be missing the appropriate kernel configs[2].
>
> [1]: https://unix.stackexchange.com/questions/632113
> [2]: https://wiki.gentoo.org/wiki/Nftables#Kernel
Trevor was looking into this as well so I've CCed him.

../Randy

>
>>   
>> JSON blob:
>> {"nftables": [{"metainfo": {"json_schema_version": 1}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "raw_PREROUTING", "type": "filter", "hook": "prerouting", "prio": -
>> 290}}}, {"add": {"chain": {"family": "inet", "table": "firewalld",
>> "name": "mangle_PREROUTING", "type": "filter", "hook": "prerouting",
>> "prio": -140}}}, {"add": {"chain": {"family": "inet", "table":
>> "firewalld", "name": "mangle_PREROUTING_POLICIES_pre"}}}, {"add":
>> {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PREROUTING", "expr": [{"jump": {"target":
>> "mangle_PREROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family":
>> "inet", "table": "firewalld", "name": "mangle_PREROUTING_ZONES"}}},
>> {"add": {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PREROUTING", "expr": [{"jump": {"target":
>> "mangle_PREROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "mangle_PREROUTING_POLICIES_post"}}},
>> {"add": {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PREROUTING", "expr": [{"jump": {"target":
>> "mangle_PREROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family":
>> "ip", "table": "firewalld", "name": "nat_PREROUTING", "type": "nat",
>> "hook": "prerouting", "prio": -90}}}, {"add": {"chain": {"family":
>> "ip", "table": "firewalld", "name": "nat_PREROUTING_POLICIES_pre"}}},
>> {"add": {"rule": {"family": "ip", "table": "firewalld", "chain":
>> "nat_PREROUTING", "expr": [{"jump": {"target":
>> "nat_PREROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family":
>> "ip", "table": "firewalld", "name": "nat_PREROUTING_ZONES"}}},
>> {"add": {"rule": {"family": "ip", "table": "firewalld", "chain":
>> "nat_PREROUTING", "expr": [{"jump": {"target":
>> "nat_PREROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "ip",
>> "table": "firewalld", "name": "nat_PREROUTING_POLICIES_post"}}},
>> {"add": {"rule": {"family": "ip", "table": "firewalld", "chain":
>> "nat_PREROUTING", "expr": [{"jump": {"target":
>> "nat_PREROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family":
>> "ip", "table": "firewalld", "name": "nat_POSTROUTING", "type": "nat",
>> "hook": "postrouting", "prio": 110}}}, {"add": {"chain": {"family":
>> "ip", "table": "firewalld", "name":
>> "nat_POSTROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip",
>> "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump":
>> {"target": "nat_POSTROUTING_POLICIES_pre"}}]}}}, {"add": {"chain":
>> {"family": "ip", "table": "firewalld", "name":
>> "nat_POSTROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip",
>> "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump":
>> {"target": "nat_POSTROUTING_ZONES"}}]}}}, {"add": {"chain":
>> {"family": "ip", "table": "firewalld", "name":
>> "nat_POSTROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip",
>> "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump":
>> {"target": "nat_POSTROUTING_POLICIES_post"}}]}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name": "nat_PREROUTING",
>> "type": "nat", "hook": "prerouting", "prio": -90}}}, {"add":
>> {"chain": {"family": "ip6", "table": "firewalld", "name":
>> "nat_PREROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip6",
>> "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump":
>> {"target": "nat_PREROUTING_POLICIES_pre"}}]}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name":
>> "nat_PREROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip6",
>> "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump":
>> {"target": "nat_PREROUTING_ZONES"}}]}}}, {"add": {"chain": {"family":
>> "ip6", "table": "firewalld", "name":
>> "nat_PREROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip6",
>> "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump":
>> {"target": "nat_PREROUTING_POLICIES_post"}}]}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name": "nat_POSTROUTING",
>> "type": "nat", "hook": "postrouting", "prio": 110}}}, {"add":
>> {"chain": {"family": "ip6", "table": "firewalld", "name":
>> "nat_POSTROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip6",
>> "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump":
>> {"target": "nat_POSTROUTING_POLICIES_pre"}}]}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name":
>> "nat_POSTROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip6",
>> "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump":
>> {"target": "nat_POSTROUTING_ZONES"}}]}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name":
>> "nat_POSTROUTING_POLICIES_post"}}}, {"add": {"rule": {"family":
>> "ip6", "table": "firewalld", "chain": "nat_POSTROUTING", "expr":
>> [{"jump": {"target": "nat_POSTROUTING_POLICIES_post"}}]}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_INPUT", "type": "filter", "hook": "input", "prio": 10}}},
>> {"add": {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_FORWARD", "type": "filter", "hook": "forward", "prio": 10}}},
>> {"add": {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_OUTPUT", "type": "filter", "hook": "output", "prio": 10}}},
>> {"add": {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "filter_INPUT", "expr": [{"match": {"left": {"ct": {"key": "state"}},
>> "op": "in", "right": {"set": ["established", "related"]}}},
>> {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table":
>> "firewalld", "chain": "filter_INPUT", "expr": [{"match": {"left":
>> {"ct": {"key": "status"}}, "op": "in", "right": "dnat"}}, {"accept":
>> null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld",
>> "chain": "filter_INPUT", "expr": [{"match": {"left": {"meta": {"key":
>> "iifname"}}, "op": "==", "right": "lo"}}, {"accept": null}]}}},
>> {"add": {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_INPUT_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_INPUT", "expr": [{"jump":
>> {"target": "filter_INPUT_POLICIES_pre"}}]}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "filter_INPUT_ZONES"}}}, {"add": {"rule": {"family": "inet", "table":
>> "firewalld", "chain": "filter_INPUT", "expr": [{"jump": {"target":
>> "filter_INPUT_ZONES"}}]}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "filter_INPUT_POLICIES_post"}}},
>> {"add": {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "filter_INPUT", "expr": [{"jump": {"target":
>> "filter_INPUT_POLICIES_post"}}]}}}, {"add": {"rule": {"family":
>> "inet", "table": "firewalld", "chain": "filter_INPUT", "expr":
>> [{"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right":
>> {"set": ["invalid"]}}}, {"drop": null}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain": "filter_INPUT",
>> "expr": [{"reject": {"type": "icmpx", "expr": "admin-
>> prohibited"}}]}}}, {"add": {"rule": {"family": "inet", "table":
>> "firewalld", "chain": "filter_FORWARD", "expr": [{"match": {"left":
>> {"ct": {"key": "state"}}, "op": "in", "right": {"set":
>> ["established", "related"]}}}, {"accept": null}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD",
>> "expr": [{"match": {"left": {"ct": {"key": "status"}}, "op": "in",
>> "right": "dnat"}}, {"accept": null}]}}}, {"add": {"rule": {"family":
>> "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr":
>> [{"match": {"left": {"meta": {"key": "iifname"}}, "op": "==",
>> "right": "lo"}}, {"accept": null}]}}}, {"add": {"chain": {"family":
>> "inet", "table": "firewalld", "name":
>> "filter_FORWARD_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump":
>> {"target": "filter_FORWARD_POLICIES_pre"}}]}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "filter_FORWARD_IN_ZONES"}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump":
>> {"target": "filter_FORWARD_IN_ZONES"}}]}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "filter_FORWARD_OUT_ZONES"}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump":
>> {"target": "filter_FORWARD_OUT_ZONES"}}]}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "filter_FORWARD_POLICIES_post"}}}, {"add": {"rule": {"family":
>> "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr":
>> [{"jump": {"target": "filter_FORWARD_POLICIES_post"}}]}}}, {"add":
>> {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "filter_FORWARD", "expr": [{"match": {"left": {"ct": {"key":
>> "state"}}, "op": "in", "right": {"set": ["invalid"]}}}, {"drop":
>> null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld",
>> "chain": "filter_FORWARD", "expr": [{"reject": {"type": "icmpx",
>> "expr": "admin-prohibited"}}]}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_OUTPUT", "expr": [{"match":
>> {"left": {"meta": {"key": "oifname"}}, "op": "==", "right": "lo"}},
>> {"accept": null}]}}}, {"add": {"chain": {"family": "inet", "table":
>> "firewalld", "name": "filter_OUTPUT_POLICIES_pre"}}}, {"add":
>> {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "filter_OUTPUT", "expr": [{"jump": {"target":
>> "filter_OUTPUT_POLICIES_pre"}}]}}}, {"add": {"chain": {"family":
>> "inet", "table": "firewalld", "name":
>> "filter_OUTPUT_POLICIES_post"}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_OUTPUT", "expr": [{"jump":
>> {"target": "filter_OUTPUT_POLICIES_post"}}]}}}, {"insert": {"rule":
>> {"family": "inet", "table": "firewalld", "chain": "raw_PREROUTING",
>> "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==",
>> "right": "ipv6"}}, {"match": {"left": {"fib": {"flags": ["saddr",
>> "iif"], "result": "oif"}}, "op": "==", "right": false}}, {"drop":
>> null}]}}}, {"insert": {"rule": {"family": "inet", "table":
>> "firewalld", "chain": "raw_PREROUTING", "expr": [{"match": {"left":
>> {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==",
>> "right": {"set": ["nd-router-advert", "nd-neighbor-solicit"]}}},
>> {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table":
>> "firewalld", "chain": "filter_OUTPUT", "index": 0, "expr": [{"match":
>> {"left": {"payload": {"protocol": "ip6", "field": "daddr"}}, "op":
>> "==", "right": {"set": [{"prefix": {"addr": "::0.0.0.0", "len": 96}},
>> {"prefix": {"addr": "::ffff:0.0.0.0", "len": 96}}, {"prefix":
>> {"addr": "2002:0000::", "len": 24}}, {"prefix": {"addr":
>> "2002:0a00::", "len": 24}}, {"prefix": {"addr": "2002:7f00::", "len":
>> 24}}, {"prefix": {"addr": "2002:ac10::", "len": 28}}, {"prefix":
>> {"addr": "2002:c0a8::", "len": 32}}, {"prefix": {"addr":
>> "2002:a9fe::", "len": 32}}, {"prefix": {"addr": "2002:e000::", "len":
>> 19}}]}}}, {"reject": {"type": "icmpv6", "expr": "addr-
>> unreachable"}}]}}}, {"add": {"rule": {"family": "inet", "table":
>> "firewalld", "chain": "filter_FORWARD", "index": 2, "expr":
>> [{"match": {"left": {"payload": {"protocol": "ip6", "field":
>> "daddr"}}, "op": "==", "right": {"set": [{"prefix": {"addr":
>> "::0.0.0.0", "len": 96}}, {"prefix": {"addr": "::ffff:0.0.0.0",
>> "len": 96}}, {"prefix": {"addr": "2002:0000::", "len": 24}},
>> {"prefix": {"addr": "2002:0a00::", "len": 24}}, {"prefix": {"addr":
>> "2002:7f00::", "len": 24}}, {"prefix": {"addr": "2002:ac10::", "len":
>> 28}}, {"prefix": {"addr": "2002:c0a8::", "len": 32}}, {"prefix":
>> {"addr": "2002:a9fe::", "len": 32}}, {"prefix": {"addr":
>> "2002:e000::", "len": 19}}]}}}, {"reject": {"type": "icmpv6", "expr":
>> "addr-unreachable"}}]}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "filter_IN_public"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_IN_public_pre"}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "filter_IN_public_log"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_IN_public_deny"}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "filter_IN_public_allow"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_IN_public_post"}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump":
>> {"target": "filter_IN_public_pre"}}]}}}, {"add": {"rule": {"family":
>> "inet", "table": "firewalld", "chain": "filter_IN_public", "expr":
>> [{"jump": {"target": "filter_IN_public_log"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain": "filter_IN_public",
>> "expr": [{"jump": {"target": "filter_IN_public_deny"}}]}}}, {"add":
>> {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "filter_IN_public", "expr": [{"jump": {"target":
>> "filter_IN_public_allow"}}]}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump":
>> {"target": "filter_IN_public_post"}}]}}}, {"add": {"rule": {"family":
>> "inet", "table": "firewalld", "chain": "filter_IN_public_allow",
>> "expr": [{"match": {"left": {"payload": {"protocol": "tcp", "field":
>> "dport"}}, "op": "==", "right": 22}}, {"match": {"left": {"ct":
>> {"key": "state"}}, "op": "in", "right": {"set": ["new",
>> "untracked"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family":
>> "inet", "table": "firewalld", "chain": "filter_IN_public_allow",
>> "expr": [{"match": {"left": {"payload": {"protocol": "ip6", "field":
>> "daddr"}}, "op": "==", "right": {"prefix": {"addr": "fe80::", "len":
>> 64}}}}, {"match": {"left": {"payload": {"protocol": "udp", "field":
>> "dport"}}, "op": "==", "right": 546}}, {"match": {"left": {"ct":
>> {"key": "state"}}, "op": "in", "right": {"set": ["new",
>> "untracked"]}}}, {"accept": null}]}}}, {"add": {"chain": {"family":
>> "inet", "table": "firewalld", "name": "filter_FWDO_public"}}},
>> {"add": {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_FWDO_public_pre"}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "filter_FWDO_public_log"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_FWDO_public_deny"}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "filter_FWDO_public_allow"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_FWDO_public_post"}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_FWDO_public", "expr":
>> [{"jump": {"target": "filter_FWDO_public_pre"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_FWDO_public", "expr": [{"jump": {"target":
>> "filter_FWDO_public_log"}}]}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_FWDO_public", "expr":
>> [{"jump": {"target": "filter_FWDO_public_deny"}}]}}}, {"add":
>> {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "filter_FWDO_public", "expr": [{"jump": {"target":
>> "filter_FWDO_public_allow"}}]}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_FWDO_public", "expr":
>> [{"jump": {"target": "filter_FWDO_public_post"}}]}}}, {"add":
>> {"chain": {"family": "ip", "table": "firewalld", "name":
>> "nat_POST_public"}}}, {"add": {"chain": {"family": "ip", "table":
>> "firewalld", "name": "nat_POST_public_pre"}}}, {"add": {"chain":
>> {"family": "ip", "table": "firewalld", "name":
>> "nat_POST_public_log"}}}, {"add": {"chain": {"family": "ip", "table":
>> "firewalld", "name": "nat_POST_public_deny"}}}, {"add": {"chain":
>> {"family": "ip", "table": "firewalld", "name":
>> "nat_POST_public_allow"}}}, {"add": {"chain": {"family": "ip",
>> "table": "firewalld", "name": "nat_POST_public_post"}}}, {"add":
>> {"rule": {"family": "ip", "table": "firewalld", "chain":
>> "nat_POST_public", "expr": [{"jump": {"target":
>> "nat_POST_public_pre"}}]}}}, {"add": {"rule": {"family": "ip",
>> "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump":
>> {"target": "nat_POST_public_log"}}]}}}, {"add": {"rule": {"family":
>> "ip", "table": "firewalld", "chain": "nat_POST_public", "expr":
>> [{"jump": {"target": "nat_POST_public_deny"}}]}}}, {"add": {"rule":
>> {"family": "ip", "table": "firewalld", "chain": "nat_POST_public",
>> "expr": [{"jump": {"target": "nat_POST_public_allow"}}]}}}, {"add":
>> {"rule": {"family": "ip", "table": "firewalld", "chain":
>> "nat_POST_public", "expr": [{"jump": {"target":
>> "nat_POST_public_post"}}]}}}, {"add": {"chain": {"family": "ip6",
>> "table": "firewalld", "name": "nat_POST_public"}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name":
>> "nat_POST_public_pre"}}}, {"add": {"chain": {"family": "ip6",
>> "table": "firewalld", "name": "nat_POST_public_log"}}}, {"add":
>> {"chain": {"family": "ip6", "table": "firewalld", "name":
>> "nat_POST_public_deny"}}}, {"add": {"chain": {"family": "ip6",
>> "table": "firewalld", "name": "nat_POST_public_allow"}}}, {"add":
>> {"chain": {"family": "ip6", "table": "firewalld", "name":
>> "nat_POST_public_post"}}}, {"add": {"rule": {"family": "ip6",
>> "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump":
>> {"target": "nat_POST_public_pre"}}]}}}, {"add": {"rule": {"family":
>> "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr":
>> [{"jump": {"target": "nat_POST_public_log"}}]}}}, {"add": {"rule":
>> {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public",
>> "expr": [{"jump": {"target": "nat_POST_public_deny"}}]}}}, {"add":
>> {"rule": {"family": "ip6", "table": "firewalld", "chain":
>> "nat_POST_public", "expr": [{"jump": {"target":
>> "nat_POST_public_allow"}}]}}}, {"add": {"rule": {"family": "ip6",
>> "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump":
>> {"target": "nat_POST_public_post"}}]}}}, {"add": {"chain": {"family":
>> "inet", "table": "firewalld", "name": "filter_FWDI_public"}}},
>> {"add": {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_FWDI_public_pre"}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "filter_FWDI_public_log"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_FWDI_public_deny"}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "filter_FWDI_public_allow"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "filter_FWDI_public_post"}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_FWDI_public", "expr":
>> [{"jump": {"target": "filter_FWDI_public_pre"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_FWDI_public", "expr": [{"jump": {"target":
>> "filter_FWDI_public_log"}}]}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_FWDI_public", "expr":
>> [{"jump": {"target": "filter_FWDI_public_deny"}}]}}}, {"add":
>> {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "filter_FWDI_public", "expr": [{"jump": {"target":
>> "filter_FWDI_public_allow"}}]}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_FWDI_public", "expr":
>> [{"jump": {"target": "filter_FWDI_public_post"}}]}}}, {"add":
>> {"chain": {"family": "ip", "table": "firewalld", "name":
>> "nat_PRE_public"}}}, {"add": {"chain": {"family": "ip", "table":
>> "firewalld", "name": "nat_PRE_public_pre"}}}, {"add": {"chain":
>> {"family": "ip", "table": "firewalld", "name":
>> "nat_PRE_public_log"}}}, {"add": {"chain": {"family": "ip", "table":
>> "firewalld", "name": "nat_PRE_public_deny"}}}, {"add": {"chain":
>> {"family": "ip", "table": "firewalld", "name":
>> "nat_PRE_public_allow"}}}, {"add": {"chain": {"family": "ip",
>> "table": "firewalld", "name": "nat_PRE_public_post"}}}, {"add":
>> {"rule": {"family": "ip", "table": "firewalld", "chain":
>> "nat_PRE_public", "expr": [{"jump": {"target":
>> "nat_PRE_public_pre"}}]}}}, {"add": {"rule": {"family": "ip",
>> "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump":
>> {"target": "nat_PRE_public_log"}}]}}}, {"add": {"rule": {"family":
>> "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr":
>> [{"jump": {"target": "nat_PRE_public_deny"}}]}}}, {"add": {"rule":
>> {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public",
>> "expr": [{"jump": {"target": "nat_PRE_public_allow"}}]}}}, {"add":
>> {"rule": {"family": "ip", "table": "firewalld", "chain":
>> "nat_PRE_public", "expr": [{"jump": {"target":
>> "nat_PRE_public_post"}}]}}}, {"add": {"chain": {"family": "ip6",
>> "table": "firewalld", "name": "nat_PRE_public"}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name":
>> "nat_PRE_public_pre"}}}, {"add": {"chain": {"family": "ip6", "table":
>> "firewalld", "name": "nat_PRE_public_log"}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name":
>> "nat_PRE_public_deny"}}}, {"add": {"chain": {"family": "ip6",
>> "table": "firewalld", "name": "nat_PRE_public_allow"}}}, {"add":
>> {"chain": {"family": "ip6", "table": "firewalld", "name":
>> "nat_PRE_public_post"}}}, {"add": {"rule": {"family": "ip6", "table":
>> "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target":
>> "nat_PRE_public_pre"}}]}}}, {"add": {"rule": {"family": "ip6",
>> "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump":
>> {"target": "nat_PRE_public_log"}}]}}}, {"add": {"rule": {"family":
>> "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr":
>> [{"jump": {"target": "nat_PRE_public_deny"}}]}}}, {"add": {"rule":
>> {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public",
>> "expr": [{"jump": {"target": "nat_PRE_public_allow"}}]}}}, {"add":
>> {"rule": {"family": "ip6", "table": "firewalld", "chain":
>> "nat_PRE_public", "expr": [{"jump": {"target":
>> "nat_PRE_public_post"}}]}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "mangle_PRE_public"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "mangle_PRE_public_pre"}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "mangle_PRE_public_log"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "mangle_PRE_public_deny"}}}, {"add": {"chain": {"family": "inet",
>> "table": "firewalld", "name": "mangle_PRE_public_allow"}}}, {"add":
>> {"chain": {"family": "inet", "table": "firewalld", "name":
>> "mangle_PRE_public_post"}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump":
>> {"target": "mangle_PRE_public_pre"}}]}}}, {"add": {"rule": {"family":
>> "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr":
>> [{"jump": {"target": "mangle_PRE_public_log"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PRE_public", "expr": [{"jump": {"target":
>> "mangle_PRE_public_deny"}}]}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump":
>> {"target": "mangle_PRE_public_allow"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PRE_public", "expr": [{"jump": {"target":
>> "mangle_PRE_public_post"}}]}}}, {"add": {"rule": {"family": "inet",
>> "table": "firewalld", "chain": "filter_IN_public", "index": 4,
>> "expr": [{"match": {"left": {"meta": {"key": "l4proto"}}, "op": "==",
>> "right": {"set": ["icmp", "icmpv6"]}}}, {"accept": null}]}}}, {"add":
>> {"rule": {"family": "inet", "table": "firewalld", "chain":
>> "filter_FWDI_public", "index": 4, "expr": [{"match": {"left":
>> {"meta": {"key": "l4proto"}}, "op": "==", "right": {"set": ["icmp",
>> "icmpv6"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family":
>> "inet", "table": "firewalld", "chain": "filter_INPUT_ZONES", "expr":
>> [{"goto": {"target": "filter_IN_public"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_FORWARD_OUT_ZONES", "expr": [{"goto": {"target":
>> "filter_FWDO_public"}}]}}}, {"add": {"rule": {"family": "ip",
>> "table": "firewalld", "chain": "nat_POSTROUTING_ZONES", "expr":
>> [{"goto": {"target": "nat_POST_public"}}]}}}, {"add": {"rule":
>> {"family": "ip6", "table": "firewalld", "chain":
>> "nat_POSTROUTING_ZONES", "expr": [{"goto": {"target":
>> "nat_POST_public"}}]}}}, {"add": {"rule": {"family": "inet", "table":
>> "firewalld", "chain": "filter_FORWARD_IN_ZONES", "expr": [{"goto":
>> {"target": "filter_FWDI_public"}}]}}}, {"add": {"rule": {"family":
>> "ip", "table": "firewalld", "chain": "nat_PREROUTING_ZONES", "expr":
>> [{"goto": {"target": "nat_PRE_public"}}]}}}, {"add": {"rule":
>> {"family": "ip6", "table": "firewalld", "chain":
>> "nat_PREROUTING_ZONES", "expr": [{"goto": {"target":
>> "nat_PRE_public"}}]}}}, {"add": {"rule": {"family": "inet", "table":
>> "firewalld", "chain": "mangle_PREROUTING_ZONES", "expr": [{"goto":
>> {"target": "mangle_PRE_public"}}]}}}, {"add": {"chain": {"family":
>> "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-
>> ipv6"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld",
>> "name": "filter_IN_policy_allow-host-ipv6_pre"}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "filter_IN_policy_allow-host-ipv6_log"}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "filter_IN_policy_allow-host-ipv6_deny"}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "filter_IN_policy_allow-host-ipv6_allow"}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "filter_IN_policy_allow-host-ipv6_post"}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "filter_IN_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "filter_IN_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "filter_IN_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "filter_IN_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "filter_IN_policy_allow-host-ipv6_post"}}]}}}, {"add": {"chain":
>> {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-
>> host-ipv6"}}}, {"add": {"chain": {"family": "ip", "table":
>> "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_pre"}}}, {"add":
>> {"chain": {"family": "ip", "table": "firewalld", "name":
>> "nat_PRE_policy_allow-host-ipv6_log"}}}, {"add": {"chain": {"family":
>> "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-
>> ipv6_deny"}}}, {"add": {"chain": {"family": "ip", "table":
>> "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_allow"}}},
>> {"add": {"chain": {"family": "ip", "table": "firewalld", "name":
>> "nat_PRE_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family":
>> "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-
>> ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-
>> ipv6_pre"}}]}}}, {"add": {"rule": {"family": "ip", "table":
>> "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr":
>> [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_log"}}]}}},
>> {"add": {"rule": {"family": "ip", "table": "firewalld", "chain":
>> "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "nat_PRE_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule":
>> {"family": "ip", "table": "firewalld", "chain":
>> "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "nat_PRE_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule":
>> {"family": "ip", "table": "firewalld", "chain":
>> "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "nat_PRE_policy_allow-host-ipv6_post"}}]}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name":
>> "nat_PRE_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family":
>> "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-
>> ipv6_pre"}}}, {"add": {"chain": {"family": "ip6", "table":
>> "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_log"}}}, {"add":
>> {"chain": {"family": "ip6", "table": "firewalld", "name":
>> "nat_PRE_policy_allow-host-ipv6_deny"}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name":
>> "nat_PRE_policy_allow-host-ipv6_allow"}}}, {"add": {"chain":
>> {"family": "ip6", "table": "firewalld", "name":
>> "nat_PRE_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family":
>> "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-
>> ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-
>> ipv6_pre"}}]}}}, {"add": {"rule": {"family": "ip6", "table":
>> "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr":
>> [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_log"}}]}}},
>> {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain":
>> "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "nat_PRE_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule":
>> {"family": "ip6", "table": "firewalld", "chain":
>> "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "nat_PRE_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule":
>> {"family": "ip6", "table": "firewalld", "chain":
>> "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "nat_PRE_policy_allow-host-ipv6_post"}}]}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "mangle_PRE_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family":
>> "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-
>> ipv6_pre"}}}, {"add": {"chain": {"family": "inet", "table":
>> "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_log"}}},
>> {"add": {"chain": {"family": "inet", "table": "firewalld", "name":
>> "mangle_PRE_policy_allow-host-ipv6_deny"}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "mangle_PRE_policy_allow-host-ipv6_allow"}}}, {"add": {"chain":
>> {"family": "inet", "table": "firewalld", "name":
>> "mangle_PRE_policy_allow-host-ipv6_post"}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "mangle_PRE_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "mangle_PRE_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "mangle_PRE_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "mangle_PRE_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target":
>> "mangle_PRE_policy_allow-host-ipv6_post"}}]}}}, {"insert": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_INPUT_POLICIES_pre", "expr": [{"jump": {"target":
>> "filter_IN_policy_allow-host-ipv6"}}]}}}, {"insert": {"rule":
>> {"family": "ip", "table": "firewalld", "chain":
>> "nat_PREROUTING_POLICIES_pre", "expr": [{"jump": {"target":
>> "nat_PRE_policy_allow-host-ipv6"}}]}}}, {"insert": {"rule":
>> {"family": "ip6", "table": "firewalld", "chain":
>> "nat_PREROUTING_POLICIES_pre", "expr": [{"jump": {"target":
>> "nat_PRE_policy_allow-host-ipv6"}}]}}}, {"insert": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "mangle_PREROUTING_POLICIES_pre", "expr": [{"jump": {"target":
>> "mangle_PRE_policy_allow-host-ipv6"}}]}}}, {"add": {"rule":
>> {"family": "inet", "table": "firewalld", "chain":
>> "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match": {"left":
>> {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}},
>> {"match": {"left": {"payload": {"protocol": "icmpv6", "field":
>> "type"}}, "op": "==", "right": "nd-neighbor-advert"}}, {"accept":
>> null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld",
>> "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match":
>> {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}},
>> {"match": {"left": {"payload": {"protocol": "icmpv6", "field":
>> "type"}}, "op": "==", "right": "nd-neighbor-solicit"}}, {"accept":
>> null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld",
>> "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match":
>> {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}},
>> {"match": {"left": {"payload": {"protocol": "icmpv6", "field":
>> "type"}}, "op": "==", "right": "nd-router-advert"}}, {"accept":
>> null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld",
>> "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match":
>> {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}},
>> {"match": {"left": {"payload": {"protocol": "icmpv6", "field":
>> "type"}}, "op": "==", "right": "nd-redirect"}}, {"accept":
>> null}]}}}]}
>>   
>>
>> -- 
>> Regards,
>> Sateesh
>>
>>
>>
>
> -=-=-=-=-=-=-=-=-=-=-=-
> Links: You receive all messages sent to this group.
> View/Reply Online (#56567): https://lists.yoctoproject.org/g/yocto/message/56567
> Mute This Topic: https://lists.yoctoproject.org/mt/90079295/3616765
> Mute #yocto:https://lists.yoctoproject.org/g/yocto/mutehashtag/yocto
> Group Owner: yocto+owner@lists.yoctoproject.org
> Unsubscribe: https://lists.yoctoproject.org/g/yocto/unsub [randy.macleod@windriver.com]
> -=-=-=-=-=-=-=-=-=-=-=-
>

-- 
# Randy MacLeod
# Wind River Linux



^ permalink raw reply	[flat|nested] 3+ messages in thread
* firewalld isssue  #yocto
@ 2022-03-28  6:16 sateesh m
  0 siblings, 0 replies; 3+ messages in thread
From: sateesh m @ 2022-03-28  6:16 UTC (permalink / raw)
  To: yocto

[-- Attachment #1: Type: text/plain, Size: 32863 bytes --]

Hi Team,

I have built a custom image core-image-base with nftables,firewalld,json packages support. I am using firewalld_0.9.3 sources depends nftables-python is present. But I am getting error python-nftables. Can you please guide me on what dependent I missed here? If suppose firewalld should work means, What packages should  I install?

But while running firewalld status is always failed mode.
Using $firewall-cmd --reload  I am facing a  problem

Error: COMMAND_FAILED: 'python-nftables' failed: internal:0:0-0: Error: Could not process rule: No such file or directory

JSON blob:
{"nftables": [{"metainfo": {"json_schema_version": 1}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "raw_PREROUTING", "type": "filter", "hook": "prerouting", "prio": -290}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PREROUTING", "type": "filter", "hook": "prerouting", "prio": -140}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PREROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING", "expr": [{"jump": {"target": "mangle_PREROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PREROUTING_ZONES"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING", "expr": [{"jump": {"target": "mangle_PREROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PREROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING", "expr": [{"jump": {"target": "mangle_PREROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PREROUTING", "type": "nat", "hook": "prerouting", "prio": -90}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PREROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PREROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PREROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POSTROUTING", "type": "nat", "hook": "postrouting", "prio": 110}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POSTROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POSTROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POSTROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PREROUTING", "type": "nat", "hook": "prerouting", "prio": -90}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PREROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PREROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PREROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING", "expr": [{"jump": {"target": "nat_PREROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POSTROUTING", "type": "nat", "hook": "postrouting", "prio": 110}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POSTROUTING_POLICIES_pre"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POSTROUTING_ZONES"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_ZONES"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POSTROUTING_POLICIES_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POSTROUTING", "expr": [{"jump": {"target": "nat_POSTROUTING_POLICIES_post"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_INPUT", "type": "filter", "hook": "input", "prio": 10}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD", "type": "filter", "hook": "forward", "prio": 10}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_OUTPUT", "type": "filter", "hook": "output", "prio": 10}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["established", "related"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"match": {"left": {"ct": {"key": "status"}}, "op": "in", "right": "dnat"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"match": {"left": {"meta": {"key": "iifname"}}, "op": "==", "right": "lo"}}, {"accept": null}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_INPUT_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"jump": {"target": "filter_INPUT_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_INPUT_ZONES"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"jump": {"target": "filter_INPUT_ZONES"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_INPUT_POLICIES_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"jump": {"target": "filter_INPUT_POLICIES_post"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["invalid"]}}}, {"drop": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT", "expr": [{"reject": {"type": "icmpx", "expr": "admin-prohibited"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["established", "related"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"match": {"left": {"ct": {"key": "status"}}, "op": "in", "right": "dnat"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"match": {"left": {"meta": {"key": "iifname"}}, "op": "==", "right": "lo"}}, {"accept": null}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump": {"target": "filter_FORWARD_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD_IN_ZONES"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump": {"target": "filter_FORWARD_IN_ZONES"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD_OUT_ZONES"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump": {"target": "filter_FORWARD_OUT_ZONES"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FORWARD_POLICIES_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"jump": {"target": "filter_FORWARD_POLICIES_post"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["invalid"]}}}, {"drop": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "expr": [{"reject": {"type": "icmpx", "expr": "admin-prohibited"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_OUTPUT", "expr": [{"match": {"left": {"meta": {"key": "oifname"}}, "op": "==", "right": "lo"}}, {"accept": null}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_OUTPUT_POLICIES_pre"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_OUTPUT", "expr": [{"jump": {"target": "filter_OUTPUT_POLICIES_pre"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_OUTPUT_POLICIES_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_OUTPUT", "expr": [{"jump": {"target": "filter_OUTPUT_POLICIES_post"}}]}}}, {"insert": {"rule": {"family": "inet", "table": "firewalld", "chain": "raw_PREROUTING", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"fib": {"flags": ["saddr", "iif"], "result": "oif"}}, "op": "==", "right": false}}, {"drop": null}]}}}, {"insert": {"rule": {"family": "inet", "table": "firewalld", "chain": "raw_PREROUTING", "expr": [{"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": {"set": ["nd-router-advert", "nd-neighbor-solicit"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_OUTPUT", "index": 0, "expr": [{"match": {"left": {"payload": {"protocol": "ip6", "field": "daddr"}}, "op": "==", "right": {"set": [{"prefix": {"addr": "::0.0.0.0", "len": 96}}, {"prefix": {"addr": "::ffff:0.0.0.0", "len": 96}}, {"prefix": {"addr": "2002:0000::", "len": 24}}, {"prefix": {"addr": "2002:0a00::", "len": 24}}, {"prefix": {"addr": "2002:7f00::", "len": 24}}, {"prefix": {"addr": "2002:ac10::", "len": 28}}, {"prefix": {"addr": "2002:c0a8::", "len": 32}}, {"prefix": {"addr": "2002:a9fe::", "len": 32}}, {"prefix": {"addr": "2002:e000::", "len": 19}}]}}}, {"reject": {"type": "icmpv6", "expr": "addr-unreachable"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD", "index": 2, "expr": [{"match": {"left": {"payload": {"protocol": "ip6", "field": "daddr"}}, "op": "==", "right": {"set": [{"prefix": {"addr": "::0.0.0.0", "len": 96}}, {"prefix": {"addr": "::ffff:0.0.0.0", "len": 96}}, {"prefix": {"addr": "2002:0000::", "len": 24}}, {"prefix": {"addr": "2002:0a00::", "len": 24}}, {"prefix": {"addr": "2002:7f00::", "len": 24}}, {"prefix": {"addr": "2002:ac10::", "len": 28}}, {"prefix": {"addr": "2002:c0a8::", "len": 32}}, {"prefix": {"addr": "2002:a9fe::", "len": 32}}, {"prefix": {"addr": "2002:e000::", "len": 19}}]}}}, {"reject": {"type": "icmpv6", "expr": "addr-unreachable"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_public_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "expr": [{"jump": {"target": "filter_IN_public_post"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public_allow", "expr": [{"match": {"left": {"payload": {"protocol": "tcp", "field": "dport"}}, "op": "==", "right": 22}}, {"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["new", "untracked"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public_allow", "expr": [{"match": {"left": {"payload": {"protocol": "ip6", "field": "daddr"}}, "op": "==", "right": {"prefix": {"addr": "fe80::", "len": 64}}}}, {"match": {"left": {"payload": {"protocol": "udp", "field": "dport"}}, "op": "==", "right": 546}}, {"match": {"left": {"ct": {"key": "state"}}, "op": "in", "right": {"set": ["new", "untracked"]}}}, {"accept": null}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDO_public_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDO_public", "expr": [{"jump": {"target": "filter_FWDO_public_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_pre"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_log"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_deny"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_allow"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_POST_public_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_pre"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_log"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_deny"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_allow"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_pre"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_log"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_deny"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_allow"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_POST_public_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_pre"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_log"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_deny"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_allow"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POST_public", "expr": [{"jump": {"target": "nat_POST_public_post"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_FWDI_public_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "expr": [{"jump": {"target": "filter_FWDI_public_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_pre"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_log"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_deny"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_allow"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_public_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_pre"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_log"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_deny"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_allow"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_pre"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_log"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_deny"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_allow"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_public_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_pre"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_log"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_deny"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_allow"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_public", "expr": [{"jump": {"target": "nat_PRE_public_post"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_public_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_public", "expr": [{"jump": {"target": "mangle_PRE_public_post"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_public", "index": 4, "expr": [{"match": {"left": {"meta": {"key": "l4proto"}}, "op": "==", "right": {"set": ["icmp", "icmpv6"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FWDI_public", "index": 4, "expr": [{"match": {"left": {"meta": {"key": "l4proto"}}, "op": "==", "right": {"set": ["icmp", "icmpv6"]}}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT_ZONES", "expr": [{"goto": {"target": "filter_IN_public"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD_OUT_ZONES", "expr": [{"goto": {"target": "filter_FWDO_public"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_POSTROUTING_ZONES", "expr": [{"goto": {"target": "nat_POST_public"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_POSTROUTING_ZONES", "expr": [{"goto": {"target": "nat_POST_public"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_FORWARD_IN_ZONES", "expr": [{"goto": {"target": "filter_FWDI_public"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING_ZONES", "expr": [{"goto": {"target": "nat_PRE_public"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING_ZONES", "expr": [{"goto": {"target": "nat_PRE_public"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING_ZONES", "expr": [{"goto": {"target": "mangle_PRE_public"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "filter_IN_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6_post"}}]}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_pre"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_log"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_deny"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_allow"}}}, {"add": {"chain": {"family": "ip", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_post"}}]}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_pre"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_log"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_deny"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_allow"}}}, {"add": {"chain": {"family": "ip6", "table": "firewalld", "name": "nat_PRE_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6_post"}}]}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_pre"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_log"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_deny"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_allow"}}}, {"add": {"chain": {"family": "inet", "table": "firewalld", "name": "mangle_PRE_policy_allow-host-ipv6_post"}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_pre"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_log"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_deny"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_allow"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PRE_policy_allow-host-ipv6", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6_post"}}]}}}, {"insert": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_INPUT_POLICIES_pre", "expr": [{"jump": {"target": "filter_IN_policy_allow-host-ipv6"}}]}}}, {"insert": {"rule": {"family": "ip", "table": "firewalld", "chain": "nat_PREROUTING_POLICIES_pre", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6"}}]}}}, {"insert": {"rule": {"family": "ip6", "table": "firewalld", "chain": "nat_PREROUTING_POLICIES_pre", "expr": [{"jump": {"target": "nat_PRE_policy_allow-host-ipv6"}}]}}}, {"insert": {"rule": {"family": "inet", "table": "firewalld", "chain": "mangle_PREROUTING_POLICIES_pre", "expr": [{"jump": {"target": "mangle_PRE_policy_allow-host-ipv6"}}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": "nd-neighbor-advert"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": "nd-neighbor-solicit"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": "nd-router-advert"}}, {"accept": null}]}}}, {"add": {"rule": {"family": "inet", "table": "firewalld", "chain": "filter_IN_policy_allow-host-ipv6_allow", "expr": [{"match": {"left": {"meta": {"key": "nfproto"}}, "op": "==", "right": "ipv6"}}, {"match": {"left": {"payload": {"protocol": "icmpv6", "field": "type"}}, "op": "==", "right": "nd-redirect"}}, {"accept": null}]}}}]}

--
Regards,
Sateesh

[-- Attachment #2: Type: text/html, Size: 33079 bytes --]

^ permalink raw reply	[flat|nested] 3+ messages in thread
end of thread, other threads:[~2022-03-29 23:15 UTC | newest]

Thread overview: 3+ messages (download: mbox.gz / follow: Atom feed)
-- links below jump to the message on this page --
2022-03-28  6:39 firewalld isssue #yocto sateesh m
     [not found] ` <d168b6bb0a3262532c340c23b7a7cc495a78334a.camel@delisys.ch>
2022-03-29 23:15   ` [yocto] " Randy MacLeod
  -- strict thread matches above, loose matches on Subject: below --
2022-03-28  6:16 sateesh m

