[
    "* example where \"RDEPENDS\" is including a \"virtual/\" run-time dependency\n@ 2023-10-17 11:56 Robert P. J. Day\n  2023-10-17 13:36 ` [yocto] \" Ross Burton\n  0 siblings, 1 reply; 2+ messages in thread\nFrom: Robert P. J. Day @ 2023-10-17 11:56 UTC (permalink / raw)\n  To: Yocto discussion list\n\n\n  while the dev manual insists that \"virtual/\" dependencies are only\nfor build-time deps and not run-time deps, i ran across this example\non the meta-intel master branch, under\ndynamic-layers/openembedded-layer/recipes-oneapi/ (blank lines added\nfor clarity):\n\n$ grep -r \"RDEPENDS.*virtual/\" *\n\ncompiler/intel-oneapi-compiler_2023.0.0-25370.bb:RDEPENDS:${PN} +=\n\"perl elfutils virtual/opencl-icd level-zero-loader zlib tbb libelf\nsetup-intel-oneapi-env\"\n\ndpcpp-compiler/intel-oneapi-dpcpp-cpp-runtime_2023.1.0-46305.bb:RDEPENDS:${PN}\n+= \"virtual/opencl-icd zlib tbb level-zero-loader bash tcsh\"\n\nmkl/intel-oneapi-mkl_2023.0.0-25398.bb:RDEPENDS:${PN} += \"bash tbb\nintel-oneapi-compiler setup-intel-oneapi-env virtual/opencl-icd\"\n\n  i have no opinion on it, just observing that it seems to fly in the\nface of the rules laid down in the dev manual:\n\nhttps://docs.yoctoproject.org/dev-manual/new-recipe.html#using-virtual-providers\n\nrday\n\n\n^ permalink raw reply\t[flat|nested] 2+ messages in thread",
    "* Re: [yocto] example where \"RDEPENDS\" is including a \"virtual/\" run-time dependency\n  2023-10-17 11:56 example where \"RDEPENDS\" is including a \"virtual/\" run-time dependency Robert P. J. Day\n@ 2023-10-17 13:36 ` Ross Burton\n  0 siblings, 0 replies; 2+ messages in thread\nFrom: Ross Burton @ 2023-10-17 13:36 UTC (permalink / raw)\n  To: rpjday; +Cc: Yocto discussion list\n\nOn 17 Oct 2023, at 12:56, Robert P. J. Day via lists.yoctoproject.org <rpjday=crashcourse.ca@lists.yoctoproject.org> wrote:\n> \n> \n>  while the dev manual insists that \"virtual/\" dependencies are only\n> for build-time deps and not run-time deps, i ran across this example\n> on the meta-intel master branch, under\n> dynamic-layers/openembedded-layer/recipes-oneapi/ (blank lines added\n> for clarity):\n> \n> $ grep -r \"RDEPENDS.*virtual/\" *\n> \n> compiler/intel-oneapi-compiler_2023.0.0-25370.bb:RDEPENDS:${PN} +=\n> \"perl elfutils virtual/opencl-icd level-zero-loader zlib tbb libelf\n> setup-intel-oneapi-env\"\n> \n> dpcpp-compiler/intel-oneapi-dpcpp-cpp-runtime_2023.1.0-46305.bb:RDEPENDS:${PN}\n> += \"virtual/opencl-icd zlib tbb level-zero-loader bash tcsh\"\n> \n> mkl/intel-oneapi-mkl_2023.0.0-25398.bb:RDEPENDS:${PN} += \"bash tbb\n> intel-oneapi-compiler setup-intel-oneapi-env virtual/opencl-icd\"\n> \n>  i have no opinion on it, just observing that it seems to fly in the\n> face of the rules laid down in the dev manual:\n\nCorrect, you’ve found a bug.\n\nIt’s unconventional to use virtual/ as runtime names. The root of the bug is here:\n\nmeta-oe/recipes-core/opencl/opencl-icd-loader_git.bb:RPROVIDES:${PN} = \"virtual/opencl-icd”\n\nThat should be virtual-opencl-icd and the change pushed to all the dependent recipes.\n\nRoss\n\n^ permalink raw reply\t[flat|nested] 2+ messages in thread",
    "end of thread, other threads:[~2023-10-17 13:37 UTC | newest]\n\nThread overview: 2+ messages (download: mbox.gz / follow: Atom feed)\n-- links below jump to the message on this page --\n2023-10-17 11:56 example where \"RDEPENDS\" is including a \"virtual/\" run-time dependency Robert P. J. Day\n2023-10-17 13:36 ` [yocto] \" Ross Burton\n"
]