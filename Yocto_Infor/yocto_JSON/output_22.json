[
    "* Re: [yocto] [yocto-autobuilder-helper][PATCH v2] meta-oe-mirror: Use a 2 step job to fetch and verify meta-openembedded mirror.\n       [not found] <178F37AA9B1F0484.14388@lists.yoctoproject.org>\n@ 2023-10-18 13:49 ` David PIERRET\n  0 siblings, 0 replies; 4+ messages in thread\nFrom: David PIERRET @ 2023-10-18 13:49 UTC (permalink / raw)\n  To: david.pierret; +Cc: yocto, Yoann Congal\n\nHi,\nThis patch is v2 for this one :\nhttps://lists.yoctoproject.org/g/yocto/message/61306\n\nRegards\nDavid\n\nOn Wed, Oct 18, 2023 at 3:46â€¯PM David Pierret via\nlists.yoctoproject.org <david.pierret=smile.fr@lists.yoctoproject.org>\nwrote:\n>\n> Inspired from trigger-build and trigger-build-post-trigger\n> The branch must be selected on build configuration.\n>\n> Signed-off-by: David Pierret <david.pierret@smile.fr>\n> Reviewed-by: Yoann Congal <yoann.congal@smile.fr>\n> ---\n>  config.json | 30 ++++++++++++++++++++++++++++++\n>  1 file changed, 30 insertions(+)\n>\n> diff --git a/config.json b/config.json\n> index 3acb710..9e6779f 100644\n> --- a/config.json\n> +++ b/config.json\n> @@ -1420,6 +1420,36 @@\n>                  \"${SCRIPTSDIR}/setup-auh ${HELPERBUILDDIR}; ${SCRIPTSDIR}/run-auh ${HELPERBUILDDIR} ${WEBPUBLISH_DIR}/pub/auh/\"\n>              ]\n>          },\n> +        \"meta-oe-mirror\" : {\n> +            \"SDKMACHINE\" : \"x86_64\",\n> +            \"MACHINE\" : \"qemux86-64\",\n> +            \"NEEDREPOS\" : [\"poky\", \"meta-openembedded\"],\n> +            \"ADDLAYER\" : [\n> +                \"${BUILDDIR}/../meta-selftest\",\n> +\n> +                \"${BUILDDIR}/../meta-openembedded/meta-oe\",\n> +                \"${BUILDDIR}/../meta-openembedded/meta-python\",\n> +                \"${BUILDDIR}/../meta-openembedded/meta-perl\",\n> +                \"${BUILDDIR}/../meta-openembedded/meta-networking\",\n> +                \"${BUILDDIR}/../meta-openembedded/meta-multimedia\",\n> +                \"${BUILDDIR}/../meta-openembedded/meta-gnome\",\n> +                \"${BUILDDIR}/../meta-openembedded/meta-xfce\",\n> +                \"${BUILDDIR}/../meta-openembedded/meta-filesystems\",\n> +                \"${BUILDDIR}/../meta-openembedded/meta-initramfs\",\n> +                \"${BUILDDIR}/../meta-openembedded/meta-webserver\"\n> +            ],\n> +            \"step1\" : {\n> +                \"shortname\" : \"Sources pre-fetching\",\n> +                \"BBTARGETS\" : \"universe -c fetch -k\",\n> +                \"extravars\" : [\n> +                    \"SOURCE_MIRROR_FETCH = '1'\"\n> +                ]\n> +            },\n> +            \"step2\" : {\n> +                    \"shortname\" : \"Source Mirror Selftest\",\n> +                    \"EXTRACMDS\" : [\"${SCRIPTSDIR}/checkvnc; DISPLAY=:1 oe-selftest -r buildoptions.SourceMirroring.test_yocto_source_mirror\"],\n> +            }\n> +        },\n>          \"a-quick\" : {\n>              \"TEMPLATE\" : \"trigger-build\"\n>          },\n> --\n> 2.39.2\n>\n>\n> -=-=-=-=-=-=-=-=-=-=-=-\n> Links: You receive all messages sent to this group.\n> View/Reply Online (#61400): https://lists.yoctoproject.org/g/yocto/message/61400\n> Mute This Topic: https://lists.yoctoproject.org/mt/102039136/7911180\n> Group Owner: yocto+owner@lists.yoctoproject.org\n> Unsubscribe: https://lists.yoctoproject.org/g/yocto/unsub [david.pierret@smile.fr]\n> -=-=-=-=-=-=-=-=-=-=-=-\n>\n\n\n^ permalink raw reply\t[flat|nested] 4+ messages in thread",
    "* Re: [yocto] [yocto-autobuilder-helper][PATCH v2] meta-oe-mirror: Use a 2 step job to fetch and verify meta-openembedded mirror.\n       [not found]   ` <178F8004D1FBCB68.20272@lists.yoctoproject.org>\n@ 2023-10-19 13:47     ` Richard Purdie\n  0 siblings, 0 replies; 4+ messages in thread\nFrom: Richard Purdie @ 2023-10-19 13:47 UTC (permalink / raw)\n  To: David Pierret, yocto, Khem Raj; +Cc: Yoann Congal, Steve Sakoman\n\nOn Thu, 2023-10-19 at 12:52 +0100, Richard Purdie via\nlists.yoctoproject.org wrote:\n> On Thu, 2023-10-19 at 11:58 +0100, Richard Purdie via\n> lists.yoctoproject.org wrote:\n> > On Wed, 2023-10-18 at 15:46 +0200, David Pierret wrote:\n> > > Inspired from trigger-build and trigger-build-post-trigger\n> > > The branch must be selected on build configuration.\n> > > \n> > > Signed-off-by: David Pierret <david.pierret@smile.fr>\n> > > Reviewed-by: Yoann Congal <yoann.congal@smile.fr>\n> > > ---\n> > >  config.json | 30 ++++++++++++++++++++++++++++++\n> > >  1 file changed, 30 insertions(+)\n> > \n> > I fixed a json parsing issue and merged. I also added the autobuilder2\n> > config to support it. A test build is now running here:\n> > \n> > https://autobuilder.yoctoproject.org/typhoon/#/builders/156/builds/1\n> \n> That failed with a single fetch failure which isn't related to this\n> patch.\n> \n> I've therefore pulled the patch into the dunfell, kirkstone and\n> mickledore branches.\n> \n> Autobuilder enabling is here:\n> \n> https://git.yoctoproject.org/yocto-autobuilder2/commit/?id=93c034d436cbe631db2354a945850c3e97dd46bd\n> \n> with scheduling for the all branches here:\n> \n> https://git.yoctoproject.org/yocto-autobuilder2/commit/?id=94f2878f64f11993e8de8295bb1b46202b741019\n\nMaster reran and succeeded this time but is showing a lot of warnings:\n\nhttps://autobuilder.yoctoproject.org/typhoon/#/builders/156/builds/2/steps/12/logs/warnings\n\nKirkstone has an issue with grubby-git and a missing SRCREV:\n\nhttps://autobuilder.yoctoproject.org/typhoon/#/builders/156/builds/3/steps/13/logs/stdio\n(plus warnings)\n\nMickledore has an issue with uutils-coreutils:\n\nhttps://autobuilder.yoctoproject.org/typhoon/#/builders/156/builds/5\n(plus warnings)\n\nDunfell broke with space issues so I reran it here:\n\nhttps://autobuilder.yoctoproject.org/typhoon/#/builders/156/builds/6\n\nSo we're making progress but the meta-oe layer maintainers may need\nsome tweaks on the same branches or we need to see some missing files\ninto the mirror for those branches. We also need to find a way to\naddress the warnings.\n\nCheers,\n\nRichard\n\n\n\n\n^ permalink raw reply\t[flat|nested] 4+ messages in thread",
    "* Re: [yocto] [yocto-autobuilder-helper][PATCH v2] meta-oe-mirror: Use a 2 step job to fetch and verify meta-openembedded mirror.\n       [not found] ` <178F7D157564D399.11247@lists.yoctoproject.org>\n@ 2023-10-19 11:52   ` Richard Purdie\n       [not found]   ` <178F8004D1FBCB68.20272@lists.yoctoproject.org>\n  1 sibling, 0 replies; 4+ messages in thread\nFrom: Richard Purdie @ 2023-10-19 11:52 UTC (permalink / raw)\n  To: David Pierret, yocto; +Cc: Yoann Congal, Steve Sakoman\n\nOn Thu, 2023-10-19 at 11:58 +0100, Richard Purdie via\nlists.yoctoproject.org wrote:\n> On Wed, 2023-10-18 at 15:46 +0200, David Pierret wrote:\n> > Inspired from trigger-build and trigger-build-post-trigger\n> > The branch must be selected on build configuration.\n> > \n> > Signed-off-by: David Pierret <david.pierret@smile.fr>\n> > Reviewed-by: Yoann Congal <yoann.congal@smile.fr>\n> > ---\n> >  config.json | 30 ++++++++++++++++++++++++++++++\n> >  1 file changed, 30 insertions(+)\n> \n> I fixed a json parsing issue and merged. I also added the autobuilder2\n> config to support it. A test build is now running here:\n> \n> https://autobuilder.yoctoproject.org/typhoon/#/builders/156/builds/1\n\nThat failed with a single fetch failure which isn't related to this\npatch.\n\nI've therefore pulled the patch into the dunfell, kirkstone and\nmickledore branches.\n\nAutobuilder enabling is here:\n\nhttps://git.yoctoproject.org/yocto-autobuilder2/commit/?id=93c034d436cbe631db2354a945850c3e97dd46bd\n\nwith scheduling for the all branches here:\n\nhttps://git.yoctoproject.org/yocto-autobuilder2/commit/?id=94f2878f64f11993e8de8295bb1b46202b741019\n\nCheers,\n\nRichard\n\n\n^ permalink raw reply\t[flat|nested] 4+ messages in thread",
    "* Re: [yocto] [yocto-autobuilder-helper][PATCH v2] meta-oe-mirror: Use a 2 step job to fetch and verify meta-openembedded mirror.\n  2023-10-18 13:46 David Pierret\n@ 2023-10-19 10:58 ` Richard Purdie\n       [not found] ` <178F7D157564D399.11247@lists.yoctoproject.org>\n  1 sibling, 0 replies; 4+ messages in thread\nFrom: Richard Purdie @ 2023-10-19 10:58 UTC (permalink / raw)\n  To: David Pierret, yocto; +Cc: Yoann Congal\n\nOn Wed, 2023-10-18 at 15:46 +0200, David Pierret wrote:\n> Inspired from trigger-build and trigger-build-post-trigger\n> The branch must be selected on build configuration.\n> \n> Signed-off-by: David Pierret <david.pierret@smile.fr>\n> Reviewed-by: Yoann Congal <yoann.congal@smile.fr>\n> ---\n>  config.json | 30 ++++++++++++++++++++++++++++++\n>  1 file changed, 30 insertions(+)\n\nI fixed a json parsing issue and merged. I also added the autobuilder2\nconfig to support it. A test build is now running here:\n\nhttps://autobuilder.yoctoproject.org/typhoon/#/builders/156/builds/1\n\nCheers,\n\nRichard\n\n\n^ permalink raw reply\t[flat|nested] 4+ messages in thread",
    "end of thread, other threads:[~2023-10-19 13:47 UTC | newest]\n\nThread overview: 4+ messages (download: mbox.gz / follow: Atom feed)\n-- links below jump to the message on this page --\n     [not found] <178F37AA9B1F0484.14388@lists.yoctoproject.org>\n2023-10-18 13:49 ` [yocto] [yocto-autobuilder-helper][PATCH v2] meta-oe-mirror: Use a 2 step job to fetch and verify meta-openembedded mirror David PIERRET\n2023-10-18 13:46 David Pierret\n2023-10-19 10:58 ` [yocto] \" Richard Purdie\n     [not found] ` <178F7D157564D399.11247@lists.yoctoproject.org>\n2023-10-19 11:52   ` Richard Purdie\n     [not found]   ` <178F8004D1FBCB68.20272@lists.yoctoproject.org>\n2023-10-19 13:47     ` Richard Purdie\n"
]